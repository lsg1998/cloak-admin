import{a5 as Fe,d as Qe,af as ra,h as v,ag as ca,D as Cl,ah as pa,ai as _a,s as ue,r as w,c as _,o as d,b as l,a as o,g as x,R as D,n as pe,w as t,F as A,u as y,as as Il,bk as ma,U as Ze,q as fa,a7 as Ul,N as f,$ as _e,P as Ve,a8 as dl,Z as va,Q as ga,bl as ya,t as m,f as T,_ as zl,x as He,e as u,E as $l,W as rl,aM as We,aq as Ge,aL as Pl,ar as ka,ay as ba,bm as ha,b0 as wa,bn as Dl,bo as Kl,G as Ml,bp as Va,bq as cl,aY as xa,a0 as xe}from"./index-CChpJfj1.js";import{d as Sa,c as Ca,u as Ua,a as za,g as Al,b as $a,e as Tl,f as Ll,h as Pa}from"./product-KO2-6g0n.js";import{c as Da}from"./cloakRule-BQzphWsr.js";import{a as Ka}from"./domainConfig-B2N6bAGg.js";import{W as Ma}from"./index-BGSl7Odg.js";import{_ as Bl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./upload-C8FyJ6dP.js";const Aa=L=>Fe.get(`/admin/products/${L}/skus`),Fl=L=>Fe.post("/admin/product-skus",L),Ta=(L,de)=>Fe.put(`/admin/product-skus/${L}`,de),La=L=>Fe.delete(`/admin/product-skus/${L}`),Fa={class:"product-upload-box"},Ea=["src"],Ia={key:1,class:"upload-empty"},Ba={class:"el-upload__tip"},Ra=Qe({name:"ProductUploadImg"}),ja=Qe({...Ra,props:{imageUrl:{default:""},drag:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},fileSize:{default:2},fileType:{default:()=>["image/jpeg","image/png","image/gif","image/webp"]},height:{default:"150px"},width:{default:"150px"},borderRadius:{default:"8px"}},emits:["update:imageUrl","update:image-url"],setup(L,{emit:de}){ra(C=>({v5f6650a9:C.borderRadius,v6111d75b:C.width,b14bcb9c:C.height}));const X=L,G=v("id-"+ca()),Y=v(!1),F=Cl(pa,void 0),ee=Cl(_a,void 0),B=ue(()=>X.disabled||(F==null?void 0:F.disabled)),me=ue(()=>"https://goworldshop.shop/admin/upload/image"),le=de,Se=()=>{le("update:imageUrl",""),le("update:image-url","")},te=()=>{const C=document.querySelector(`#${G.value} .el-upload__input`);C&&C.dispatchEvent(new MouseEvent("click"))},Ce=C=>{const $=C.type.startsWith("image/"),q=C.size/1024/1024<X.fileSize,N=X.fileType.includes(C.type);return $?N?q?!0:(f.error(`å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ ${X.fileSize}MB!`),!1):(f.error(`ä¸Šä¼ å›¾ç‰‡æ ¼å¼ä¸æ­£ç¡®ï¼Œæ”¯æŒæ ¼å¼ï¼š${X.fileType.join(", ")}`),!1):(f.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},Ue=C=>{C&&C.success&&C.data&&C.data.url?(le("update:imageUrl",C.data.url),le("update:image-url",C.data.url),f.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ!"),ee!=null&&ee.prop&&(F==null||F.validateField([ee.prop]))):f.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+(C.error||"æœªçŸ¥é”™è¯¯"))},ze=()=>{f.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡æ–°ä¸Šä¼ !")};return(C,$)=>{const q=w("el-icon"),N=w("el-upload"),Z=w("el-image-viewer");return d(),_("div",Fa,[l(N,{id:G.value,action:me.value,class:pe(["upload",B.value?"disabled":"",L.drag?"no-border":""]),multiple:!1,disabled:B.value,"show-file-list":!1,"before-upload":Ce,"on-success":Ue,"on-error":ze,drag:L.drag,accept:L.fileType.join(",")},{default:t(()=>[L.imageUrl?(d(),_(A,{key:0},[o("img",{src:L.imageUrl,class:"upload-image"},null,8,Ea),o("div",{class:"upload-handle",onClick:$[1]||($[1]=fa(()=>{},["stop"]))},[B.value?D("",!0):(d(),_("div",{key:0,class:"handle-icon",onClick:te},[l(q,null,{default:t(()=>[l(y(Il))]),_:1}),$[3]||($[3]=o("span",null,"ç¼–è¾‘",-1))])),o("div",{class:"handle-icon",onClick:$[0]||($[0]=R=>Y.value=!0)},[l(q,null,{default:t(()=>[l(y(ma))]),_:1}),$[4]||($[4]=o("span",null,"æŸ¥çœ‹",-1))]),B.value?D("",!0):(d(),_("div",{key:1,class:"handle-icon",onClick:Se},[l(q,null,{default:t(()=>[l(y(Ze))]),_:1}),$[5]||($[5]=o("span",null,"åˆ é™¤",-1))]))])],64)):(d(),_("div",Ia,[Ul(C.$slots,"empty",{},()=>[l(q,null,{default:t(()=>[l(y(_e))]),_:1}),$[6]||($[6]=o("span",null,"è¯·ä¸Šä¼ å›¾ç‰‡",-1))],!0)]))]),_:3},8,["id","action","class","disabled","drag","accept"]),o("div",Ba,[Ul(C.$slots,"tip",{},void 0,!0)]),Y.value?(d(),x(Z,{key:0,"url-list":[L.imageUrl],onClose:$[2]||($[2]=R=>Y.value=!1)},null,8,["url-list"])):D("",!0)])}}}),El=Bl(ja,[["__scopeId","data-v-937c0afd"]]),qa={class:"product-management"},Na={class:"country-nav-bar"},Oa={class:"country-nav-title"},Ja={class:"country-nav-list"},Ha={class:"country-count"},Wa=["onClick"],Ga={class:"country-flag"},Za={class:"country-name"},Qa={class:"country-count"},Xa=["onClick"],Ya={class:"country-flag"},es={class:"country-name"},ls={class:"table-header"},ts={class:"table-title"},as={class:"table-actions"},ss={class:"product-info"},os=["src","alt"],ns={class:"product-details"},is={class:"product-title",style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},us={class:"product-subtitle"},ds=["title"],rs={style:{color:"#909399","font-size":"12px"}},cs={class:"price-info"},ps={class:"sell-price"},_s={key:0,style:{"font-weight":"bold",color:"#ef3f52","font-size":"16px"}},ms={key:1,style:{color:"#999999"}},fs={class:"origin-price",style:{"margin-top":"4px"}},vs={key:0,style:{color:"#999999","text-decoration":"line-through","font-size":"12px"}},gs={key:0,style:{"margin-top":"4px"}},ys={key:0},ks={key:0},bs={key:1},hs={key:1},ws={key:0,style:{display:"flex","flex-direction":"column",gap:"4px","align-items":"center"}},Vs={key:1},xs={class:"config-info"},Ss={style:{"margin-bottom":"4px"}},Cs={style:{"margin-bottom":"4px"}},Us={key:0},zs={key:1,style:{color:"#999999"}},$s={class:"time-info"},Ps={class:"action-buttons-wrap"},Ds={class:"action-row"},Ks={class:"action-row"},Ms={class:"pagination-wrapper"},As={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ts={style:{"font-size":"12px",color:"#999999"}},Ls={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Fs={class:"form-tip",style:{color:"#909399","font-size":"12px"}},Es={style:{display:"flex","align-items":"center",gap:"8px"}},Is={style:{display:"flex","align-items":"center",gap:"8px"}},Bs={style:{display:"flex","align-items":"center",gap:"8px"}},Rs={style:{display:"flex","align-items":"center",gap:"12px"}},js={class:"editor-controls"},qs={class:"dialog-footer"},Ns={class:"sku-management"},Os={class:"sku-list-section"},Js={class:"section-header"},Hs={class:"sku-actions"},Ws=["src","alt"],Gs={class:"sku-attributes"},Zs={class:"price"},Qs={key:1,style:{color:"#999999"}},Xs={class:"sort-header"},Ys={class:"sort-actions"},eo={class:"sort-tabs"},lo={class:"attribute-sort-section"},to={class:"attribute-list"},ao=["onDragstart","onDrop"],so={class:"attribute-content"},oo={class:"sort-handle"},no={class:"attribute-info"},io={class:"attribute-name"},uo={class:"attribute-count"},ro={class:"sort-order"},co={class:"value-sort-section"},po={class:"section-title"},_o={class:"value-list"},mo=["onDragstart","onDrop"],fo={class:"value-content"},vo={class:"sort-handle"},go={class:"value-info"},yo={class:"value-name"},ko={class:"value-count"},bo={class:"sort-order"},ho={class:"dialog-footer"},wo={class:"batch-sku-generator"},Vo={style:{display:"flex","align-items":"center","justify-content":"space-between"}},xo={key:0,class:"batch-preview"},So={class:"preview-grid"},Co={class:"sku-info"},Uo={class:"sku-name"},zo={class:"sku-specs"},$o={class:"dialog-footer"},Po={class:"sku-specs"},Do={class:"add-spec-form"},Ko={key:0,class:"specs-list"},Mo={class:"specs-grid"},Ao={class:"spec-content"},To={class:"spec-name"},Lo={class:"spec-actions"},Fo={class:"image-input-section"},Eo={class:"input-mode-selector"},Io={key:0,class:"url-input-mode"},Bo={key:0,class:"url-preview"},Ro={class:"image-error"},jo={key:1,class:"upload-mode"},qo={class:"dialog-footer"},No={class:"fake-product-selection"},Oo={key:0,class:"product-summary"},Jo=["src","alt"],Ho={class:"product-info"},Wo={class:"product-title"},Go={class:"product-price"},Zo={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Qo={class:"search-section"},Xo={class:"fake-products-grid"},Yo=["onClick"],en=["src","alt"],ln={class:"card-content"},tn={class:"card-title"},an={class:"card-price"},sn={class:"card-check"},on={key:0,class:"empty-state"},nn={key:0,class:"fake-pagination"},un={class:"dialog-footer"},dn={key:0,class:"domain-select-dialog"},rn={class:"product-info"},cn={class:"domain-card"},pn={class:"domain-header"},_n={class:"domain-name"},mn={class:"domain-url"},fn={key:0},vn={key:1},gn={key:0,class:"domain-description"},yn={class:"dialog-footer"},kn=Qe({name:"ProductList"}),bn=Qe({...kn,setup(L){const de=v(!1),X=v(!1),G=v(!1),Y=v(!1),F=v(null),ee=v([]),B=v(null),me=v(""),le=v(),Se=v(!1),te=v(!1),Ce=v(""),Ue=v(!1),ze=v(!1),C=v(),$=v(null),q=v([]),N=v(""),Z=v(""),R=v([]),$e=v("url"),U=Ve({title:"",product_id:"",status:null,product_type:"",country:""}),j=Ve({current:1,size:20,total:0}),Pe=v([]),Rl=[{code:"SK",name:"æ–¯æ´›ä¼å…‹"},{code:"CZ",name:"æ·å…‹"},{code:"PL",name:"æ³¢å…°"},{code:"HU",name:"åŒˆç‰™åˆ©"},{code:"DE",name:"å¾·å›½"},{code:"AT",name:"å¥¥åœ°åˆ©"},{code:"RO",name:"ç½—é©¬å°¼äºš"},{code:"JP",name:"æ—¥æœ¬"}],pl=v([]),_l=v(0),jl=ue(()=>{const s={};return pl.value.forEach(e=>{s[e.country.toUpperCase()]=e.count}),s}),fe=ue(()=>{const s=jl.value,e=[],n=[];return Rl.forEach(r=>{const i=s[r.code]||0;i>0?e.push({...r,count:i}):n.push(r)}),e.sort((r,i)=>i.count-r.count),{withProducts:e,withoutProducts:n}}),ql=ue(()=>{if(U.title||U.status||U.product_type==="fake")return Pe.value;if(U.product_type==="original")return Pe.value.filter(i=>i.product_type==="original");const s=Pe.value.filter(i=>i.product_type==="original"),e=Pe.value.filter(i=>i.product_type==="fake"),n=s.map(i=>{const p=e.filter(z=>z.linked_original_ids&&Array.isArray(z.linked_original_ids)?z.linked_original_ids.includes(i.id):z.b_page_product_id===i.id);return p.length>0?{...i,children:p,hasChildren:!0}:i}),r=e.filter(i=>i.linked_original_ids&&Array.isArray(i.linked_original_ids)?i.linked_original_ids.length===0:!i.b_page_product_id);return[...n,...r]}),H=v([]),ve=v(!1),c=Ve({id:null,spu_id:"",title:"",sell_price:0,origin_price:0,discount:0,image_urls:[],rich_text_content:"",specification_list:[],variants:[],status:"active",product_type:"original",b_page_product_id:[],cloak_rule_id:null,country:"JA",template:"classic",page_primary_color:"#007d65",head_w_marquee:""}),Ee=v([]),Nl=v(["#007d65","#3498db","#e74c3c","#f39c12","#9b59b6","#e91e63","#1abc9c","#3f51b5"]),Ie=v([]),De=v(!1),ge=v(!1),P=v(null),Be=v([]),Re=v(!1),ae=v(""),je=v(""),O=Ve({current:1,size:12,total:0}),Ke=v(!1),Xe=v(!1),V=Ve({sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:1e3,specs:[]}),W=v([]),Me=v(!1),Ye=v(!1),ml=v("attribute"),se=v([]),Ae=v({}),ye=v(-1),ke=v(-1),el=v(""),re=v(!1),be=v(!1),Ol=[{label:"æ—¥æœ¬",value:"JA"},{label:"ä¸­å›½",value:"ZH"},{label:"è‹±å›½",value:"EN"},{label:"æ–¯æ´›ä¼å…‹",value:"SK"},{label:"æ–¯æ´›æ–‡å°¼äºš",value:"SI"},{label:"æ³¢å…°",value:"PL"},{label:"è‘¡è„ç‰™",value:"PT"},{label:"åŒˆç‰™åˆ©",value:"HU"},{label:"æ„å¤§åˆ©",value:"IT"},{label:"è¥¿ç­ç‰™",value:"ES"},{label:"æ·å…‹",value:"CZ"},{label:"ç«‹é™¶å®›",value:"LT"},{label:"æ‹‰è„±ç»´äºš",value:"LV"},{label:"å…‹ç½—åœ°äºš",value:"HR"},{label:"å¥¥åœ°åˆ©",value:"AT"},{label:"å¾·å›½",value:"DE"}],Jl=ue(()=>be.value?"calc(100vh - 200px)":"500px"),Hl=ue(()=>({placeholder:"è¯·è¾“å…¥å•†å“æè¿°å†…å®¹...",MENU_CONF:{uploadImage:{server:fl.value,fieldName:"file",maxFileSize:10*1024*1024,allowedFileTypes:["image/*"]}}})),fl=ue(()=>"https://goworldshop.shop/admin/upload/image"),g=Ve({id:null,product_id:"",sku_code:"",sku_name:"",sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:0,warning_stock:10,main_image:"",status:"active",attributes:[]}),Wl={title:[{required:!0,message:"è¯·è¾“å…¥å•†å“æ ‡é¢˜",trigger:"blur"},{min:2,max:500,message:"å•†å“æ ‡é¢˜é•¿åº¦åœ¨ 2 åˆ° 500 ä¸ªå­—ç¬¦",trigger:"blur"}],status:[{required:!0,message:"è¯·é€‰æ‹©çŠ¶æ€",trigger:"change"}],page_primary_color:[{pattern:/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é¢œè‰²ä»£ç ï¼Œå¦‚ #007d65",trigger:"blur"}]},Gl={sku_name:[{required:!0,message:"è¯·è¾“å…¥SKUåç§°",trigger:"blur"}],sell_price:[{required:!0,message:"è¯·è¾“å…¥é”€å”®ä»·æ ¼",trigger:"blur"}],stock_quantity:[{required:!0,message:"è¯·è¾“å…¥åº“å­˜æ•°é‡",trigger:"blur"}]},Zl=()=>{if(g.origin_price>0&&g.sell_price>0){const s=Math.round((g.origin_price-g.sell_price)/g.origin_price*100);g.discount_percent=Math.max(0,Math.min(100,s))}else g.discount_percent=0};dl(()=>[g.sell_price,g.origin_price],()=>{Zl()},{deep:!0}),dl(()=>[c.sell_price,c.origin_price],()=>{tl()},{deep:!0});const Ql=s=>({active:"success",inactive:"danger",draft:"warning",deleted:"info"})[s]||"info",Xl=s=>({active:"ä¸Šæ¶",inactive:"ä¸‹æ¶",draft:"è‰ç¨¿",deleted:"å·²åˆ é™¤"})[s]||s,Yl=s=>({active:"success",inactive:"danger",out_of_stock:"warning"})[s]||"info",et=s=>({active:"æ­£å¸¸",inactive:"ç¦ç”¨",out_of_stock:"ç¼ºè´§"})[s]||s,qe=()=>{j.current=1,J()},ll=s=>{U.country=s,j.current=1,J()},vl=s=>({SK:"ğŸ‡¸ğŸ‡°",CZ:"ğŸ‡¨ğŸ‡¿",PL:"ğŸ‡µğŸ‡±",HU:"ğŸ‡­ğŸ‡º",DE:"ğŸ‡©ğŸ‡ª",AT:"ğŸ‡¦ğŸ‡¹",RO:"ğŸ‡·ğŸ‡´",JP:"ğŸ‡¯ğŸ‡µ",IT:"ğŸ‡®ğŸ‡¹",ES:"ğŸ‡ªğŸ‡¸",PT:"ğŸ‡µğŸ‡¹",LT:"ğŸ‡±ğŸ‡¹",LV:"ğŸ‡±ğŸ‡»",HR:"ğŸ‡­ğŸ‡·",SI:"ğŸ‡¸ğŸ‡®",EN:"ğŸ‡¬ğŸ‡§",ZH:"ğŸ‡¨ğŸ‡³",JA:"ğŸ‡¯ğŸ‡µ"})[s]||"ğŸŒ",lt=()=>{Object.assign(U,{title:"",product_id:"",status:null,product_type:"",country:""}),qe()},tt=()=>{me.value="æ·»åŠ å•†å“",Object.assign(c,{id:null,spu_id:"",title:"",sell_price:0,origin_price:0,discount:0,image_urls:[],rich_text_content:"",specification_list:[],variants:[],status:"active",product_type:"original",b_page_product_id:"",cloak_rule_id:null,country:"JA"}),Ee.value=[],Ie.value=[],H.value.length===0&&!ve.value&&ol(),H.value.length,H.value,G.value=!0},at=s=>{c.page_primary_color=s,f.success(`å·²åˆ‡æ¢åˆ°ä¸»é¢˜è‰²ï¼š${s}`)},st=async s=>{F.value=s;try{const e=await Ka();ee.value=e.data,ee.value.length>0&&(B.value=ee.value[0])}catch(e){console.error("åŠ è½½åŸŸåé…ç½®å¤±è´¥:",e),f.error("åŠ è½½åŸŸåé…ç½®å¤±è´¥")}Y.value=!0},ot=()=>{if(!F.value||!B.value){f.warning("è¯·é€‰æ‹©åŸŸå");return}let s=B.value.domain;B.value.is_wildcard&&F.value.country&&(s=`${F.value.country.toLowerCase()}.${B.value.domain}`);const e=`${B.value.protocol}://${s}/product/${F.value.id}`;window.open(e,"_blank"),f.success("æ­£åœ¨è·³è½¬åˆ°å•†å“é¡µé¢..."),Y.value=!1},nt=s=>{me.value="ç¼–è¾‘å•†å“",s.cloak_rule_id,s.cloak_rule_id;const e={...s,sell_price:parseFloat(s.sell_price)||0,origin_price:parseFloat(s.origin_price)||0,discount:parseFloat(s.discount)||0,product_type:s.product_type||"original",b_page_product_id:s.linked_original_ids&&s.linked_original_ids.length>0?s.linked_original_ids:s.b_page_product_id?[s.b_page_product_id]:[],country:s.country||"JA",template:s.template||"classic",cloak_rule_id:s.cloak_rule_id||null};e.cloak_rule_id,Object.assign(c,e),Ee.value=(s.image_urls||[]).map((n,r)=>({name:`image_${r}.jpg`,url:n,response:{success:!0,data:{url:n,file_name:`image_${r}.jpg`}}})),H.value.length===0&&!ve.value&&ol(),H.value.length,c.cloak_rule_id,H.value,G.value=!0},it=s=>{xe.confirm(`ç¡®å®šè¦åˆ é™¤å•†å“ "${s.title}" å—ï¼Ÿåˆ é™¤åæ— æ³•æ¢å¤ï¼`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}).then(async()=>{try{await Sa(s.id),f.success("åˆ é™¤æˆåŠŸ"),J(!0)}catch{f.error("åˆ é™¤å¤±è´¥")}})},ut=s=>{xe.confirm(`ç¡®å®šè¦å¤åˆ¶å•†å“ "${s.title}" å—ï¼Ÿå¤åˆ¶åçš„å•†å“å°†ä»¥è‰ç¨¿çŠ¶æ€ä¿å­˜ï¼Œä¸ä¼šå¤åˆ¶å…³è”å…³ç³»ã€‚`,"å¤åˆ¶ç¡®è®¤",{confirmButtonText:"ç¡®å®šå¤åˆ¶",cancelButtonText:"å–æ¶ˆ",type:"info"}).then(async()=>{var e,n;try{const r=await Ca(s.id);f.success(`å¤åˆ¶æˆåŠŸï¼æ–°å•†å“ID: ${r.data.id}`),J(!0)}catch(r){const i=((n=(e=r==null?void 0:r.response)==null?void 0:e.data)==null?void 0:n.message)||(r==null?void 0:r.message)||"å¤åˆ¶å¤±è´¥";f.error(i),console.error("å¤åˆ¶å•†å“å¤±è´¥:",r)}})},dt=async()=>{le.value&&le.value.validate(async s=>{if(s){X.value=!0;try{c.cloak_rule_id,c.cloak_rule_id;const e={...c,b_page_product_id:Array.isArray(c.b_page_product_id)&&c.b_page_product_id.length>0?c.b_page_product_id[0]:null};c.id?(c.id,await Ua(c.id,e),f.success("æ›´æ–°æˆåŠŸ")):(await za(e),f.success("æ·»åŠ æˆåŠŸ")),G.value=!1,J(!0)}catch(e){console.error("æäº¤å¤±è´¥:",e),f.error(c.id?"æ›´æ–°å¤±è´¥":"æ·»åŠ å¤±è´¥")}finally{X.value=!1}}})},rt=s=>{j.size=s,J()},ct=s=>{j.current=s,J()},pt=s=>{const e=s.type.startsWith("image/"),n=s.size/1024/1024<10;return e?n?!0:(f.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 10MB!"),!1):(f.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},_t=(s,e)=>{s&&s.success&&s.data&&s.data.url?(c.image_urls.push(s.data.url),e.fileName=s.data.file_name,f.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ")):f.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+(s.error||"æœªçŸ¥é”™è¯¯"))},mt=s=>{let e=null;if(s.response&&s.response.data&&s.response.data.url?e=s.response.data.url:s.url&&(e=s.url),e){const n=c.image_urls.indexOf(e);n>-1&&(c.image_urls.splice(n,1),c.image_urls)}},ft=()=>{f.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥")},vt=()=>{be.value=!be.value},gt=s=>{c.rich_text_content=s},yt=()=>{xe.confirm("ç¡®å®šè¦æ¸…ç©ºå•†å“æè¿°å†…å®¹å—ï¼Ÿ","æ¸…ç©ºç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{c.rich_text_content="",f.success("å†…å®¹å·²æ¸…ç©º")})},J=async(s=!1)=>{de.value=!0;try{const e={page:j.current,size:j.size,title:U.title||void 0,product_id:U.product_id||void 0,status:U.status||void 0,product_type:U.product_type||void 0,country:U.country||void 0},{data:n}=await Al(e);n.list[0],Pe.value=n.list,j.total=n.total,s&&await gl()}catch{f.error("è·å–å•†å“åˆ—è¡¨å¤±è´¥")}finally{de.value=!1}},gl=async()=>{try{const{data:s}=await $a();pl.value=s.stats,_l.value=s.total}catch(s){console.error("è·å–å›½å®¶ç»Ÿè®¡å¤±è´¥:",s)}},kt=async s=>{$.value=s,Se.value=!0,await Ne(s.id)},Ne=async s=>{Ue.value=!0;try{const{data:e}=await Aa(s);q.value=e}catch{f.error("è·å–SKUåˆ—è¡¨å¤±è´¥")}finally{Ue.value=!1}},bt=()=>{if(!N.value.trim()||!Z.value.trim()){f.warning("è¯·è¾“å…¥è§„æ ¼åç§°å’Œå€¼");return}const s=N.value.trim(),e=Z.value.trim();if(R.value.find(p=>p.name===s&&p.value===e)){f.warning(`è§„æ ¼ "${s}: ${e}" å·²å­˜åœ¨ï¼Œè¯·å‹¿é‡å¤æ·»åŠ `);return}const r=R.value.find(p=>p.name===s);if(r){f.warning(`å±æ€§ "${s}" å·²å­˜åœ¨å€¼ "${r.value}"ï¼Œä¸€ä¸ªSKUçš„åŒä¸€å±æ€§åªèƒ½è®¾ç½®ä¸€ä¸ªå€¼ã€‚å¦‚éœ€ä¿®æ”¹ï¼Œè¯·å…ˆåˆ é™¤ç°æœ‰è§„æ ¼ã€‚`);return}const i={name:s,value:e};R.value.push(i),N.value="",Z.value="",f.success("è§„æ ¼æ·»åŠ æˆåŠŸ")},ht=s=>{R.value.splice(s,1),f.success("è§„æ ¼åˆ é™¤æˆåŠŸ")},wt=s=>{const e=R.value[s];N.value=e.name,Z.value=e.value,R.value.splice(s,1),f.info("è¯·ä¿®æ”¹è§„æ ¼ä¿¡æ¯åç‚¹å‡»æ·»åŠ æŒ‰é’®")},Vt=()=>{var r;Ce.value="æ·»åŠ SKU";const s=Date.now(),e=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),n=`SKU${s}${e}`;Object.assign(g,{id:null,product_id:((r=$.value)==null?void 0:r.id)||"",sku_code:n,sku_name:"",sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:0,warning_stock:10,main_image:"",status:"active",attributes:[]}),R.value=[],N.value="",Z.value="",te.value=!0},xt=s=>{Ce.value="ç¼–è¾‘SKU";const e={...s,sell_price:parseFloat(s.sell_price)||0,origin_price:parseFloat(s.origin_price)||0,cost_price:parseFloat(s.cost_price)||0,discount_percent:parseFloat(s.discount_percent)||0,stock_quantity:parseInt(s.stock_quantity)||0,warning_stock:parseInt(s.warning_stock)||10};Object.assign(g,e),R.value=s.attributes.map(n=>({name:n.attribute_name||n.display_name||"",value:n.value||n.display_value||"",attribute_id:n.attribute_id||null,attribute_value_id:n.attribute_value_id||null})),te.value=!0},St=s=>{xe.confirm(`ç¡®å®šè¦åˆ é™¤SKU "${s.sku_name}" å—ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var e,n,r;try{await La(s.id),f.success("åˆ é™¤æˆåŠŸ"),await Ne(((e=$.value)==null?void 0:e.id)||"")}catch(i){console.error("åˆ é™¤SKUå¤±è´¥:",i);let p="åˆ é™¤å¤±è´¥";(r=(n=i.response)==null?void 0:n.data)!=null&&r.message?p=i.response.data.message:i.message&&(p=i.message),f.error(p)}})},Ct=()=>{const s=R.value.map(n=>n.name),e=s.filter((n,r)=>s.indexOf(n)!==r);if(e.length>0)throw f.error(`æ£€æµ‹åˆ°é‡å¤çš„å±æ€§å: ${e.join(", ")}ï¼Œè¯·æ£€æŸ¥è§„æ ¼è®¾ç½®`),new Error("å­˜åœ¨é‡å¤çš„å±æ€§å");return R.value.map(n=>n.attribute_id&&n.attribute_value_id?{attribute_id:n.attribute_id,attribute_value_id:n.attribute_value_id}:{attribute_name:n.name,value:n.value})},Ut=async()=>{C.value&&C.value.validate(async s=>{var e;if(s){ze.value=!0;try{const n={...g,attributes:Ct()};g.id?(await Ta(g.id,n),f.success("æ›´æ–°æˆåŠŸ")):(await Fl(n),f.success("æ·»åŠ æˆåŠŸ")),te.value=!1,await Ne(((e=$.value)==null?void 0:e.id)||"")}catch(n){if(n.message==="å­˜åœ¨é‡å¤çš„å±æ€§å")return;f.error(g.id?"æ›´æ–°å¤±è´¥":"æ·»åŠ å¤±è´¥")}finally{ze.value=!1}}})},zt=s=>{s!==$e.value&&(g.main_image="")},$t=s=>{s==="original"?c.b_page_product_id=[]:s==="fake"&&(!c.b_page_product_id||c.b_page_product_id.length===0)&&sl()},tl=()=>{const s=c.sell_price||0,e=c.origin_price||0;if(e>0&&s>0){const n=Math.round((e-s)/e*100);c.discount=Math.max(0,Math.min(100,n))}else(e===0||s===0)&&(c.discount=0)},Pt=()=>{Object.assign(V,{sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:1e3,specs:[]}),W.value=[],Ke.value=!0},yl=()=>{const s=V.origin_price||0,e=V.sell_price||0;if(s>0&&e>0){const n=Math.round((s-e)/s*100);V.discount_percent=Math.max(0,Math.min(100,n))}else V.discount_percent=0},Dt=()=>{V.specs.push({name:"",values:""}),al()},Kt=s=>{V.specs.splice(s,1),al()},al=()=>{const s=V.specs.filter(p=>p.name.trim()&&p.values.trim());if(s.length===0){W.value=[];return}const e=s.map(p=>p.name.trim()),n=e.filter((p,z)=>e.indexOf(p)!==z);if(n.length>0){f.warning(`æ£€æµ‹åˆ°é‡å¤çš„è§„æ ¼åç§°: ${n.join(", ")}ï¼Œè¯·ç¡®ä¿æ¯ä¸ªè§„æ ¼åç§°å”¯ä¸€`),W.value=[];return}const r=s.map(p=>({name:p.name.trim(),values:p.values.split(`
`).map(z=>z.trim()).filter(z=>z)})),i=kl(r);W.value=i.map(p=>({sku_name:p.map(h=>`${h.name}:${h.value}`).join(" "),attributes:p}))},kl=s=>{if(s.length===0)return[];if(s.length===1)return s[0].values.map(p=>[{name:s[0].name,value:p}]);const e=[],n=s[0],r=s.slice(1),i=kl(r);for(const p of n.values)for(const z of i)e.push([{name:n.name,value:p},...z]);return e};dl(()=>V.specs,()=>{al()},{deep:!0});const Mt=async()=>{var r;if(W.value.length===0){f.warning("è¯·é…ç½®è§„æ ¼ä¿¡æ¯");return}if(!V.sell_price||!V.stock_quantity){f.warning("è¯·å¡«å†™é”€å”®ä»·æ ¼å’Œåº“å­˜æ•°é‡");return}const e=V.specs.filter(i=>i.name.trim()&&i.values.trim()).map(i=>i.name.trim()),n=e.filter((i,p)=>e.indexOf(i)!==p);if(n.length>0){f.error(`æ£€æµ‹åˆ°é‡å¤çš„è§„æ ¼åç§°: ${n.join(", ")}ï¼Œè¯·ç¡®ä¿æ¯ä¸ªè§„æ ¼åç§°å”¯ä¸€`);return}Xe.value=!0;try{const i=Date.now(),p=W.value.map(async(z,h)=>{var K;const k=i+h,he=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),oe=()=>{const ne=V.origin_price||0,Te=V.sell_price||0;if(ne>0&&Te>0){const Je=Math.round((ne-Te)/ne*100);return Math.max(0,Math.min(100,Je))}return 0},Q={product_id:((K=$.value)==null?void 0:K.id)||"",sku_code:`SKU${k}${he}`,sku_name:z.sku_name,sell_price:V.sell_price,origin_price:V.origin_price,cost_price:V.cost_price,discount_percent:oe(),stock_quantity:V.stock_quantity,warning_stock:10,main_image:"",status:"active",attributes:z.attributes.map(ne=>({attribute_name:ne.name,value:ne.value}))};return Fl(Q)});await Promise.all(p),f.success(`æˆåŠŸç”Ÿæˆ ${W.value.length} ä¸ªSKU`),Ke.value=!1,await Ne(((r=$.value)==null?void 0:r.id)||"")}catch(i){console.error("æ‰¹é‡ç”ŸæˆSKUå¤±è´¥:",i),f.error("æ‰¹é‡ç”Ÿæˆå¤±è´¥")}finally{Xe.value=!1}},At=()=>{Lt(),re.value=!1,Me.value=!0},Tt=()=>{re.value=!re.value},Lt=()=>{const s=new Map;q.value.forEach(e=>{e.attributes.forEach(n=>{const r=n.display_name||n.attribute_name,i=n.display_value||n.value;s.has(r)||s.set(r,new Map);const p=s.get(r);p.has(i)||p.set(i,[]),p.get(i).push(e)})}),se.value=Array.from(s.keys()).map(e=>{const n=s.get(e),r=Array.from(n.values()).reduce((i,p)=>i+p.length,0);return{name:e,count:r,values:Array.from(n.keys())}}),Ae.value={},s.forEach((e,n)=>{Ae.value[n]=Array.from(e.keys()).map(r=>{const i=e.get(r);return{value:r,count:i.length,skus:i}})})},Ft=s=>Ae.value[s]||[],Et=(s,e)=>{ye.value=e,s.dataTransfer&&(s.dataTransfer.effectAllowed="move")},It=(s,e)=>{if(s.preventDefault(),ye.value===-1||ye.value===e)return;const n=se.value[ye.value];se.value.splice(ye.value,1),se.value.splice(e,0,n),ye.value=-1},Bt=(s,e,n)=>{ke.value=n,el.value=e,s.dataTransfer&&(s.dataTransfer.effectAllowed="move")},Rt=(s,e,n)=>{if(s.preventDefault(),ke.value===-1||el.value!==e||ke.value===n)return;const r=Ae.value[e],i=r[ke.value];r.splice(ke.value,1),r.splice(n,0,i),ke.value=-1,el.value=""},bl=s=>{s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="move")},jt=async()=>{if(se.value.length===0){f.warning("æ²¡æœ‰å±æ€§éœ€è¦æ’åº");return}Ye.value=!0;try{const s=[];se.value.forEach(e=>{Ae.value[e.name].forEach(r=>{r.skus.forEach(i=>{s.find(p=>p.id===i.id)||s.push(i)})})}),q.value=s,await qt(s),f.success("æ’åºä¿å­˜æˆåŠŸ"),Me.value=!1}catch(s){console.error("ä¿å­˜æ’åºå¤±è´¥:",s),f.error("ä¿å­˜æ’åºå¤±è´¥")}finally{Ye.value=!1}},qt=async s=>{try{const e=s.map((r,i)=>({sku_id:r.id,sort_order:i+1})),n=await Fe.put(`/admin/products/${$.value.id}/skus/sort`,{sort_data:e});if(n.code!==200)throw new Error(n.message||"ä¿å­˜æ’åºå¤±è´¥")}catch(e){throw console.error("ä¿å­˜æ’åºåˆ°åç«¯å¤±è´¥:",e),e}},Nt=()=>{const s=c.origin_price||0,e=c.discount||0;s>0&&e>=0&&(c.sell_price=Math.round(s*(1-e/100)*100)/100)},hl=()=>{const s=g.sell_price||0,e=g.origin_price||0;if(e>0&&s>0){const n=Math.round((e-s)/e*100);g.discount_percent=Math.max(0,Math.min(100,n))}else(e===0||s===0)&&(g.discount_percent=0)},Ot=()=>{const s=g.origin_price||0,e=g.discount_percent||0;s>0&&e>=0&&(g.sell_price=Math.round(s*(1-e/100)*100)/100)},Jt=async s=>{if(!s){await sl();return}De.value=!0;try{const{data:e}=await Tl(s);Ie.value=e}catch{f.error("æœç´¢æ­£å“å•†å“å¤±è´¥")}finally{De.value=!1}},sl=async()=>{De.value=!0;try{const{data:s}=await Tl();Ie.value=s}catch{f.error("åŠ è½½æ­£å“å•†å“åˆ—è¡¨å¤±è´¥")}finally{De.value=!1}},Ht=s=>{P.value=s,ae.value="",je.value="",O.current=1,ge.value=!0,Oe()},Oe=async()=>{Re.value=!0;try{const s={page:O.current,size:O.size,product_type:"fake",title:je.value||void 0},{data:e}=await Al(s);Be.value=e.list.filter(n=>!n.b_page_product_id),O.total=e.total}catch{f.error("åŠ è½½ä»¿å“å•†å“åˆ—è¡¨å¤±è´¥")}finally{Re.value=!1}},Wt=()=>{O.current=1,Oe()},Gt=s=>{O.size=s,Oe()},Zt=s=>{O.current=s,Oe()},Qt=async()=>{if(!(!ae.value||!P.value))try{await Ll(ae.value,P.value.id),f.success("ä»¿å“å…³è”æˆåŠŸ"),ge.value=!1,J()}catch{f.error("ä»¿å“å…³è”å¤±è´¥")}},Xt=async s=>{try{await xe.confirm(`ç¡®å®šè¦å–æ¶ˆä»¿å“ "${s.title}" çš„å…³è”å—ï¼Ÿå–æ¶ˆåè¯¥ä»¿å“å°†ä¸å†å…³è”ä»»ä½•æ­£å“ã€‚`,"å–æ¶ˆå…³è”ç¡®è®¤",{confirmButtonText:"ç¡®å®šå–æ¶ˆ",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}),s.id,await Ll(s.id,null),f.success("å–æ¶ˆå…³è”æˆåŠŸ"),J()}catch(e){e!=="cancel"&&f.error("å–æ¶ˆå…³è”å¤±è´¥")}},Yt=async s=>{try{await xe.confirm(`ç¡®å®šè¦å–æ¶ˆå•†å“ "${s.title}" çš„æ–—ç¯·è§„åˆ™è®¾ç½®å—ï¼Ÿå–æ¶ˆåè¯¥å•†å“å°†ä¸å†ä½¿ç”¨ä»»ä½•æ–—ç¯·è§„åˆ™ã€‚`,"å–æ¶ˆæ–—ç¯·è§„åˆ™ç¡®è®¤",{confirmButtonText:"ç¡®å®šå–æ¶ˆ",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}),s.id,await Pa(s.id,null),f.success("å–æ¶ˆæ–—ç¯·è§„åˆ™è®¾ç½®æˆåŠŸ"),J()}catch(e){e!=="cancel"&&f.error("å–æ¶ˆæ–—ç¯·è§„åˆ™è®¾ç½®å¤±è´¥")}},ea=()=>{P.value&&(ge.value=!1,me.value="åŸºäºæ­£å“åˆ›å»ºä»¿å“",Object.assign(c,{id:null,spu_id:"",title:`${P.value.title} - ä»¿å“ç‰ˆ`,sell_price:Math.round((P.value.sell_price||0)*.6),origin_price:P.value.sell_price||0,discount:40,image_urls:[...P.value.image_urls||[]],rich_text_content:P.value.rich_text_content||"",specification_list:[...P.value.specification_list||[]],variants:[...P.value.variants||[]],status:"draft",product_type:"fake",b_page_product_id:P.value.id,cloak_rule_id:null,country:P.value.country||"JA"}),Ee.value=(P.value.image_urls||[]).map((s,e)=>({name:`image_${e}.jpg`,url:s,response:{success:!0,data:{url:s,file_name:`image_${e}.jpg`}}})),sl(),G.value=!0,f.success(`å·²åŸºäºæ­£å“"${P.value.title}"åˆ›å»ºä»¿å“ï¼Œè¯·ä¿®æ”¹ç›¸å…³ä¿¡æ¯åä¿å­˜`))},ol=async()=>{if(!ve.value)try{ve.value=!0;const s=await Da.getCloakRules({page:1,size:1e3});if(s.code===200){const e=s.data.list,n=e.filter(r=>r.is_active===1);H.value=n,H.value}else console.error("æ–—ç¯·è§„åˆ™APIè¿”å›é”™è¯¯:",s)}catch(s){console.error("åŠ è½½æ–—ç¯·è§„åˆ™å¤±è´¥:",s),f.error("åŠ è½½æ–—ç¯·è§„åˆ™å¤±è´¥")}finally{ve.value=!1}},wl=s=>({cloak:"warning",green:"success",open:"info",audit:"danger"})[s]||"info",Vl=s=>({cloak:"æ–—ç¯·",green:"ç»¿è‰²",open:"å…¨å¼€",audit:"å®¡æ ¸"})[s]||s,la=s=>{c.cloak_rule_id=s,s&&(H.value.find(n=>n.id===s)||console.warn("æœªæ‰¾åˆ°å¯¹åº”çš„æ–—ç¯·è§„åˆ™ï¼ŒID:",s))};return va(()=>{J(),ol(),gl()}),(s,e)=>{const n=w("el-icon"),r=w("el-input"),i=w("el-form-item"),p=w("el-option"),z=w("el-select"),h=w("el-tag"),k=w("el-button"),he=w("el-form"),oe=w("el-card"),Q=w("el-avatar"),K=w("el-table-column"),ne=w("el-tooltip"),Te=w("el-table"),Je=w("el-pagination"),E=w("el-input-number"),S=w("el-col"),I=w("el-row"),we=w("el-radio"),nl=w("el-radio-group"),ta=w("el-color-picker"),aa=w("arrow-down"),ie=w("el-dropdown-item"),sa=w("el-dropdown-menu"),oa=w("el-dropdown"),na=w("el-upload"),ce=w("el-dialog"),il=w("el-alert"),xl=w("el-tab-pane"),ia=w("el-tabs"),Sl=w("el-divider"),ua=w("el-image"),da=w("el-empty"),ul=ga("loading");return d(),_("div",qa,[o("div",Na,[o("div",Oa,[l(n,null,{default:t(()=>[l(y(ya))]),_:1}),e[63]||(e[63]=o("span",null,"å›½å®¶ç­›é€‰",-1))]),o("div",Ja,[o("div",{class:pe(["country-nav-item",{active:U.country===""}]),onClick:e[0]||(e[0]=a=>ll(""))},[e[64]||(e[64]=o("span",{class:"country-name"},"å…¨éƒ¨",-1)),o("span",Ha,m(_l.value),1)],2),(d(!0),_(A,null,T(fe.value.withProducts,a=>(d(),_("div",{key:a.code,class:pe(["country-nav-item",{active:U.country===a.code}]),onClick:b=>ll(a.code)},[o("span",Ga,m(vl(a.code)),1),o("span",Za,m(a.name),1),o("span",Qa,m(a.count),1)],10,Wa))),128)),fe.value.withoutProducts.length>0?(d(),_(A,{key:0},[e[66]||(e[66]=o("div",{class:"country-nav-divider"},null,-1)),(d(!0),_(A,null,T(fe.value.withoutProducts,a=>(d(),_("div",{key:a.code,class:pe(["country-nav-item empty",{active:U.country===a.code}]),onClick:b=>ll(a.code)},[o("span",Ya,m(vl(a.code)),1),o("span",es,m(a.name),1),e[65]||(e[65]=o("span",{class:"country-count"},"0",-1))],10,Xa))),128))],64)):D("",!0)])]),l(oe,{class:"search-card",shadow:"never"},{default:t(()=>[l(he,{model:U,inline:"",class:"search-form"},{default:t(()=>[l(i,{label:"å•†å“æ ‡é¢˜"},{default:t(()=>[l(r,{modelValue:U.title,"onUpdate:modelValue":e[1]||(e[1]=a=>U.title=a),placeholder:"è¯·è¾“å…¥å•†å“æ ‡é¢˜",clearable:"",style:{width:"200px"},onKeyup:zl(qe,["enter"])},{prefix:t(()=>[l(n,null,{default:t(()=>[l(y(He))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"å•†å“å·"},{default:t(()=>[l(r,{modelValue:U.product_id,"onUpdate:modelValue":e[2]||(e[2]=a=>U.product_id=a),placeholder:"è¯·è¾“å…¥å•†å“å·",clearable:"",style:{width:"200px"},onKeyup:zl(qe,["enter"])},{prefix:t(()=>[l(n,null,{default:t(()=>[l(y(He))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"çŠ¶æ€"},{default:t(()=>[l(z,{modelValue:U.status,"onUpdate:modelValue":e[3]||(e[3]=a=>U.status=a),placeholder:"è¯·é€‰æ‹©çŠ¶æ€",clearable:"",style:{width:"120px"}},{default:t(()=>[l(p,{label:"ä¸Šæ¶",value:"active"}),l(p,{label:"ä¸‹æ¶",value:"inactive"}),l(p,{label:"è‰ç¨¿",value:"draft"})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"å•†å“ç±»å‹"},{default:t(()=>[l(z,{modelValue:U.product_type,"onUpdate:modelValue":e[4]||(e[4]=a=>U.product_type=a),placeholder:"è¯·é€‰æ‹©ç±»å‹",clearable:"",style:{width:"120px"}},{default:t(()=>[l(p,{label:"å…¨éƒ¨",value:""},{default:t(()=>[l(h,{type:"info",size:"small"},{default:t(()=>[...e[67]||(e[67]=[u("å…¨éƒ¨",-1)])]),_:1})]),_:1}),l(p,{label:"æ­£å“",value:"original"},{default:t(()=>[l(h,{type:"success",size:"small"},{default:t(()=>[...e[68]||(e[68]=[u("æ­£å“",-1)])]),_:1})]),_:1}),l(p,{label:"ä»¿å“",value:"fake"},{default:t(()=>[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[69]||(e[69]=[u("ä»¿å“",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"å›½å®¶ç­›é€‰"},{default:t(()=>[l(z,{modelValue:U.country,"onUpdate:modelValue":e[5]||(e[5]=a=>U.country=a),placeholder:"è¯·é€‰æ‹©å›½å®¶",clearable:"",style:{width:"200px"}},{default:t(()=>[(d(!0),_(A,null,T(fe.value.withProducts,a=>(d(),x(p,{key:a.code,label:`${a.name} (${a.count}æ¡)`,value:a.code},null,8,["label","value"]))),128)),fe.value.withProducts.length>0?(d(),x(p,{key:0,disabled:"",value:""},{default:t(()=>[...e[70]||(e[70]=[o("span",{style:{color:"#dcdfe6"}},"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",-1)])]),_:1})):D("",!0),(d(!0),_(A,null,T(fe.value.withoutProducts,a=>(d(),x(p,{key:a.code,label:a.name,value:a.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,null,{default:t(()=>[l(k,{type:"primary",onClick:qe},{default:t(()=>[l(n,null,{default:t(()=>[l(y(He))]),_:1}),e[71]||(e[71]=u(" æœç´¢ ",-1))]),_:1}),l(k,{onClick:lt},{default:t(()=>[l(n,null,{default:t(()=>[l(y($l))]),_:1}),e[72]||(e[72]=u(" é‡ç½® ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(oe,{class:"table-card",shadow:"never"},{header:t(()=>[o("div",ls,[o("div",ts,[l(k,{type:"primary",onClick:tt},{default:t(()=>[l(n,null,{default:t(()=>[l(y(_e))]),_:1}),e[73]||(e[73]=u(" æ·»åŠ å•†å“ ",-1))]),_:1}),e[74]||(e[74]=o("span",null,"å•†å“åˆ—è¡¨",-1)),l(h,{type:"info",size:"small"},{default:t(()=>[u(m(j.total)+" æ¡è®°å½•",1)]),_:1})]),o("div",as,[l(k,{size:"small",onClick:J},{default:t(()=>[l(n,null,{default:t(()=>[l(y($l))]),_:1}),e[75]||(e[75]=u(" åˆ·æ–° ",-1))]),_:1})])])]),default:t(()=>[rl((d(),x(Te,{data:ql.value,stripe:"",border:"",style:{width:"100%"},"header-cell-style":{background:"#f8f9fa",color:"#606266"},"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[l(K,{prop:"title",label:"å•†å“æ ‡é¢˜",width:"240","show-overflow-tooltip":""},{default:t(({row:a})=>[o("div",ss,[a.image_urls&&a.image_urls[0]?(d(),x(Q,{key:0,size:40,class:"product-avatar"},{default:t(()=>[o("img",{src:a.image_urls[0],alt:a.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,os)]),_:2},1024)):(d(),x(Q,{key:1,size:40,class:"product-avatar"},{default:t(()=>[l(n,null,{default:t(()=>[l(y(We))]),_:1})]),_:1})),o("div",ns,[o("div",is,m(a.title),1),o("div",us,m(a.sell_price?"Â¥"+a.sell_price:"æš‚æœªå®šä»·"),1),o("div",{class:"product-id",title:`å•†å“å·: ${a.id}`},[o("span",rs,"#"+m(a.id),1)],8,ds)])])]),_:1}),l(K,{label:"ä»·æ ¼ä¿¡æ¯",width:"160",align:"center"},{default:t(({row:a})=>[o("div",cs,[o("div",ps,[a.sell_price?(d(),_("span",_s," Â¥"+m(a.sell_price),1)):(d(),_("span",ms,"--"))]),o("div",fs,[a.origin_price&&a.origin_price>0?(d(),_("span",vs," åŸä»·: Â¥"+m(a.origin_price),1)):D("",!0)]),a.discount&&a.discount>0?(d(),_("div",gs,[l(h,{type:"success",size:"small"},{default:t(()=>[u(m(a.discount)+"% OFF",1)]),_:2},1024)])):D("",!0)])]),_:1}),l(K,{prop:"product_type",label:"ç±»å‹",width:"100",align:"center"},{default:t(({row:a})=>[l(h,{type:a.product_type==="original"?"success":"warning",size:"default"},{default:t(()=>[u(m(a.product_type==="original"?"æ­£å“":"ä»¿å“"),1)]),_:2},1032,["type"])]),_:1}),l(K,{label:"å…³è”çŠ¶æ€",width:"140",align:"center"},{default:t(({row:a})=>[a.product_type==="original"?(d(),_("div",ys,[a.children&&a.children.length>0?(d(),_("div",ks,[l(h,{type:"success",size:"default"},{default:t(()=>[l(n,{style:{"margin-right":"4px"}},{default:t(()=>[l(y(Ge))]),_:1}),u(" "+m(a.children.length)+" ä¸ªä»¿å“ ",1)]),_:2},1024)])):(d(),_("div",bs,[...e[76]||(e[76]=[o("span",{style:{color:"#909399","font-size":"13px"}},"-",-1)])]))])):(d(),_("div",hs,[a.b_page_product_id&&a.b_page_product_id!==""||a.linked_original_ids&&a.linked_original_ids.length>0?(d(),_("div",ws,[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[77]||(e[77]=[u("å·²å…³è”",-1)])]),_:1}),l(k,{size:"small",type:"danger",link:"",onClick:b=>Xt(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Pl))]),_:1}),e[78]||(e[78]=u(" å–æ¶ˆ ",-1))]),_:1},8,["onClick"])])):(d(),_("div",Vs,[...e[79]||(e[79]=[o("span",{style:{color:"#909399","font-size":"13px"}},"æœªå…³è”",-1)])]))]))]),_:1}),l(K,{label:"é…ç½®ä¿¡æ¯",width:"150",align:"center"},{default:t(({row:a})=>[o("div",xs,[o("div",Ss,[l(h,{type:"primary",size:"small"},{default:t(()=>[u(m(a.country||"JA"),1)]),_:2},1024)]),o("div",Cs,[a.template==="shopline"?(d(),x(h,{key:0,type:"success",size:"small"},{default:t(()=>[...e[80]||(e[80]=[u("Shopline",-1)])]),_:1})):a.template==="standard"?(d(),x(h,{key:1,type:"warning",size:"small"},{default:t(()=>[...e[81]||(e[81]=[u("Standard",-1)])]),_:1})):(d(),x(h,{key:2,type:"info",size:"small"},{default:t(()=>[...e[82]||(e[82]=[u("Classic",-1)])]),_:1}))]),o("div",null,[l(h,{type:Ql(a.status),size:"small",effect:"light"},{default:t(()=>[u(m(Xl(a.status)),1)]),_:2},1032,["type"])])])]),_:1}),l(K,{prop:"cloak_rule_name",label:"æ–—ç¯·è§„åˆ™",width:"200",align:"center"},{default:t(({row:a})=>[a.cloak_rule_name?(d(),_("div",Us,[l(ne,{content:`è§„åˆ™: ${a.cloak_rule_name}`,placement:"top"},{default:t(()=>[l(h,{type:wl(a.cloak_rule_mode),size:"small"},{default:t(()=>[u(m(a.cloak_rule_name),1)]),_:2},1032,["type"])]),_:2},1032,["content"]),l(k,{size:"small",type:"danger",link:"",onClick:b=>Yt(a),style:{"margin-left":"8px"}},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Pl))]),_:1}),e[83]||(e[83]=u(" å–æ¶ˆè®¾ç½® ",-1))]),_:1},8,["onClick"])])):(d(),_("span",zs,"æœªè®¾ç½®"))]),_:1}),l(K,{prop:"created_at",label:"åˆ›å»ºæ—¶é—´",width:"180","show-overflow-tooltip":""},{default:t(({row:a})=>[o("div",$s,[l(n,{class:"time-icon"},{default:t(()=>[l(y(ka))]),_:1}),o("span",null,m(a.created_at),1)])]),_:1}),l(K,{label:"æ“ä½œ",width:"260",fixed:"right",align:"center"},{default:t(({row:a})=>[o("div",Ps,[o("div",Ds,[l(k,{size:"small",type:"primary",link:"",onClick:b=>st(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(ba))]),_:1}),e[84]||(e[84]=u(" æŸ¥çœ‹ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"warning",link:"",onClick:b=>nt(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Il))]),_:1}),e[85]||(e[85]=u(" ç¼–è¾‘ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"info",link:"",onClick:b=>ut(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(ha))]),_:1}),e[86]||(e[86]=u(" å¤åˆ¶ ",-1))]),_:1},8,["onClick"])]),o("div",Ks,[l(k,{size:"small",type:"success",link:"",onClick:b=>kt(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(wa))]),_:1}),e[87]||(e[87]=u(" SKU ",-1))]),_:1},8,["onClick"]),a.product_type==="original"?(d(),x(k,{key:0,size:"small",type:"info",link:"",onClick:b=>Ht(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(_e))]),_:1}),e[88]||(e[88]=u(" ä»¿å“ ",-1))]),_:1},8,["onClick"])):D("",!0),l(k,{size:"small",type:"danger",link:"",onClick:b=>it(a)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Ze))]),_:1}),e[89]||(e[89]=u(" åˆ é™¤ ",-1))]),_:1},8,["onClick"])])])]),_:1})]),_:1},8,["data"])),[[ul,de.value]]),o("div",Ms,[l(Je,{"current-page":j.current,"onUpdate:currentPage":e[6]||(e[6]=a=>j.current=a),"page-size":j.size,"onUpdate:pageSize":e[7]||(e[7]=a=>j.size=a),"page-sizes":[10,20,50,100],total:j.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:rt,onCurrentChange:ct},null,8,["current-page","page-size","total"])])]),_:1}),l(ce,{modelValue:G.value,"onUpdate:modelValue":e[23]||(e[23]=a=>G.value=a),title:me.value,fullscreen:!0,"close-on-click-modal":!1,"destroy-on-close":"",class:"product-dialog"},{footer:t(()=>[o("div",qs,[l(k,{onClick:e[22]||(e[22]=a=>G.value=!1)},{default:t(()=>[...e[127]||(e[127]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:dt,loading:X.value},{default:t(()=>[...e[128]||(e[128]=[u(" ç¡®å®š ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[l(he,{model:c,rules:Wl,ref_key:"formRef",ref:le,"label-width":"100px",class:"product-form"},{default:t(()=>[l(i,{label:"SPU ID"},{default:t(()=>[l(r,{modelValue:c.spu_id,"onUpdate:modelValue":e[8]||(e[8]=a=>c.spu_id=a),placeholder:"ä¿å­˜åç”Ÿæˆ",readonly:""},null,8,["modelValue"]),e[90]||(e[90]=o("div",{class:"form-tip"},"SPU IDç”±åç«¯è‡ªåŠ¨ç”Ÿæˆï¼Œåˆ›å»ºå•†å“åè‡ªåŠ¨æ˜¾ç¤º",-1))]),_:1}),l(i,{label:"å•†å“æ ‡é¢˜",prop:"title"},{default:t(()=>[l(r,{modelValue:c.title,"onUpdate:modelValue":e[9]||(e[9]=a=>c.title=a),placeholder:"è¯·è¾“å…¥å•†å“æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"é”€å”®ä»·æ ¼",prop:"sell_price"},{default:t(()=>[l(E,{modelValue:c.sell_price,"onUpdate:modelValue":e[10]||(e[10]=a=>c.sell_price=a),precision:2,min:0,placeholder:"è¯·è¾“å…¥é”€å”®ä»·æ ¼",style:{width:"100%"},onChange:tl},{append:t(()=>[...e[91]||(e[91]=[u("å…ƒ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"åŸä»·",prop:"origin_price"},{default:t(()=>[l(E,{modelValue:c.origin_price,"onUpdate:modelValue":e[11]||(e[11]=a=>c.origin_price=a),precision:2,min:0,placeholder:"è¯·è¾“å…¥åŸä»·",style:{width:"100%"},onChange:tl},{append:t(()=>[...e[92]||(e[92]=[u("å…ƒ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"æŠ˜æ‰£(%)",prop:"discount"},{default:t(()=>[l(E,{modelValue:c.discount,"onUpdate:modelValue":e[12]||(e[12]=a=>c.discount=a),precision:0,min:0,max:100,placeholder:"è‡ªåŠ¨è®¡ç®—",style:{width:"100%"},onChange:Nt},{append:t(()=>[...e[93]||(e[93]=[u("%",-1)])]),_:1},8,["modelValue"]),e[94]||(e[94]=o("div",{class:"form-tip"},"è¾“å…¥é”€å”®ä»·å’ŒåŸä»·åè‡ªåŠ¨è®¡ç®—ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥æŠ˜æ‰£",-1))]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"çŠ¶æ€",prop:"status"},{default:t(()=>[l(z,{modelValue:c.status,"onUpdate:modelValue":e[13]||(e[13]=a=>c.status=a),style:{width:"100%"}},{default:t(()=>[l(p,{label:"ä¸Šæ¶",value:"active"},{default:t(()=>[l(h,{type:"success",size:"small"},{default:t(()=>[...e[95]||(e[95]=[u("ä¸Šæ¶",-1)])]),_:1})]),_:1}),l(p,{label:"ä¸‹æ¶",value:"inactive"},{default:t(()=>[l(h,{type:"danger",size:"small"},{default:t(()=>[...e[96]||(e[96]=[u("ä¸‹æ¶",-1)])]),_:1})]),_:1}),l(p,{label:"è‰ç¨¿",value:"draft"},{default:t(()=>[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[97]||(e[97]=[u("è‰ç¨¿",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"å•†å“ç±»å‹",prop:"product_type"},{default:t(()=>[l(nl,{modelValue:c.product_type,"onUpdate:modelValue":e[14]||(e[14]=a=>c.product_type=a),onChange:$t},{default:t(()=>[l(we,{value:"original"},{default:t(()=>[l(h,{type:"success",size:"small"},{default:t(()=>[...e[98]||(e[98]=[u("æ­£å“",-1)])]),_:1}),e[99]||(e[99]=u(" æ­£å“å•†å“ ",-1))]),_:1}),l(we,{value:"fake"},{default:t(()=>[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[100]||(e[100]=[u("ä»¿å“",-1)])]),_:1}),e[101]||(e[101]=u(" ä»¿å“å•†å“ ",-1))]),_:1})]),_:1},8,["modelValue"]),e[102]||(e[102]=o("div",{class:"form-tip"},"æ­£å“ï¼šç”¨æˆ·é»˜è®¤çœ‹åˆ°çš„å•†å“ï¼›ä»¿å“ï¼šæ›¿ä»£å±•ç¤ºçš„å•†å“",-1))]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[c.product_type==="fake"?(d(),x(i,{key:0,label:"å…³è”æ­£å“",prop:"b_page_product_id"},{default:t(()=>[l(z,{modelValue:c.b_page_product_id,"onUpdate:modelValue":e[15]||(e[15]=a=>c.b_page_product_id=a),placeholder:"è¯·é€‰æ‹©å¯¹åº”çš„æ­£å“å•†å“ï¼ˆæ”¯æŒå¤šé€‰ï¼‰",filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",remote:"","remote-method":Jt,loading:De.value,style:{width:"100%"}},{default:t(()=>[(d(!0),_(A,null,T(Ie.value,a=>(d(),x(p,{key:a.id,label:`${a.title} - Â¥${a.sell_price}`,value:a.id},{default:t(()=>[o("div",As,[o("span",null,m(a.title),1),o("span",Ts,"Â¥"+m(a.sell_price),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e[103]||(e[103]=o("div",{class:"form-tip"},"é€‰æ‹©è¿™ä¸ªä»¿å“å¯¹åº”çš„æ­£å“å•†å“",-1))]),_:1})):D("",!0)]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"ç›®æ ‡å›½å®¶",prop:"country"},{default:t(()=>[l(z,{modelValue:c.country,"onUpdate:modelValue":e[16]||(e[16]=a=>c.country=a),placeholder:"è¯·é€‰æ‹©ç›®æ ‡å›½å®¶",style:{width:"100%"}},{default:t(()=>[(d(),_(A,null,T(Ol,a=>l(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),e[104]||(e[104]=o("div",{class:"form-tip"},"é€‰æ‹©å•†å“æŠ•æ”¾çš„ç›®æ ‡å›½å®¶/åœ°åŒº",-1))]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"æ–—ç¯·è§„åˆ™",prop:"cloak_rule_id"},{default:t(()=>[l(z,{modelValue:c.cloak_rule_id,"onUpdate:modelValue":e[17]||(e[17]=a=>c.cloak_rule_id=a),placeholder:"è¯·é€‰æ‹©æ–—ç¯·è§„åˆ™",clearable:"",filterable:"",style:{width:"100%"},onChange:la,loading:ve.value},{default:t(()=>[(d(!0),_(A,null,T(H.value,a=>(d(),x(p,{key:a.id,label:`${a.name} (${Vl(a.mode)})`,value:a.id},{default:t(()=>[o("div",Ls,[o("span",null,m(a.name),1),l(h,{type:wl(a.mode),size:"small"},{default:t(()=>[u(m(Vl(a.mode)),1)]),_:2},1032,["type"])])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e[105]||(e[105]=o("div",{class:"form-tip"},"é€‰æ‹©å•†å“ä½¿ç”¨çš„æ–—ç¯·è§„åˆ™ï¼Œæ§åˆ¶ä¸åŒç”¨æˆ·çœ‹åˆ°çš„å†…å®¹",-1)),o("div",Fs,"å½“å‰åŠ è½½äº† "+m(H.value.length)+" ä¸ªæ–—ç¯·è§„åˆ™",1)]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"å±•ç¤ºæ¨¡æ¿",prop:"template"},{default:t(()=>[l(z,{modelValue:c.template,"onUpdate:modelValue":e[18]||(e[18]=a=>c.template=a),placeholder:"è¯·é€‰æ‹©å±•ç¤ºæ¨¡æ¿",style:{width:"100%"}},{default:t(()=>[l(p,{label:"ç»å…¸æ¨¡æ¿ (Classic)",value:"classic"},{default:t(()=>[o("div",Es,[l(h,{type:"info",size:"small"},{default:t(()=>[...e[106]||(e[106]=[u("Classic",-1)])]),_:1}),e[107]||(e[107]=o("span",null,"ç»å…¸æ¨¡æ¿ - å•é¡µè¡¨å•è®¾è®¡",-1))])]),_:1}),l(p,{label:"ç°ä»£æ¨¡æ¿ (Shopline)",value:"shopline"},{default:t(()=>[o("div",Is,[l(h,{type:"success",size:"small"},{default:t(()=>[...e[108]||(e[108]=[u("Shopline",-1)])]),_:1}),e[109]||(e[109]=o("span",null,"ç°ä»£æ¨¡æ¿ - åˆ†ç¦»å¼ç»“è´¦è®¾è®¡",-1))])]),_:1}),l(p,{label:"æ ‡å‡†æ¨¡æ¿ (Standard)",value:"standard"},{default:t(()=>[o("div",Bs,[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[110]||(e[110]=[u("Standard",-1)])]),_:1}),e[111]||(e[111]=o("span",null,"æ ‡å‡†æ¨¡æ¿ - æ¨¡å—åŒ–é«˜æ€§èƒ½è®¾è®¡",-1))])]),_:1})]),_:1},8,["modelValue"]),e[112]||(e[112]=o("div",{class:"form-tip"},[o("strong",null,"Classic:"),u(" ä¼ ç»Ÿå•é¡µè®¾è®¡ï¼Œå•†å“è¯¦æƒ…å’Œè¡¨å•åœ¨åŒä¸€é¡µ "),o("br"),o("strong",null,"Shopline:"),u(" ç°ä»£åŒ–è®¾è®¡ï¼Œå•†å“å±•ç¤ºå’Œç»“è´¦åˆ†ç¦»ï¼Œçº¯é»‘ç™½ç®€æ´é£æ ¼ "),o("br"),o("strong",null,"Standard:"),u(" ğŸ”¥ æ–°ç‰ˆæ ‡å‡†æ¨¡æ¿ï¼Œæ¨¡å—åŒ–æ¶æ„ï¼Œé«˜æ€§èƒ½ï¼Œæ˜“é€šè¿‡Googleå®¡æ ¸ ")],-1))]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"é¡µé¢ä¸»é¢˜é¢œè‰²",prop:"page_primary_color"},{default:t(()=>[o("div",Rs,[l(ta,{modelValue:c.page_primary_color,"onUpdate:modelValue":e[19]||(e[19]=a=>c.page_primary_color=a),"show-alpha":"",predefine:Nl.value,size:"large"},null,8,["modelValue","predefine"]),l(r,{modelValue:c.page_primary_color,"onUpdate:modelValue":e[20]||(e[20]=a=>c.page_primary_color=a),placeholder:"#007d65",style:{flex:"1"}},{prepend:t(()=>[...e[113]||(e[113]=[u("HEX",-1)])]),_:1},8,["modelValue"]),l(oa,{trigger:"click",onCommand:at},{dropdown:t(()=>[l(sa,null,{default:t(()=>[l(ie,{command:"#007d65"},{default:t(()=>[...e[115]||(e[115]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#007d65","border-radius":"3px"}}),o("span",null,"æ£®æ—ç»¿ï¼ˆé»˜è®¤ï¼‰")],-1)])]),_:1}),l(ie,{command:"#3498db"},{default:t(()=>[...e[116]||(e[116]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#3498db","border-radius":"3px"}}),o("span",null,"æµ·æ´‹è“")],-1)])]),_:1}),l(ie,{command:"#e74c3c"},{default:t(()=>[...e[117]||(e[117]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#e74c3c","border-radius":"3px"}}),o("span",null,"æ—¥è½çº¢")],-1)])]),_:1}),l(ie,{command:"#f39c12"},{default:t(()=>[...e[118]||(e[118]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#f39c12","border-radius":"3px"}}),o("span",null,"æ™¨æ›¦æ©™")],-1)])]),_:1}),l(ie,{command:"#9b59b6"},{default:t(()=>[...e[119]||(e[119]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#9b59b6","border-radius":"3px"}}),o("span",null,"çš‡å®¶ç´«")],-1)])]),_:1}),l(ie,{command:"#e91e63"},{default:t(()=>[...e[120]||(e[120]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#e91e63","border-radius":"3px"}}),o("span",null,"ç”œèœœç²‰")],-1)])]),_:1}),l(ie,{command:"#1abc9c"},{default:t(()=>[...e[121]||(e[121]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#1abc9c","border-radius":"3px"}}),o("span",null,"ç°ä»£é’")],-1)])]),_:1}),l(ie,{command:"#3f51b5"},{default:t(()=>[...e[122]||(e[122]=[o("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[o("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#3f51b5","border-radius":"3px"}}),o("span",null,"æ·±é‚ƒé›")],-1)])]),_:1})]),_:1})]),default:t(()=>[l(k,{type:"primary",plain:""},{default:t(()=>[e[114]||(e[114]=u(" é¢„è®¾ä¸»é¢˜ ",-1)),l(n,{class:"el-icon--right"},{default:t(()=>[l(aa)]),_:1})]),_:1})]),_:1})]),e[123]||(e[123]=o("div",{class:"form-tip"},[u(" ğŸ¨ "),o("strong",null,"ä¸»é¢˜è‰²ï¼š"),u("ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆæ·±è‰²å’Œæµ…è‰²å˜ä½“ï¼Œåº”ç”¨äºæŒ‰é’®ã€é“¾æ¥ã€æ ‡ç­¾ç­‰æ‰€æœ‰UIå…ƒç´ "),o("br"),u(" ğŸ’¡ "),o("strong",null,"æç¤ºï¼š"),u("å¯ä»¥ä½¿ç”¨é¢œè‰²é€‰æ‹©å™¨ã€ç›´æ¥è¾“å…¥hexå€¼ï¼Œæˆ–ä»é¢„è®¾ä¸»é¢˜ä¸­å¿«é€Ÿé€‰æ‹© ")],-1))]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"å¤´éƒ¨è·‘é©¬ç¯å†…å®¹",prop:"head_w_marquee"},{default:t(()=>[l(r,{modelValue:c.head_w_marquee,"onUpdate:modelValue":e[21]||(e[21]=a=>c.head_w_marquee=a),type:"textarea",rows:3,placeholder:"ç•™ç©ºåˆ™æ˜¾ç¤ºäº§å“æ ‡é¢˜",style:{width:"100%"}},null,8,["modelValue"]),e[124]||(e[124]=o("div",{class:"form-tip"},"è®¾ç½®å¤´éƒ¨è·‘é©¬ç¯æ˜¾ç¤ºå†…å®¹ï¼Œç•™ç©ºåˆ™æ˜¾ç¤ºäº§å“æ ‡é¢˜",-1))]),_:1})]),_:1})]),_:1}),l(i,{label:"å•†å“å›¾ç‰‡",prop:"image_urls"},{default:t(()=>[l(na,{class:"upload-demo",drag:"",action:fl.value,multiple:"","file-list":Ee.value,"before-upload":pt,"on-success":_t,"on-remove":mt,"on-error":ft,"list-type":"picture-card",accept:"image/*"},{default:t(()=>[l(n,{class:"el-icon--upload"},{default:t(()=>[l(y(Dl))]),_:1}),e[125]||(e[125]=o("div",{class:"el-upload__text"},[u("å°†å›¾ç‰‡æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),o("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["action","file-list"])]),_:1}),l(i,{label:"å•†å“æè¿°",prop:"rich_text_content"},{default:t(()=>[o("div",{class:pe(["wang-editor-wrapper",be.value?"fullscreen":""])},[l(Ma,{value:c.rich_text_content||"",height:Jl.value,"editor-config":Hl.value,"onUpdate:value":gt},null,8,["value","height","editor-config"]),o("div",js,[l(k,{size:"small",onClick:vt,title:"è°ƒæ•´ç¼–è¾‘å™¨å¤§å°"},{default:t(()=>[l(n,null,{default:t(()=>[be.value?(d(),x(y(Kl),{key:0})):(d(),x(y(Ml),{key:1}))]),_:1}),u(" "+m(be.value?"æ¢å¤":"å…¨å±ç¼–è¾‘"),1)]),_:1}),l(k,{size:"small",onClick:yt,title:"æ¸…ç©ºå†…å®¹"},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Ze))]),_:1}),e[126]||(e[126]=u(" æ¸…ç©ºå†…å®¹ ",-1))]),_:1})])],2)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(ce,{modelValue:Se.value,"onUpdate:modelValue":e[24]||(e[24]=a=>Se.value=a),title:"SKUç®¡ç†",width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:t(()=>[o("div",Ns,[o("div",Os,[o("div",Js,[e[132]||(e[132]=o("h3",null,"SKUåˆ—è¡¨",-1)),o("div",Hs,[l(k,{type:"success",onClick:Pt},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Va))]),_:1}),e[129]||(e[129]=u(" æ‰¹é‡ç”ŸæˆSKU ",-1))]),_:1}),l(k,{type:"primary",onClick:Vt},{default:t(()=>[l(n,null,{default:t(()=>[l(y(_e))]),_:1}),e[130]||(e[130]=u(" æ·»åŠ SKU ",-1))]),_:1}),q.value.length>1?(d(),x(k,{key:0,type:"warning",onClick:At},{default:t(()=>[l(n,null,{default:t(()=>[l(y(cl))]),_:1}),e[131]||(e[131]=u(" æ’åºSKU ",-1))]),_:1})):D("",!0)])]),rl((d(),x(Te,{data:q.value,stripe:"",border:"",style:{width:"100%"}},{default:t(()=>[l(K,{label:"å›¾ç‰‡",width:"80",align:"center"},{default:t(({row:a})=>[a.main_image?(d(),x(Q,{key:0,size:50,class:"sku-avatar"},{default:t(()=>[o("img",{src:a.main_image,alt:a.sku_name,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Ws)]),_:2},1024)):(d(),x(Q,{key:1,size:50,class:"sku-avatar"},{default:t(()=>[l(n,null,{default:t(()=>[l(y(We))]),_:1})]),_:1}))]),_:1}),l(K,{prop:"sku_code",label:"SKUç¼–ç ",width:"120"}),l(K,{prop:"sku_name",label:"SKUåç§°",width:"150"}),l(K,{label:"å±æ€§ç»„åˆ","min-width":"200"},{default:t(({row:a})=>[o("div",Gs,[(d(!0),_(A,null,T(a.attributes,b=>(d(),x(h,{key:b.attribute_name,size:"small",class:"attr-tag"},{default:t(()=>[u(m(b.display_name)+": "+m(b.display_value),1)]),_:2},1024))),128))])]),_:1}),l(K,{prop:"sell_price",label:"é”€å”®ä»·æ ¼",width:"100",align:"center"},{default:t(({row:a})=>[o("span",Zs,"Â¥"+m(a.sell_price),1)]),_:1}),l(K,{prop:"discount_percent",label:"æŠ˜æ‰£",width:"80",align:"center"},{default:t(({row:a})=>[a.discount_percent&&a.discount_percent>0?(d(),x(h,{key:0,type:"success",size:"small"},{default:t(()=>[u(m(a.discount_percent)+"% ",1)]),_:2},1024)):(d(),_("span",Qs,"--"))]),_:1}),l(K,{prop:"stock_quantity",label:"åº“å­˜",width:"80",align:"center"}),l(K,{prop:"status",label:"çŠ¶æ€",width:"100",align:"center"},{default:t(({row:a})=>[l(h,{type:Yl(a.status),size:"small"},{default:t(()=>[u(m(et(a.status)),1)]),_:2},1032,["type"])]),_:1}),l(K,{label:"æ“ä½œ",width:"150",align:"center"},{default:t(({row:a})=>[l(k,{size:"small",type:"primary",link:"",onClick:b=>xt(a)},{default:t(()=>[...e[133]||(e[133]=[u("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:b=>St(a)},{default:t(()=>[...e[134]||(e[134]=[u("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[ul,Ue.value]])])])]),_:1},8,["modelValue"]),l(ce,{modelValue:Me.value,"onUpdate:modelValue":e[29]||(e[29]=a=>Me.value=a),title:"SKUåˆ†å±‚æ’åº",width:"1200px",fullscreen:re.value,"close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[o("div",ho,[l(k,{onClick:e[28]||(e[28]=a=>Me.value=!1)},{default:t(()=>[...e[137]||(e[137]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:jt,loading:Ye.value},{default:t(()=>[...e[138]||(e[138]=[u(" ä¿å­˜æ’åº ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[o("div",{class:pe(["sku-sort-container",{fullscreen:re.value}])},[o("div",Xs,[l(il,{title:"åˆ†å±‚æ’åºè¯´æ˜",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:t(()=>[...e[135]||(e[135]=[o("div",null,[o("p",null,"â€¢ ç¬¬ä¸€å±‚ï¼šæŒ‰å±æ€§ç±»å‹æ’åºï¼ˆå¦‚ï¼šsizeã€colorï¼‰"),o("p",null,"â€¢ ç¬¬äºŒå±‚ï¼šæŒ‰å±æ€§å€¼æ’åºï¼ˆå¦‚ï¼šsize1ã€size2ã€size3ï¼‰"),o("p",null,"â€¢ æ‹–æ‹½é¡¹ç›®å¯ä»¥è°ƒæ•´æ˜¾ç¤ºé¡ºåº")],-1)])]),_:1}),o("div",Ys,[l(k,{type:"primary",icon:re.value?"ScaleToOriginal":"FullScreen",onClick:Tt,circle:"",size:"small"},{default:t(()=>[l(n,null,{default:t(()=>[re.value?(d(),x(y(Kl),{key:0})):(d(),x(y(Ml),{key:1}))]),_:1})]),_:1},8,["icon"])])]),o("div",eo,[l(ia,{modelValue:ml.value,"onUpdate:modelValue":e[27]||(e[27]=a=>ml.value=a),type:"card"},{default:t(()=>[l(xl,{label:"å±æ€§ç±»å‹æ’åº",name:"attribute"},{default:t(()=>[o("div",lo,[e[136]||(e[136]=o("div",{class:"section-title"},"æ‹–æ‹½è°ƒæ•´å±æ€§ç±»å‹çš„æ˜¾ç¤ºé¡ºåº",-1)),o("div",to,[(d(!0),_(A,null,T(se.value,(a,b)=>(d(),_("div",{key:a.name,class:"attribute-item",draggable:!0,onDragstart:M=>Et(M,b),onDragover:e[25]||(e[25]=M=>bl(M)),onDrop:M=>It(M,b)},[o("div",so,[o("div",oo,[l(n,null,{default:t(()=>[l(y(cl))]),_:1})]),o("div",no,[o("div",io,m(a.name),1),o("div",uo,m(a.count)+"ä¸ªSKU",1)]),o("div",ro,m(b+1),1)])],40,ao))),128))])])]),_:1}),(d(!0),_(A,null,T(se.value,a=>(d(),x(xl,{key:a.name,label:`${a.name}æ’åº`,name:a.name},{default:t(()=>[o("div",co,[o("div",po,m(a.name)+" å±æ€§å€¼æ’åº",1),o("div",_o,[(d(!0),_(A,null,T(Ft(a.name),(b,M)=>(d(),_("div",{key:`${a.name}-${b.value}`,class:"value-item",draggable:!0,onDragstart:Le=>Bt(Le,a.name,M),onDragover:e[26]||(e[26]=Le=>bl(Le)),onDrop:Le=>Rt(Le,a.name,M)},[o("div",fo,[o("div",vo,[l(n,null,{default:t(()=>[l(y(cl))]),_:1})]),o("div",go,[o("div",yo,m(b.value),1),o("div",ko,m(b.count)+"ä¸ªSKU",1)]),o("div",bo,m(M+1),1)])],40,mo))),128))])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])],2)]),_:1},8,["modelValue","fullscreen"]),l(ce,{modelValue:Ke.value,"onUpdate:modelValue":e[37]||(e[37]=a=>Ke.value=a),title:"æ‰¹é‡ç”ŸæˆSKU",width:"900px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[o("div",$o,[l(k,{onClick:e[36]||(e[36]=a=>Ke.value=!1)},{default:t(()=>[...e[146]||(e[146]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Mt,loading:Xe.value},{default:t(()=>[u(" ç”Ÿæˆ "+m(W.value.length)+" ä¸ªSKU ",1)]),_:1},8,["loading"])])]),default:t(()=>[o("div",wo,[l(il,{title:"æ‰¹é‡ç”Ÿæˆè¯´æ˜",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:t(()=>[...e[139]||(e[139]=[o("div",null,[o("p",null,"â€¢ å¯ä»¥ä¸€æ¬¡æ€§ä¸ºå•†å“ç”Ÿæˆå¤šä¸ªä¸åŒè§„æ ¼çš„SKU"),o("p",null,"â€¢ ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºæ‰€æœ‰è§„æ ¼ç»„åˆçš„SKU"),o("p",null,"â€¢ è§„æ ¼å€¼è¾“å…¥ï¼šæ¯è¡Œè¾“å…¥ä¸€ä¸ªå€¼ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«"),o("p",null,"â€¢ ç¤ºä¾‹ï¼šé¢œè‰²(çº¢ã€è“) Ã— å°ºå¯¸(Mã€L) = 4ä¸ªSKU")],-1)])]),_:1}),l(he,{model:V,"label-width":"120px"},{default:t(()=>[l(oe,{class:"form-card",shadow:"never"},{header:t(()=>[...e[140]||(e[140]=[o("span",{style:{"font-weight":"600"}},"åŸºç¡€ä¿¡æ¯",-1)])]),default:t(()=>[l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"é”€å”®ä»·æ ¼",required:""},{default:t(()=>[l(E,{modelValue:V.sell_price,"onUpdate:modelValue":e[30]||(e[30]=a=>V.sell_price=a),min:0,precision:2,style:{width:"100%"},onChange:yl},null,8,["modelValue"])]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"åŸä»·"},{default:t(()=>[l(E,{modelValue:V.origin_price,"onUpdate:modelValue":e[31]||(e[31]=a=>V.origin_price=a),min:0,precision:2,style:{width:"100%"},onChange:yl},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"æŠ˜æ‰£(%)",prop:"discount_percent"},{default:t(()=>[l(E,{modelValue:V.discount_percent,"onUpdate:modelValue":e[32]||(e[32]=a=>V.discount_percent=a),min:0,max:100,precision:0,style:{width:"100%"},disabled:""},{append:t(()=>[...e[141]||(e[141]=[u("%",-1)])]),_:1},8,["modelValue"]),e[142]||(e[142]=o("div",{class:"form-tip"},"æ ¹æ®é”€å”®ä»·å’ŒåŸä»·è‡ªåŠ¨è®¡ç®—",-1))]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"æˆæœ¬ä»·"},{default:t(()=>[l(E,{modelValue:V.cost_price,"onUpdate:modelValue":e[33]||(e[33]=a=>V.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"åº“å­˜æ•°é‡",required:""},{default:t(()=>[l(E,{modelValue:V.stock_quantity,"onUpdate:modelValue":e[34]||(e[34]=a=>V.stock_quantity=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"æˆæœ¬ä»·"},{default:t(()=>[l(E,{modelValue:V.cost_price,"onUpdate:modelValue":e[35]||(e[35]=a=>V.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(oe,{class:"form-card",shadow:"never",style:{"margin-top":"20px"}},{header:t(()=>[o("div",Vo,[e[144]||(e[144]=o("span",{style:{"font-weight":"600"}},"è§„æ ¼é…ç½®",-1)),l(k,{type:"primary",size:"small",onClick:Dt},{default:t(()=>[l(n,null,{default:t(()=>[l(y(_e))]),_:1}),e[143]||(e[143]=u(" æ·»åŠ è§„æ ¼ ",-1))]),_:1})])]),default:t(()=>[(d(!0),_(A,null,T(V.specs,(a,b)=>(d(),_("div",{key:b,class:"batch-spec-item"},[l(I,{gutter:10,style:{"margin-bottom":"10px"}},{default:t(()=>[l(S,{span:6},{default:t(()=>[l(r,{modelValue:a.name,"onUpdate:modelValue":M=>a.name=M,placeholder:"è§„æ ¼åç§°ï¼Œå¦‚ï¼šé¢œè‰²"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(S,{span:14},{default:t(()=>[l(r,{modelValue:a.values,"onUpdate:modelValue":M=>a.values=M,type:"textarea",rows:3,placeholder:`æ¯è¡Œè¾“å…¥ä¸€ä¸ªè§„æ ¼å€¼ï¼Œä¾‹å¦‚ï¼š
çº¢è‰²
è“è‰²
ç»¿è‰²`,style:{resize:"vertical"}},null,8,["modelValue","onUpdate:modelValue"]),e[145]||(e[145]=o("div",{class:"form-tip"},"æ¯è¡Œè¾“å…¥ä¸€ä¸ªè§„æ ¼å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«",-1))]),_:2},1024),l(S,{span:4},{default:t(()=>[l(k,{type:"danger",size:"small",onClick:M=>Kt(b)},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Ze))]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),W.value.length>0?(d(),_("div",xo,[l(Sl,{"content-position":"left"},{default:t(()=>[u("é¢„è§ˆç”Ÿæˆçš„SKU ("+m(W.value.length)+"ä¸ª)",1)]),_:1}),o("div",So,[(d(!0),_(A,null,T(W.value,(a,b)=>(d(),_("div",{key:b,class:"preview-sku-item"},[o("div",Co,[o("div",Uo,m(a.sku_name),1),o("div",zo,[(d(!0),_(A,null,T(a.attributes,M=>(d(),x(h,{key:M.name,size:"small",class:"spec-tag"},{default:t(()=>[u(m(M.name)+": "+m(M.value),1)]),_:2},1024))),128))])])]))),128))])])):D("",!0)]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"]),l(ce,{modelValue:te.value,"onUpdate:modelValue":e[53]||(e[53]=a=>te.value=a),title:Ce.value,width:"800px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[o("div",qo,[l(k,{onClick:e[52]||(e[52]=a=>te.value=!1)},{default:t(()=>[...e[159]||(e[159]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Ut,loading:ze.value},{default:t(()=>[...e[160]||(e[160]=[u("ç¡®å®š",-1)])]),_:1},8,["loading"])])]),default:t(()=>[l(he,{model:g,rules:Gl,ref_key:"skuFormRef",ref:C,"label-width":"100px"},{default:t(()=>[l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"SKUç¼–ç ",prop:"sku_code"},{default:t(()=>[l(r,{modelValue:g.sku_code,"onUpdate:modelValue":e[38]||(e[38]=a=>g.sku_code=a),placeholder:"è‡ªåŠ¨ç”Ÿæˆ"},null,8,["modelValue"])]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"SKUåç§°",prop:"sku_name"},{default:t(()=>[l(r,{modelValue:g.sku_name,"onUpdate:modelValue":e[39]||(e[39]=a=>g.sku_name=a),placeholder:"è¯·è¾“å…¥SKUåç§°"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"é”€å”®ä»·æ ¼",prop:"sell_price"},{default:t(()=>[l(E,{modelValue:g.sell_price,"onUpdate:modelValue":e[40]||(e[40]=a=>g.sell_price=a),min:0,precision:2,style:{width:"100%"},onChange:hl},null,8,["modelValue"])]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"åŸä»·",prop:"origin_price"},{default:t(()=>[l(E,{modelValue:g.origin_price,"onUpdate:modelValue":e[41]||(e[41]=a=>g.origin_price=a),min:0,precision:2,style:{width:"100%"},onChange:hl},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"æŠ˜æ‰£(%)",prop:"discount_percent"},{default:t(()=>[l(E,{modelValue:g.discount_percent,"onUpdate:modelValue":e[42]||(e[42]=a=>g.discount_percent=a),min:0,max:100,precision:0,style:{width:"100%"},onChange:Ot},{append:t(()=>[...e[147]||(e[147]=[u("%",-1)])]),_:1},8,["modelValue"]),e[148]||(e[148]=o("div",{class:"form-tip"},"è¾“å…¥é”€å”®ä»·å’ŒåŸä»·åè‡ªåŠ¨è®¡ç®—ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥æŠ˜æ‰£",-1))]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"æˆæœ¬ä»·",prop:"cost_price"},{default:t(()=>[l(E,{modelValue:g.cost_price,"onUpdate:modelValue":e[43]||(e[43]=a=>g.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(I,{gutter:20},{default:t(()=>[l(S,{span:12},{default:t(()=>[l(i,{label:"åº“å­˜æ•°é‡",prop:"stock_quantity"},{default:t(()=>[l(E,{modelValue:g.stock_quantity,"onUpdate:modelValue":e[44]||(e[44]=a=>g.stock_quantity=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(S,{span:12},{default:t(()=>[l(i,{label:"é¢„è­¦åº“å­˜",prop:"warning_stock"},{default:t(()=>[l(E,{modelValue:g.warning_stock,"onUpdate:modelValue":e[45]||(e[45]=a=>g.warning_stock=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(i,{label:"SKUå›¾ç‰‡",prop:"main_image"},{default:t(()=>[l(El,{"image-url":g.main_image,"onUpdate:imageUrl":e[46]||(e[46]=a=>g.main_image=a),"file-size":2,"file-type":["image/jpg","image/jpeg","image/png","image/gif","image/webp"],drag:!0,width:"120px",height:"120px"},null,8,["image-url"])]),_:1}),l(i,{label:"SKUè§„æ ¼",prop:"attributes"},{default:t(()=>[o("div",Po,[l(il,{title:"SKUè§„æ ¼è®¾ç½®è¯´æ˜",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"16px"}},{default:t(()=>[...e[149]||(e[149]=[o("div",null,[o("p",null,[u("â€¢ "),o("strong",null,"æ¯ä¸ªSKUä»£è¡¨ä¸€ä¸ªå…·ä½“çš„å•†å“è§„æ ¼ç»„åˆ")]),o("p",null,"â€¢ ä¸€ä¸ªSKUçš„åŒä¸€å±æ€§åªèƒ½è®¾ç½®ä¸€ä¸ªå€¼ï¼ˆå¦‚ï¼šå°ºå¯¸åªèƒ½æ˜¯Mæˆ–Lï¼Œä¸èƒ½åŒæ—¶æ˜¯ä¸¤ç§ï¼‰"),o("p",null,"â€¢ å¦‚éœ€ä¸åŒè§„æ ¼ï¼Œè¯·åˆ›å»ºå¤šä¸ªSKU"),o("p",null,"â€¢ ç¤ºä¾‹ï¼šçº¢è‰²Mç ä¸ºä¸€ä¸ªSKUï¼Œçº¢è‰²Lç ä¸ºå¦ä¸€ä¸ªSKU"),o("p",null,'â€¢ æç¤ºï¼šä½¿ç”¨"æ·»åŠ SKU"æŒ‰é’®ä¸ºæ¯ä¸ªè§„æ ¼ç»„åˆåˆ›å»ºç‹¬ç«‹çš„SKU')],-1)])]),_:1}),o("div",Do,[l(I,{gutter:10},{default:t(()=>[l(S,{span:8},{default:t(()=>[l(r,{modelValue:N.value,"onUpdate:modelValue":e[47]||(e[47]=a=>N.value=a),placeholder:"è§„æ ¼åç§°ï¼Œå¦‚ï¼šå°ºå¯¸",maxlength:20,"show-word-limit":""},null,8,["modelValue"])]),_:1}),l(S,{span:12},{default:t(()=>[l(r,{modelValue:Z.value,"onUpdate:modelValue":e[48]||(e[48]=a=>Z.value=a),placeholder:"è§„æ ¼å€¼ï¼Œå¦‚ï¼šM",maxlength:200,"show-word-limit":""},null,8,["modelValue"])]),_:1}),l(S,{span:4},{default:t(()=>[l(k,{type:"primary",onClick:bt,disabled:!N.value||!Z.value},{default:t(()=>[l(n,null,{default:t(()=>[l(y(_e))]),_:1}),e[150]||(e[150]=u(" æ·»åŠ  ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1}),e[151]||(e[151]=o("div",{class:"form-tip",style:{"margin-top":"8px",color:"#909399","font-size":"12px"}}," æç¤ºï¼šæ¯ä¸ªSKUåªèƒ½è®¾ç½®ä¸€ä¸ªå±æ€§å€¼ï¼Œå¦‚éœ€ä¸åŒè§„æ ¼è¯·åˆ›å»ºå¤šä¸ªSKU ",-1))]),R.value.length>0?(d(),_("div",Ko,[l(Sl,{"content-position":"left"},{default:t(()=>[...e[152]||(e[152]=[u("å·²æ·»åŠ çš„è§„æ ¼",-1)])]),_:1}),o("div",Mo,[(d(!0),_(A,null,T(R.value,(a,b)=>(d(),_("div",{key:b,class:"spec-item"},[o("div",Ao,[o("span",To,m(a.name),1),l(h,{type:"primary",size:"small"},{default:t(()=>[u(m(a.value),1)]),_:2},1024)]),o("div",Lo,[l(k,{size:"small",type:"primary",link:"",onClick:M=>wt(b),icon:"Edit"},{default:t(()=>[...e[153]||(e[153]=[u(" ç¼–è¾‘ ",-1)])]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:M=>ht(b),icon:"Delete"},{default:t(()=>[...e[154]||(e[154]=[u(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])])]))),128))])])):D("",!0)])]),_:1}),l(i,{label:"ä¸»å›¾è®¾ç½®",prop:"main_image"},{default:t(()=>[o("div",Fo,[o("div",Eo,[l(nl,{modelValue:$e.value,"onUpdate:modelValue":e[49]||(e[49]=a=>$e.value=a),onChange:zt},{default:t(()=>[l(we,{value:"url"},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Ge))]),_:1}),e[155]||(e[155]=u(" URLè¾“å…¥ ",-1))]),_:1}),l(we,{value:"upload"},{default:t(()=>[l(n,null,{default:t(()=>[l(y(Dl))]),_:1}),e[156]||(e[156]=u(" æ–‡ä»¶ä¸Šä¼  ",-1))]),_:1})]),_:1},8,["modelValue"])]),$e.value==="url"?(d(),_("div",Io,[l(r,{modelValue:g.main_image,"onUpdate:modelValue":e[50]||(e[50]=a=>g.main_image=a),placeholder:"è¯·è¾“å…¥å›¾ç‰‡URLåœ°å€",clearable:""},{prepend:t(()=>[l(n,null,{default:t(()=>[l(y(Ge))]),_:1})]),_:1},8,["modelValue"]),g.main_image?(d(),_("div",Bo,[l(ua,{src:g.main_image,fit:"cover",style:{width:"80px",height:"80px","border-radius":"4px"},"preview-src-list":[g.main_image],"preview-teleported":""},{error:t(()=>[o("div",Ro,[l(n,null,{default:t(()=>[l(y(xa))]),_:1}),e[157]||(e[157]=o("span",null,"åŠ è½½å¤±è´¥",-1))])]),_:1},8,["src","preview-src-list"])])):D("",!0)])):D("",!0),$e.value==="upload"?(d(),_("div",jo,[l(El,{"image-url":g.main_image,"onUpdate:imageUrl":e[51]||(e[51]=a=>g.main_image=a),height:"120px",width:"120px","file-size":2,"file-type":["image/jpeg","image/png","image/gif","image/webp"]},{tip:t(()=>[...e[158]||(e[158]=[o("div",{class:"upload-tip"},"æ”¯æŒ JPGã€PNGã€GIFã€WebP æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 10MB",-1)])]),_:1},8,["image-url"])])):D("",!0)])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(ce,{modelValue:ge.value,"onUpdate:modelValue":e[59]||(e[59]=a=>ge.value=a),title:"é€‰æ‹©å…³è”ä»¿å“",width:"1000px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[o("div",un,[l(k,{onClick:e[58]||(e[58]=a=>ge.value=!1)},{default:t(()=>[...e[166]||(e[166]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Qt,disabled:!ae.value},{default:t(()=>[...e[167]||(e[167]=[u(" ç¡®å®šå…³è” ",-1)])]),_:1},8,["disabled"])])]),default:t(()=>[o("div",No,[l(oe,{class:"current-product-card",shadow:"never"},{header:t(()=>[...e[161]||(e[161]=[o("span",{style:{"font-weight":"600",color:"#409eff"}},"å½“å‰æ­£å“å•†å“",-1)])]),default:t(()=>[P.value?(d(),_("div",Oo,[P.value.image_urls&&P.value.image_urls[0]?(d(),x(Q,{key:0,size:60},{default:t(()=>[o("img",{src:P.value.image_urls[0],alt:P.value.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Jo)]),_:1})):(d(),x(Q,{key:1,size:60},{default:t(()=>[l(n,null,{default:t(()=>[l(y(We))]),_:1})]),_:1})),o("div",Ho,[o("div",Wo,m(P.value.title),1),o("div",Go,"Â¥"+m(P.value.sell_price),1),l(h,{type:"success",size:"small"},{default:t(()=>[...e[162]||(e[162]=[u("æ­£å“",-1)])]),_:1})])])):D("",!0)]),_:1}),l(oe,{class:"fake-selection-card",shadow:"never"},{header:t(()=>[o("div",Zo,[e[164]||(e[164]=o("span",{style:{"font-weight":"600"}},"é€‰æ‹©è¦å…³è”çš„ä»¿å“",-1)),l(k,{type:"primary",size:"small",onClick:ea},{default:t(()=>[l(n,null,{default:t(()=>[l(y(_e))]),_:1}),e[163]||(e[163]=u(" åˆ›å»ºæ–°ä»¿å“ ",-1))]),_:1})])]),default:t(()=>[o("div",Qo,[l(r,{modelValue:je.value,"onUpdate:modelValue":e[54]||(e[54]=a=>je.value=a),placeholder:"æœç´¢ä»¿å“å•†å“...",clearable:"",onInput:Wt,style:{width:"300px"}},{prefix:t(()=>[l(n,null,{default:t(()=>[l(y(He))]),_:1})]),_:1},8,["modelValue"])]),rl((d(),_("div",Xo,[(d(!0),_(A,null,T(Be.value,a=>(d(),_("div",{key:a.id,class:pe(["fake-product-card",{active:ae.value===a.id}]),onClick:b=>ae.value=a.id},[a.image_urls&&a.image_urls[0]?(d(),x(Q,{key:0,size:28},{default:t(()=>[o("img",{src:a.image_urls[0],alt:a.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,en)]),_:2},1024)):(d(),x(Q,{key:1,size:28},{default:t(()=>[l(n,null,{default:t(()=>[l(y(We))]),_:1})]),_:1})),o("div",ln,[o("div",tn,m(a.title),1),o("div",an,"Â¥"+m(a.sell_price),1),l(h,{type:"warning",size:"small",style:{padding:"1px 4px","font-size":"10px"}},{default:t(()=>[...e[165]||(e[165]=[u("ä»¿å“",-1)])]),_:1})]),o("div",sn,[l(we,{value:a.id,modelValue:ae.value,"onUpdate:modelValue":e[55]||(e[55]=b=>ae.value=b)},null,8,["value","modelValue"])])],10,Yo))),128)),!Re.value&&Be.value.length===0?(d(),_("div",on,[l(da,{description:"æš‚æ— å¯å…³è”çš„ä»¿å“å•†å“"})])):D("",!0)])),[[ul,Re.value]]),Be.value.length>0?(d(),_("div",nn,[l(Je,{"current-page":O.current,"onUpdate:currentPage":e[56]||(e[56]=a=>O.current=a),"page-size":O.size,"onUpdate:pageSize":e[57]||(e[57]=a=>O.size=a),"page-sizes":[12,24,48],total:O.total,layout:"total, sizes, prev, pager, next",onSizeChange:Gt,onCurrentChange:Zt,small:""},null,8,["current-page","page-size","total"])])):D("",!0)]),_:1})])]),_:1},8,["modelValue"]),l(ce,{modelValue:Y.value,"onUpdate:modelValue":e[62]||(e[62]=a=>Y.value=a),title:"é€‰æ‹©æŸ¥çœ‹åŸŸå",width:"500px","close-on-click-modal":!1},{footer:t(()=>[o("div",yn,[l(k,{onClick:e[61]||(e[61]=a=>Y.value=!1)},{default:t(()=>[...e[170]||(e[170]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:ot,disabled:!B.value},{default:t(()=>[...e[171]||(e[171]=[u(" ç¡®è®¤æŸ¥çœ‹ ",-1)])]),_:1},8,["disabled"])])]),default:t(()=>[F.value?(d(),_("div",dn,[o("div",rn,[o("h4",null,m(F.value.title),1),e[168]||(e[168]=o("p",null,"è¯·é€‰æ‹©è¦æŸ¥çœ‹çš„åŸŸåï¼š",-1))]),l(nl,{modelValue:B.value,"onUpdate:modelValue":e[60]||(e[60]=a=>B.value=a),class:"domain-options"},{default:t(()=>[(d(!0),_(A,null,T(ee.value,a=>(d(),x(we,{key:a.id,value:a,class:"domain-option"},{default:t(()=>{var b;return[o("div",cn,[o("div",pn,[o("span",_n,m(a.name),1),l(h,{type:a.is_active?"success":"info",size:"small"},{default:t(()=>[u(m(a.is_active?"å¯ç”¨":"ç¦ç”¨"),1)]),_:2},1032,["type"]),a.is_wildcard?(d(),x(h,{key:0,type:"warning",size:"small"},{default:t(()=>[...e[169]||(e[169]=[u(" é€šé…ç¬¦åŸŸå ",-1)])]),_:1})):D("",!0)]),o("div",mn,[l(n,null,{default:t(()=>[l(y(Ge))]),_:1}),a.is_wildcard&&((b=F.value)!=null&&b.country)?(d(),_("span",fn,m(a.protocol)+"://"+m(F.value.country.toLowerCase())+"."+m(a.domain),1)):(d(),_("span",vn,m(a.protocol)+"://"+m(a.domain),1))]),a.description?(d(),_("div",gn,m(a.description),1)):D("",!0)])]}),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):D("",!0)]),_:1},8,["modelValue"])])}}}),zn=Bl(bn,[["__scopeId","data-v-7612903e"]]);export{zn as default};
