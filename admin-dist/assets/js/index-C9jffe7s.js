import{d as w,B as $,h as m,P as b,r as h,c as B,o as N,b as r,a as P,u as s,w as l,aD as D,e as i,T as I,E as V,U as A,S as E,i as F,V as R,a0 as q,N as S}from"./index-2V8v6Wus.js";import{u as g}from"./useHandleData-FdY6oYMB.js";import{I as H,u as M}from"./index-DiZdGXPm.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BDY6n2Ek.js";import{T as W}from"./index-TPeHRCc-.js";import{_ as j}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-CzkyEd6P.js";import{a as z,b as J,g as K,c as O,d as Q,r as X,e as _,B as Y,h as Z,i as ee}from"./user-8v0ZagXK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-xXTzzsvS.js";import"./Imgs-BBFhVxwR.js";import"./upload-DeBNZ0OE.js";const ae={class:"main-box"},te={class:"table-box"},re=w({name:"useTreeFilter"}),ge=w({...re,setup(le){const y=$(),v=()=>{y.push("/proTable/useTreeFilter/detail/123456?params=detail-page")},n=m(),d=b({departmentId:"1"}),k=a=>{S.success("请注意查看请求参数变化 🤔"),n.value.pageable.pageNum=1,d.departmentId=a},T=b([{type:"index",label:"#",width:80},{prop:"username",label:"用户姓名",width:120,search:{el:"input"}},{prop:"gender",label:"性别",width:120,sortable:!0,enum:z,search:{el:"select"},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"idCard",label:"身份证号"},{prop:"email",label:"邮箱"},{prop:"address",label:"居住地址"},{prop:"status",label:"用户状态",width:120,sortable:!0,tag:!0,enum:J,search:{el:"select"},fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"创建时间",width:180},{prop:"operation",label:"操作",width:330,fixed:"right"}]),C=async a=>{var e;await g(Q,{id:[a.id]},`删除【${a.username}】用户`),(e=n.value)==null||e.getTableList()},x=async a=>{var e;await g(X,{id:a.id},`重置【${a.username}】用户密码`),(e=n.value)==null||e.getTableList()},U=async()=>{q.confirm("确认导出用户数据?","温馨提示",{type:"warning"}).then(()=>{var a;return M(_,"用户列表",(a=n.value)==null?void 0:a.searchParam)})},c=m(null),L=()=>{var e,t;const a={title:"用户",tempApi:_,importApi:Y,getTableList:(e=n.value)==null?void 0:e.getTableList};(t=c.value)==null||t.acceptParams(a)},f=m(null),u=(a,e={})=>{var o,p;const t={title:a,isView:a==="查看",row:{...e},api:a==="新增"?Z:a==="编辑"?ee:void 0,getTableList:(o=n.value)==null?void 0:o.getTableList};(p=f.value)==null||p.acceptParams(t)};return(a,e)=>{const t=h("el-button");return N(),B("div",ae,[r(W,{label:"name",title:"部门列表(单选)","request-api":s(K),"default-value":d.departmentId,onChange:k},null,8,["request-api","default-value"]),P("div",te,[r(G,{ref_key:"proTable",ref:n,columns:T,"request-api":s(O),"init-param":d,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:l(()=>[r(t,{type:"primary",icon:s(E),onClick:e[0]||(e[0]=o=>u("新增"))},{default:l(()=>[...e[1]||(e[1]=[i("新增用户",-1)])]),_:1},8,["icon"]),r(t,{type:"primary",icon:s(F),plain:"",onClick:L},{default:l(()=>[...e[2]||(e[2]=[i("批量添加用户",-1)])]),_:1},8,["icon"]),r(t,{type:"primary",icon:s(R),plain:"",onClick:U},{default:l(()=>[...e[3]||(e[3]=[i("导出用户数据",-1)])]),_:1},8,["icon"]),r(t,{type:"primary",plain:"",onClick:v},{default:l(()=>[...e[4]||(e[4]=[i("To 平级详情页面",-1)])]),_:1})]),operation:l(o=>[r(t,{type:"primary",link:"",icon:s(D),onClick:p=>u("查看",o.row)},{default:l(()=>[...e[5]||(e[5]=[i("查看",-1)])]),_:1},8,["icon","onClick"]),r(t,{type:"primary",link:"",icon:s(I),onClick:p=>u("编辑",o.row)},{default:l(()=>[...e[6]||(e[6]=[i("编辑",-1)])]),_:1},8,["icon","onClick"]),r(t,{type:"primary",link:"",icon:s(V),onClick:p=>x(o.row)},{default:l(()=>[...e[7]||(e[7]=[i("重置密码",-1)])]),_:1},8,["icon","onClick"]),r(t,{type:"primary",link:"",icon:s(A),onClick:p=>C(o.row)},{default:l(()=>[...e[8]||(e[8]=[i("删除",-1)])]),_:1},8,["icon","onClick"])]),_:1},8,["columns","request-api","init-param"]),r(j,{ref_key:"drawerRef",ref:f},null,512),r(H,{ref_key:"dialogRef",ref:c},null,512)])])}}});export{ge as default};
