import{a5 as Fe,d as Ge,af as la,h as v,ag as ta,D as bl,ah as aa,ai as sa,s as Ve,r as V,c as m,o as d,b as l,a as i,g as S,R as M,n as We,w as t,F as B,u as y,as as Ml,bg as ia,U as Je,q as oa,a7 as hl,N as c,$ as pe,P as be,a8 as ol,Z as na,Q as ua,_ as da,x as nl,e as u,E as Vl,W as ul,aL as Ne,t as f,aq as Oe,aK as wl,ar as ra,ay as pa,aY as ca,bh as _a,f as q,bi as xl,bj as Sl,G as Ul,bk as ma,bl as dl,aW as fa,a0 as he}from"./index-CFy-F2qQ.js";import{d as ga,c as va,u as ya,a as ka,g as Cl,b as zl,e as $l,f as ba}from"./product-D_7Hp4fP.js";import{c as ha}from"./cloakRule-My8xhkIO.js";import{a as Va}from"./domainConfig-DujkcCFL.js";import{W as wa}from"./index-DAtCKdsp.js";import{_ as Kl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./upload-BVrbaCSh.js";const xa=K=>Fe.get(`/admin/products/${K}/skus`),Dl=K=>Fe.post("/admin/product-skus",K),Sa=(K,ue)=>Fe.put(`/admin/product-skus/${K}`,ue),Ua=K=>Fe.delete(`/admin/product-skus/${K}`),Ca={class:"product-upload-box"},za=["src"],$a={key:1,class:"upload-empty"},Da={class:"el-upload__tip"},Pa=Ge({name:"ProductUploadImg"}),Ma=Ge({...Pa,props:{imageUrl:{default:""},drag:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},fileSize:{default:2},fileType:{default:()=>["image/jpeg","image/png","image/gif","image/webp"]},height:{default:"150px"},width:{default:"150px"},borderRadius:{default:"8px"}},emits:["update:imageUrl","update:image-url"],setup(K,{emit:ue}){la(U=>({v5f6650a9:U.borderRadius,v6111d75b:U.width,b14bcb9c:U.height}));const X=K,H=v("id-"+ta()),Y=v(!1),A=bl(aa,void 0),ee=bl(sa,void 0),I=Ve(()=>X.disabled||(A==null?void 0:A.disabled)),ce=Ve(()=>"https://goworldshop.shop/admin/upload/image"),le=ue,we=()=>{le("update:imageUrl",""),le("update:image-url","")},te=()=>{const U=document.querySelector(`#${H.value} .el-upload__input`);U&&U.dispatchEvent(new MouseEvent("click"))},xe=U=>{const C=U.type.startsWith("image/"),E=U.size/1024/1024<X.fileSize,R=X.fileType.includes(U.type);return C?R?E?!0:(c.error(`å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ ${X.fileSize}MB!`),!1):(c.error(`ä¸Šä¼ å›¾ç‰‡æ ¼å¼ä¸æ­£ç¡®ï¼Œæ”¯æŒæ ¼å¼ï¼š${X.fileType.join(", ")}`),!1):(c.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},Se=U=>{U&&U.success&&U.data&&U.data.url?(le("update:imageUrl",U.data.url),le("update:image-url",U.data.url),c.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ!"),ee!=null&&ee.prop&&(A==null||A.validateField([ee.prop]))):c.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+(U.error||"æœªçŸ¥é”™è¯¯"))},Ue=()=>{c.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡æ–°ä¸Šä¼ !")};return(U,C)=>{const E=V("el-icon"),R=V("el-upload"),Z=V("el-image-viewer");return d(),m("div",Ca,[l(R,{id:H.value,action:ce.value,class:We(["upload",I.value?"disabled":"",K.drag?"no-border":""]),multiple:!1,disabled:I.value,"show-file-list":!1,"before-upload":xe,"on-success":Se,"on-error":Ue,drag:K.drag,accept:K.fileType.join(",")},{default:t(()=>[K.imageUrl?(d(),m(B,{key:0},[i("img",{src:K.imageUrl,class:"upload-image"},null,8,za),i("div",{class:"upload-handle",onClick:C[1]||(C[1]=oa(()=>{},["stop"]))},[I.value?M("",!0):(d(),m("div",{key:0,class:"handle-icon",onClick:te},[l(E,null,{default:t(()=>[l(y(Ml))]),_:1}),C[3]||(C[3]=i("span",null,"ç¼–è¾‘",-1))])),i("div",{class:"handle-icon",onClick:C[0]||(C[0]=j=>Y.value=!0)},[l(E,null,{default:t(()=>[l(y(ia))]),_:1}),C[4]||(C[4]=i("span",null,"æŸ¥çœ‹",-1))]),I.value?M("",!0):(d(),m("div",{key:1,class:"handle-icon",onClick:we},[l(E,null,{default:t(()=>[l(y(Je))]),_:1}),C[5]||(C[5]=i("span",null,"åˆ é™¤",-1))]))])],64)):(d(),m("div",$a,[hl(U.$slots,"empty",{},()=>[l(E,null,{default:t(()=>[l(y(pe))]),_:1}),C[6]||(C[6]=i("span",null,"è¯·ä¸Šä¼ å›¾ç‰‡",-1))],!0)]))]),_:3},8,["id","action","class","disabled","drag","accept"]),i("div",Da,[hl(U.$slots,"tip",{},void 0,!0)]),Y.value?(d(),S(Z,{key:0,"url-list":[K.imageUrl],onClose:C[2]||(C[2]=j=>Y.value=!1)},null,8,["url-list"])):M("",!0)])}}}),Pl=Kl(Ma,[["__scopeId","data-v-937c0afd"]]),Ka={class:"product-management"},Aa={class:"table-header"},Fa={class:"table-title"},Ta={class:"table-actions"},La={class:"product-info"},Ia=["src","alt"],ja={class:"product-details"},Ba={class:"product-title",style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},qa={class:"product-subtitle"},Ea={class:"price-info"},Ra={class:"sell-price"},Na={key:0,style:{"font-weight":"bold",color:"#ef3f52","font-size":"16px"}},Oa={key:1,style:{color:"#999999"}},Wa={class:"origin-price",style:{"margin-top":"4px"}},Ja={key:0,style:{color:"#999999","text-decoration":"line-through","font-size":"12px"}},Ga={key:0,style:{"margin-top":"4px"}},Ha={key:0},Za={key:0},Qa={key:1},Xa={key:1},Ya={key:0,style:{display:"flex","flex-direction":"column",gap:"4px","align-items":"center"}},es={key:1},ls={class:"config-info"},ts={style:{"margin-bottom":"4px"}},as={style:{"margin-bottom":"4px"}},ss={key:0},is={key:1,style:{color:"#999999"}},os={class:"time-info"},ns={class:"action-buttons"},us={class:"pagination-wrapper"},ds={style:{display:"flex","align-items":"center","justify-content":"space-between"}},rs={style:{"font-size":"12px",color:"#999999"}},ps={style:{display:"flex","align-items":"center","justify-content":"space-between"}},cs={class:"form-tip",style:{color:"#909399","font-size":"12px"}},_s={style:{display:"flex","align-items":"center",gap:"8px"}},ms={style:{display:"flex","align-items":"center",gap:"8px"}},fs={style:{display:"flex","align-items":"center",gap:"8px"}},gs={style:{display:"flex","align-items":"center",gap:"12px"}},vs={class:"editor-controls"},ys={class:"dialog-footer"},ks={class:"sku-management"},bs={class:"sku-list-section"},hs={class:"section-header"},Vs={class:"sku-actions"},ws=["src","alt"],xs={class:"sku-attributes"},Ss={class:"price"},Us={key:1,style:{color:"#999999"}},Cs={class:"sort-header"},zs={class:"sort-actions"},$s={class:"sort-tabs"},Ds={class:"attribute-sort-section"},Ps={class:"attribute-list"},Ms=["onDragstart","onDrop"],Ks={class:"attribute-content"},As={class:"sort-handle"},Fs={class:"attribute-info"},Ts={class:"attribute-name"},Ls={class:"attribute-count"},Is={class:"sort-order"},js={class:"value-sort-section"},Bs={class:"section-title"},qs={class:"value-list"},Es=["onDragstart","onDrop"],Rs={class:"value-content"},Ns={class:"sort-handle"},Os={class:"value-info"},Ws={class:"value-name"},Js={class:"value-count"},Gs={class:"sort-order"},Hs={class:"dialog-footer"},Zs={class:"batch-sku-generator"},Qs={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Xs={key:0,class:"batch-preview"},Ys={class:"preview-grid"},ei={class:"sku-info"},li={class:"sku-name"},ti={class:"sku-specs"},ai={class:"dialog-footer"},si={class:"sku-specs"},ii={class:"add-spec-form"},oi={key:0,class:"specs-list"},ni={class:"specs-grid"},ui={class:"spec-content"},di={class:"spec-name"},ri={class:"spec-actions"},pi={class:"image-input-section"},ci={class:"input-mode-selector"},_i={key:0,class:"url-input-mode"},mi={key:0,class:"url-preview"},fi={class:"image-error"},gi={key:1,class:"upload-mode"},vi={class:"dialog-footer"},yi={class:"fake-product-selection"},ki={key:0,class:"product-summary"},bi=["src","alt"],hi={class:"product-info"},Vi={class:"product-title"},wi={class:"product-price"},xi={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Si={class:"search-section"},Ui={class:"fake-products-grid"},Ci=["onClick"],zi=["src","alt"],$i={class:"card-content"},Di={class:"card-title"},Pi={class:"card-price"},Mi={class:"card-check"},Ki={key:0,class:"empty-state"},Ai={key:0,class:"fake-pagination"},Fi={class:"dialog-footer"},Ti={key:0,class:"domain-select-dialog"},Li={class:"product-info"},Ii={class:"domain-card"},ji={class:"domain-header"},Bi={class:"domain-name"},qi={class:"domain-url"},Ei={key:0},Ri={key:1},Ni={key:0,class:"domain-description"},Oi={class:"dialog-footer"},Wi=Ge({name:"ProductList"}),Ji=Ge({...Wi,setup(K){const ue=v(!1),X=v(!1),H=v(!1),Y=v(!1),A=v(null),ee=v([]),I=v(null),ce=v(""),le=v(),we=v(!1),te=v(!1),xe=v(""),Se=v(!1),Ue=v(!1),U=v(),C=v(null),E=v([]),R=v(""),Z=v(""),j=v([]),Ce=v("url"),F=be({title:"",status:null,product_type:""}),N=be({current:1,size:20,total:0}),ze=v([]),Al=Ve(()=>{if(F.title||F.status||F.product_type==="fake")return ze.value;if(F.product_type==="original")return ze.value.filter(n=>n.product_type==="original");const s=ze.value.filter(n=>n.product_type==="original"),e=ze.value.filter(n=>n.product_type==="fake"),o=s.map(n=>{const _=e.filter(z=>z.linked_original_ids&&Array.isArray(z.linked_original_ids)?z.linked_original_ids.includes(n.id):z.b_page_product_id===n.id);return _.length>0?{...n,children:_,hasChildren:!0}:n}),p=e.filter(n=>n.linked_original_ids&&Array.isArray(n.linked_original_ids)?n.linked_original_ids.length===0:!n.b_page_product_id);return[...o,...p]}),W=v([]),_e=v(!1),r=be({id:null,spu_id:"",title:"",sell_price:0,origin_price:0,discount:0,image_urls:[],rich_text_content:"",specification_list:[],variants:[],status:"active",product_type:"original",b_page_product_id:[],cloak_rule_id:null,country:"JA",template:"classic",page_primary_color:"#007d65",head_w_marquee:""}),Te=v([]),Fl=v(["#007d65","#3498db","#e74c3c","#f39c12","#9b59b6","#e91e63","#1abc9c","#3f51b5"]),Le=v([]),$e=v(!1),me=v(!1),$=v(null),Ie=v([]),je=v(!1),ae=v(""),Be=v(""),O=be({current:1,size:12,total:0}),De=v(!1),He=v(!1),w=be({sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:1e3,specs:[]}),J=v([]),Pe=v(!1),Ze=v(!1),rl=v("attribute"),se=v([]),Me=v({}),fe=v(-1),ge=v(-1),Qe=v(""),de=v(!1),ve=v(!1),Tl=[{label:"æ—¥æœ¬",value:"JA"},{label:"ä¸­å›½",value:"ZH"},{label:"è‹±å›½",value:"EN"},{label:"æ–¯æ´›ä¼å…‹",value:"SK"},{label:"æ–¯æ´›æ–‡å°¼äºš",value:"SI"},{label:"æ³¢å…°",value:"PL"},{label:"è‘¡è„ç‰™",value:"PT"},{label:"åŒˆç‰™åˆ©",value:"HU"},{label:"æ„å¤§åˆ©",value:"IT"},{label:"è¥¿ç­ç‰™",value:"ES"},{label:"æ·å…‹",value:"CZ"},{label:"ç«‹é™¶å®›",value:"LT"},{label:"æ‹‰è„±ç»´äºš",value:"LV"},{label:"å…‹ç½—åœ°äºš",value:"HR"}],Ll=Ve(()=>ve.value?"calc(100vh - 200px)":"500px"),Il=Ve(()=>({placeholder:"è¯·è¾“å…¥å•†å“æè¿°å†…å®¹...",MENU_CONF:{uploadImage:{server:pl.value,fieldName:"file",maxFileSize:2*1024*1024,allowedFileTypes:["image/*"]}}})),pl=Ve(()=>"https://goworldshop.shop/admin/upload/image"),g=be({id:null,product_id:"",sku_code:"",sku_name:"",sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:0,warning_stock:10,main_image:"",status:"active",attributes:[]}),jl={title:[{required:!0,message:"è¯·è¾“å…¥å•†å“æ ‡é¢˜",trigger:"blur"},{min:2,max:500,message:"å•†å“æ ‡é¢˜é•¿åº¦åœ¨ 2 åˆ° 500 ä¸ªå­—ç¬¦",trigger:"blur"}],status:[{required:!0,message:"è¯·é€‰æ‹©çŠ¶æ€",trigger:"change"}],page_primary_color:[{pattern:/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é¢œè‰²ä»£ç ï¼Œå¦‚ #007d65",trigger:"blur"}]},Bl={sku_name:[{required:!0,message:"è¯·è¾“å…¥SKUåç§°",trigger:"blur"}],sell_price:[{required:!0,message:"è¯·è¾“å…¥é”€å”®ä»·æ ¼",trigger:"blur"}],stock_quantity:[{required:!0,message:"è¯·è¾“å…¥åº“å­˜æ•°é‡",trigger:"blur"}]},ql=()=>{if(g.origin_price>0&&g.sell_price>0){const s=Math.round((g.origin_price-g.sell_price)/g.origin_price*100);g.discount_percent=Math.max(0,Math.min(100,s))}else g.discount_percent=0};ol(()=>[g.sell_price,g.origin_price],()=>{ql()},{deep:!0}),ol(()=>[r.sell_price,r.origin_price],()=>{Ye()},{deep:!0});const El=s=>({active:"success",inactive:"danger",draft:"warning",deleted:"info"})[s]||"info",Rl=s=>({active:"ä¸Šæž¶",inactive:"ä¸‹æž¶",draft:"è‰ç¨¿",deleted:"å·²åˆ é™¤"})[s]||s,Nl=s=>({active:"success",inactive:"danger",out_of_stock:"warning"})[s]||"info",Ol=s=>({active:"æ­£å¸¸",inactive:"ç¦ç”¨",out_of_stock:"ç¼ºè´§"})[s]||s,Xe=()=>{N.current=1,G()},Wl=()=>{Object.assign(F,{title:"",status:null,product_type:""}),Xe()},Jl=()=>{ce.value="æ·»åŠ å•†å“",Object.assign(r,{id:null,spu_id:"",title:"",sell_price:0,origin_price:0,discount:0,image_urls:[],rich_text_content:"",specification_list:[],variants:[],status:"active",product_type:"original",b_page_product_id:"",cloak_rule_id:null,country:"JA"}),Te.value=[],Le.value=[],W.value.length===0&&!_e.value&&tl(),W.value.length,W.value,H.value=!0},Gl=s=>{r.page_primary_color=s,c.success(`å·²åˆ‡æ¢åˆ°ä¸»é¢˜è‰²ï¼š${s}`)},Hl=async s=>{A.value=s;try{const e=await Va();ee.value=e.data,ee.value.length>0&&(I.value=ee.value[0])}catch(e){console.error("åŠ è½½åŸŸåé…ç½®å¤±è´¥:",e),c.error("åŠ è½½åŸŸåé…ç½®å¤±è´¥")}Y.value=!0},Zl=()=>{if(!A.value||!I.value){c.warning("è¯·é€‰æ‹©åŸŸå");return}let s=I.value.domain;I.value.is_wildcard&&A.value.country&&(s=`${A.value.country.toLowerCase()}.${I.value.domain}`);const e=`${I.value.protocol}://${s}/product/${A.value.id}`;window.open(e,"_blank"),c.success("æ­£åœ¨è·³è½¬åˆ°å•†å“é¡µé¢..."),Y.value=!1},Ql=s=>{ce.value="ç¼–è¾‘å•†å“",s.cloak_rule_id,s.cloak_rule_id;const e={...s,sell_price:parseFloat(s.sell_price)||0,origin_price:parseFloat(s.origin_price)||0,discount:parseFloat(s.discount)||0,product_type:s.product_type||"original",b_page_product_id:s.linked_original_ids&&s.linked_original_ids.length>0?s.linked_original_ids:s.b_page_product_id?[s.b_page_product_id]:[],country:s.country||"JA",template:s.template||"classic",cloak_rule_id:s.cloak_rule_id||null};e.cloak_rule_id,Object.assign(r,e),Te.value=(s.image_urls||[]).map((o,p)=>({name:`image_${p}.jpg`,url:o,response:{success:!0,data:{url:o,file_name:`image_${p}.jpg`}}})),W.value.length===0&&!_e.value&&tl(),W.value.length,r.cloak_rule_id,W.value,H.value=!0},Xl=s=>{he.confirm(`ç¡®å®šè¦åˆ é™¤å•†å“ "${s.title}" å—ï¼Ÿåˆ é™¤åŽæ— æ³•æ¢å¤ï¼`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}).then(async()=>{try{await ga(s.id),c.success("åˆ é™¤æˆåŠŸ"),G()}catch{c.error("åˆ é™¤å¤±è´¥")}})},Yl=s=>{he.confirm(`ç¡®å®šè¦å¤åˆ¶å•†å“ "${s.title}" å—ï¼Ÿå¤åˆ¶åŽçš„å•†å“å°†ä»¥è‰ç¨¿çŠ¶æ€ä¿å­˜ï¼Œä¸ä¼šå¤åˆ¶å…³è”å…³ç³»ã€‚`,"å¤åˆ¶ç¡®è®¤",{confirmButtonText:"ç¡®å®šå¤åˆ¶",cancelButtonText:"å–æ¶ˆ",type:"info"}).then(async()=>{var e,o;try{const p=await va(s.id);c.success(`å¤åˆ¶æˆåŠŸï¼æ–°å•†å“ID: ${p.data.id}`),G()}catch(p){const n=((o=(e=p==null?void 0:p.response)==null?void 0:e.data)==null?void 0:o.message)||(p==null?void 0:p.message)||"å¤åˆ¶å¤±è´¥";c.error(n),console.error("å¤åˆ¶å•†å“å¤±è´¥:",p)}})},et=async()=>{le.value&&le.value.validate(async s=>{if(s){X.value=!0;try{r.cloak_rule_id,r.cloak_rule_id;const e={...r,b_page_product_id:Array.isArray(r.b_page_product_id)&&r.b_page_product_id.length>0?r.b_page_product_id[0]:null};r.id?(r.id,await ya(r.id,e),c.success("æ›´æ–°æˆåŠŸ")):(await ka(e),c.success("æ·»åŠ æˆåŠŸ")),H.value=!1,G()}catch(e){console.error("æäº¤å¤±è´¥:",e),c.error(r.id?"æ›´æ–°å¤±è´¥":"æ·»åŠ å¤±è´¥")}finally{X.value=!1}}})},lt=s=>{N.size=s,G()},tt=s=>{N.current=s,G()},at=s=>{const e=s.type.startsWith("image/"),o=s.size/1024/1024<2;return e?o?!0:(c.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),!1):(c.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},st=(s,e)=>{s&&s.success&&s.data&&s.data.url?(r.image_urls.push(s.data.url),e.fileName=s.data.file_name,c.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ")):c.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+(s.error||"æœªçŸ¥é”™è¯¯"))},it=s=>{let e=null;if(s.response&&s.response.data&&s.response.data.url?e=s.response.data.url:s.url&&(e=s.url),e){const o=r.image_urls.indexOf(e);o>-1&&(r.image_urls.splice(o,1),r.image_urls)}},ot=()=>{c.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥")},nt=()=>{ve.value=!ve.value},ut=s=>{r.rich_text_content=s},dt=()=>{he.confirm("ç¡®å®šè¦æ¸…ç©ºå•†å“æè¿°å†…å®¹å—ï¼Ÿ","æ¸…ç©ºç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{r.rich_text_content="",c.success("å†…å®¹å·²æ¸…ç©º")})},G=async()=>{ue.value=!0;try{const s={page:N.current,size:N.size,title:F.title||void 0,status:F.status||void 0,product_type:F.product_type||void 0},{data:e}=await Cl(s);e.list[0],ze.value=e.list,N.total=e.total}catch{c.error("èŽ·å–å•†å“åˆ—è¡¨å¤±è´¥")}finally{ue.value=!1}},rt=async s=>{C.value=s,we.value=!0,await qe(s.id)},qe=async s=>{Se.value=!0;try{const{data:e}=await xa(s);E.value=e}catch{c.error("èŽ·å–SKUåˆ—è¡¨å¤±è´¥")}finally{Se.value=!1}},pt=()=>{if(!R.value.trim()||!Z.value.trim()){c.warning("è¯·è¾“å…¥è§„æ ¼åç§°å’Œå€¼");return}const s=R.value.trim(),e=Z.value.trim();if(j.value.find(_=>_.name===s&&_.value===e)){c.warning(`è§„æ ¼ "${s}: ${e}" å·²å­˜åœ¨ï¼Œè¯·å‹¿é‡å¤æ·»åŠ `);return}const p=j.value.find(_=>_.name===s);if(p){c.warning(`å±žæ€§ "${s}" å·²å­˜åœ¨å€¼ "${p.value}"ï¼Œä¸€ä¸ªSKUçš„åŒä¸€å±žæ€§åªèƒ½è®¾ç½®ä¸€ä¸ªå€¼ã€‚å¦‚éœ€ä¿®æ”¹ï¼Œè¯·å…ˆåˆ é™¤çŽ°æœ‰è§„æ ¼ã€‚`);return}const n={name:s,value:e};j.value.push(n),R.value="",Z.value="",c.success("è§„æ ¼æ·»åŠ æˆåŠŸ")},ct=s=>{j.value.splice(s,1),c.success("è§„æ ¼åˆ é™¤æˆåŠŸ")},_t=s=>{const e=j.value[s];R.value=e.name,Z.value=e.value,j.value.splice(s,1),c.info("è¯·ä¿®æ”¹è§„æ ¼ä¿¡æ¯åŽç‚¹å‡»æ·»åŠ æŒ‰é’®")},mt=()=>{var p;xe.value="æ·»åŠ SKU";const s=Date.now(),e=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),o=`SKU${s}${e}`;Object.assign(g,{id:null,product_id:((p=C.value)==null?void 0:p.id)||"",sku_code:o,sku_name:"",sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:0,warning_stock:10,main_image:"",status:"active",attributes:[]}),j.value=[],R.value="",Z.value="",te.value=!0},ft=s=>{xe.value="ç¼–è¾‘SKU";const e={...s,sell_price:parseFloat(s.sell_price)||0,origin_price:parseFloat(s.origin_price)||0,cost_price:parseFloat(s.cost_price)||0,discount_percent:parseFloat(s.discount_percent)||0,stock_quantity:parseInt(s.stock_quantity)||0,warning_stock:parseInt(s.warning_stock)||10};Object.assign(g,e),j.value=s.attributes.map(o=>({name:o.attribute_name||o.display_name||"",value:o.value||o.display_value||"",attribute_id:o.attribute_id||null,attribute_value_id:o.attribute_value_id||null})),te.value=!0},gt=s=>{he.confirm(`ç¡®å®šè¦åˆ é™¤SKU "${s.sku_name}" å—ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var e,o,p;try{await Ua(s.id),c.success("åˆ é™¤æˆåŠŸ"),await qe(((e=C.value)==null?void 0:e.id)||"")}catch(n){console.error("åˆ é™¤SKUå¤±è´¥:",n);let _="åˆ é™¤å¤±è´¥";(p=(o=n.response)==null?void 0:o.data)!=null&&p.message?_=n.response.data.message:n.message&&(_=n.message),c.error(_)}})},vt=()=>{const s=j.value.map(o=>o.name),e=s.filter((o,p)=>s.indexOf(o)!==p);if(e.length>0)throw c.error(`æ£€æµ‹åˆ°é‡å¤çš„å±žæ€§å: ${e.join(", ")}ï¼Œè¯·æ£€æŸ¥è§„æ ¼è®¾ç½®`),new Error("å­˜åœ¨é‡å¤çš„å±žæ€§å");return j.value.map(o=>o.attribute_id&&o.attribute_value_id?{attribute_id:o.attribute_id,attribute_value_id:o.attribute_value_id}:{attribute_name:o.name,value:o.value})},yt=async()=>{U.value&&U.value.validate(async s=>{var e;if(s){Ue.value=!0;try{const o={...g,attributes:vt()};g.id?(await Sa(g.id,o),c.success("æ›´æ–°æˆåŠŸ")):(await Dl(o),c.success("æ·»åŠ æˆåŠŸ")),te.value=!1,await qe(((e=C.value)==null?void 0:e.id)||"")}catch(o){if(o.message==="å­˜åœ¨é‡å¤çš„å±žæ€§å")return;c.error(g.id?"æ›´æ–°å¤±è´¥":"æ·»åŠ å¤±è´¥")}finally{Ue.value=!1}}})},kt=s=>{s!==Ce.value&&(g.main_image="")},bt=s=>{s==="original"?r.b_page_product_id=[]:s==="fake"&&(!r.b_page_product_id||r.b_page_product_id.length===0)&&ll()},Ye=()=>{const s=r.sell_price||0,e=r.origin_price||0;if(e>0&&s>0){const o=Math.round((e-s)/e*100);r.discount=Math.max(0,Math.min(100,o))}else(e===0||s===0)&&(r.discount=0)},ht=()=>{Object.assign(w,{sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:1e3,specs:[]}),J.value=[],De.value=!0},cl=()=>{const s=w.origin_price||0,e=w.sell_price||0;if(s>0&&e>0){const o=Math.round((s-e)/s*100);w.discount_percent=Math.max(0,Math.min(100,o))}else w.discount_percent=0},Vt=()=>{w.specs.push({name:"",values:""}),el()},wt=s=>{w.specs.splice(s,1),el()},el=()=>{const s=w.specs.filter(_=>_.name.trim()&&_.values.trim());if(s.length===0){J.value=[];return}const e=s.map(_=>_.name.trim()),o=e.filter((_,z)=>e.indexOf(_)!==z);if(o.length>0){c.warning(`æ£€æµ‹åˆ°é‡å¤çš„è§„æ ¼åç§°: ${o.join(", ")}ï¼Œè¯·ç¡®ä¿æ¯ä¸ªè§„æ ¼åç§°å”¯ä¸€`),J.value=[];return}const p=s.map(_=>({name:_.name.trim(),values:_.values.split(`
`).map(z=>z.trim()).filter(z=>z)})),n=_l(p);J.value=n.map(_=>({sku_name:_.map(b=>`${b.name}:${b.value}`).join(" "),attributes:_}))},_l=s=>{if(s.length===0)return[];if(s.length===1)return s[0].values.map(_=>[{name:s[0].name,value:_}]);const e=[],o=s[0],p=s.slice(1),n=_l(p);for(const _ of o.values)for(const z of n)e.push([{name:o.name,value:_},...z]);return e};ol(()=>w.specs,()=>{el()},{deep:!0});const xt=async()=>{var p;if(J.value.length===0){c.warning("è¯·é…ç½®è§„æ ¼ä¿¡æ¯");return}if(!w.sell_price||!w.stock_quantity){c.warning("è¯·å¡«å†™é”€å”®ä»·æ ¼å’Œåº“å­˜æ•°é‡");return}const e=w.specs.filter(n=>n.name.trim()&&n.values.trim()).map(n=>n.name.trim()),o=e.filter((n,_)=>e.indexOf(n)!==_);if(o.length>0){c.error(`æ£€æµ‹åˆ°é‡å¤çš„è§„æ ¼åç§°: ${o.join(", ")}ï¼Œè¯·ç¡®ä¿æ¯ä¸ªè§„æ ¼åç§°å”¯ä¸€`);return}He.value=!0;try{const n=Date.now(),_=J.value.map(async(z,b)=>{var D;const k=n+b,ye=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),ie=()=>{const oe=w.origin_price||0,Ke=w.sell_price||0;if(oe>0&&Ke>0){const Re=Math.round((oe-Ke)/oe*100);return Math.max(0,Math.min(100,Re))}return 0},Q={product_id:((D=C.value)==null?void 0:D.id)||"",sku_code:`SKU${k}${ye}`,sku_name:z.sku_name,sell_price:w.sell_price,origin_price:w.origin_price,cost_price:w.cost_price,discount_percent:ie(),stock_quantity:w.stock_quantity,warning_stock:10,main_image:"",status:"active",attributes:z.attributes.map(oe=>({attribute_name:oe.name,value:oe.value}))};return Dl(Q)});await Promise.all(_),c.success(`æˆåŠŸç”Ÿæˆ ${J.value.length} ä¸ªSKU`),De.value=!1,await qe(((p=C.value)==null?void 0:p.id)||"")}catch(n){console.error("æ‰¹é‡ç”ŸæˆSKUå¤±è´¥:",n),c.error("æ‰¹é‡ç”Ÿæˆå¤±è´¥")}finally{He.value=!1}},St=()=>{Ct(),de.value=!1,Pe.value=!0},Ut=()=>{de.value=!de.value},Ct=()=>{const s=new Map;E.value.forEach(e=>{e.attributes.forEach(o=>{const p=o.display_name||o.attribute_name,n=o.display_value||o.value;s.has(p)||s.set(p,new Map);const _=s.get(p);_.has(n)||_.set(n,[]),_.get(n).push(e)})}),se.value=Array.from(s.keys()).map(e=>{const o=s.get(e),p=Array.from(o.values()).reduce((n,_)=>n+_.length,0);return{name:e,count:p,values:Array.from(o.keys())}}),Me.value={},s.forEach((e,o)=>{Me.value[o]=Array.from(e.keys()).map(p=>{const n=e.get(p);return{value:p,count:n.length,skus:n}})})},zt=s=>Me.value[s]||[],$t=(s,e)=>{fe.value=e,s.dataTransfer&&(s.dataTransfer.effectAllowed="move")},Dt=(s,e)=>{if(s.preventDefault(),fe.value===-1||fe.value===e)return;const o=se.value[fe.value];se.value.splice(fe.value,1),se.value.splice(e,0,o),fe.value=-1},Pt=(s,e,o)=>{ge.value=o,Qe.value=e,s.dataTransfer&&(s.dataTransfer.effectAllowed="move")},Mt=(s,e,o)=>{if(s.preventDefault(),ge.value===-1||Qe.value!==e||ge.value===o)return;const p=Me.value[e],n=p[ge.value];p.splice(ge.value,1),p.splice(o,0,n),ge.value=-1,Qe.value=""},ml=s=>{s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="move")},Kt=async()=>{if(se.value.length===0){c.warning("æ²¡æœ‰å±žæ€§éœ€è¦æŽ’åº");return}Ze.value=!0;try{const s=[];se.value.forEach(e=>{Me.value[e.name].forEach(p=>{p.skus.forEach(n=>{s.find(_=>_.id===n.id)||s.push(n)})})}),E.value=s,await At(s),c.success("æŽ’åºä¿å­˜æˆåŠŸ"),Pe.value=!1}catch(s){console.error("ä¿å­˜æŽ’åºå¤±è´¥:",s),c.error("ä¿å­˜æŽ’åºå¤±è´¥")}finally{Ze.value=!1}},At=async s=>{try{const e=s.map((p,n)=>({sku_id:p.id,sort_order:n+1})),o=await Fe.put(`/admin/products/${C.value.id}/skus/sort`,{sort_data:e});if(o.code!==200)throw new Error(o.message||"ä¿å­˜æŽ’åºå¤±è´¥")}catch(e){throw console.error("ä¿å­˜æŽ’åºåˆ°åŽç«¯å¤±è´¥:",e),e}},Ft=()=>{const s=r.origin_price||0,e=r.discount||0;s>0&&e>=0&&(r.sell_price=Math.round(s*(1-e/100)*100)/100)},fl=()=>{const s=g.sell_price||0,e=g.origin_price||0;if(e>0&&s>0){const o=Math.round((e-s)/e*100);g.discount_percent=Math.max(0,Math.min(100,o))}else(e===0||s===0)&&(g.discount_percent=0)},Tt=()=>{const s=g.origin_price||0,e=g.discount_percent||0;s>0&&e>=0&&(g.sell_price=Math.round(s*(1-e/100)*100)/100)},Lt=async s=>{if(!s){await ll();return}$e.value=!0;try{const{data:e}=await zl(s);Le.value=e}catch{c.error("æœç´¢æ­£å“å•†å“å¤±è´¥")}finally{$e.value=!1}},ll=async()=>{$e.value=!0;try{const{data:s}=await zl();Le.value=s}catch{c.error("åŠ è½½æ­£å“å•†å“åˆ—è¡¨å¤±è´¥")}finally{$e.value=!1}},It=s=>{$.value=s,ae.value="",Be.value="",O.current=1,me.value=!0,Ee()},Ee=async()=>{je.value=!0;try{const s={page:O.current,size:O.size,product_type:"fake",title:Be.value||void 0},{data:e}=await Cl(s);Ie.value=e.list.filter(o=>!o.b_page_product_id),O.total=e.total}catch{c.error("åŠ è½½ä»¿å“å•†å“åˆ—è¡¨å¤±è´¥")}finally{je.value=!1}},jt=()=>{O.current=1,Ee()},Bt=s=>{O.size=s,Ee()},qt=s=>{O.current=s,Ee()},Et=async()=>{if(!(!ae.value||!$.value))try{await $l(ae.value,$.value.id),c.success("ä»¿å“å…³è”æˆåŠŸ"),me.value=!1,G()}catch{c.error("ä»¿å“å…³è”å¤±è´¥")}},Rt=async s=>{try{await he.confirm(`ç¡®å®šè¦å–æ¶ˆä»¿å“ "${s.title}" çš„å…³è”å—ï¼Ÿå–æ¶ˆåŽè¯¥ä»¿å“å°†ä¸å†å…³è”ä»»ä½•æ­£å“ã€‚`,"å–æ¶ˆå…³è”ç¡®è®¤",{confirmButtonText:"ç¡®å®šå–æ¶ˆ",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}),s.id,await $l(s.id,null),c.success("å–æ¶ˆå…³è”æˆåŠŸ"),G()}catch(e){e!=="cancel"&&c.error("å–æ¶ˆå…³è”å¤±è´¥")}},Nt=async s=>{try{await he.confirm(`ç¡®å®šè¦å–æ¶ˆå•†å“ "${s.title}" çš„æ–—ç¯·è§„åˆ™è®¾ç½®å—ï¼Ÿå–æ¶ˆåŽè¯¥å•†å“å°†ä¸å†ä½¿ç”¨ä»»ä½•æ–—ç¯·è§„åˆ™ã€‚`,"å–æ¶ˆæ–—ç¯·è§„åˆ™ç¡®è®¤",{confirmButtonText:"ç¡®å®šå–æ¶ˆ",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}),s.id,await ba(s.id,null),c.success("å–æ¶ˆæ–—ç¯·è§„åˆ™è®¾ç½®æˆåŠŸ"),G()}catch(e){e!=="cancel"&&c.error("å–æ¶ˆæ–—ç¯·è§„åˆ™è®¾ç½®å¤±è´¥")}},Ot=()=>{$.value&&(me.value=!1,ce.value="åŸºäºŽæ­£å“åˆ›å»ºä»¿å“",Object.assign(r,{id:null,spu_id:"",title:`${$.value.title} - ä»¿å“ç‰ˆ`,sell_price:Math.round(($.value.sell_price||0)*.6),origin_price:$.value.sell_price||0,discount:40,image_urls:[...$.value.image_urls||[]],rich_text_content:$.value.rich_text_content||"",specification_list:[...$.value.specification_list||[]],variants:[...$.value.variants||[]],status:"draft",product_type:"fake",b_page_product_id:$.value.id,cloak_rule_id:null,country:$.value.country||"JA"}),Te.value=($.value.image_urls||[]).map((s,e)=>({name:`image_${e}.jpg`,url:s,response:{success:!0,data:{url:s,file_name:`image_${e}.jpg`}}})),ll(),H.value=!0,c.success(`å·²åŸºäºŽæ­£å“"${$.value.title}"åˆ›å»ºä»¿å“ï¼Œè¯·ä¿®æ”¹ç›¸å…³ä¿¡æ¯åŽä¿å­˜`))},tl=async()=>{if(!_e.value)try{_e.value=!0;const s=await ha.getCloakRules({page:1,size:1e3});if(s.code===200){const e=s.data.list,o=e.filter(p=>p.is_active===1);W.value=o,W.value}else console.error("æ–—ç¯·è§„åˆ™APIè¿”å›žé”™è¯¯:",s)}catch(s){console.error("åŠ è½½æ–—ç¯·è§„åˆ™å¤±è´¥:",s),c.error("åŠ è½½æ–—ç¯·è§„åˆ™å¤±è´¥")}finally{_e.value=!1}},gl=s=>({cloak:"warning",green:"success",open:"info",audit:"danger"})[s]||"info",vl=s=>({cloak:"æ–—ç¯·",green:"ç»¿è‰²",open:"å…¨å¼€",audit:"å®¡æ ¸"})[s]||s,Wt=s=>{r.cloak_rule_id=s,s&&(W.value.find(o=>o.id===s)||console.warn("æœªæ‰¾åˆ°å¯¹åº”çš„æ–—ç¯·è§„åˆ™ï¼ŒID:",s))};return na(()=>{G(),tl()}),(s,e)=>{const o=V("el-icon"),p=V("el-input"),n=V("el-form-item"),_=V("el-option"),z=V("el-select"),b=V("el-tag"),k=V("el-button"),ye=V("el-form"),ie=V("el-card"),Q=V("el-avatar"),D=V("el-table-column"),oe=V("el-tooltip"),Ke=V("el-table"),Re=V("el-pagination"),T=V("el-input-number"),x=V("el-col"),L=V("el-row"),ke=V("el-radio"),al=V("el-radio-group"),Jt=V("el-color-picker"),Gt=V("arrow-down"),ne=V("el-dropdown-item"),Ht=V("el-dropdown-menu"),Zt=V("el-dropdown"),Qt=V("el-upload"),re=V("el-dialog"),sl=V("el-alert"),yl=V("el-tab-pane"),Xt=V("el-tabs"),kl=V("el-divider"),Yt=V("el-image"),ea=V("el-empty"),il=ua("loading");return d(),m("div",Ka,[l(ie,{class:"search-card",shadow:"never"},{default:t(()=>[l(ye,{model:F,inline:"",class:"search-form"},{default:t(()=>[l(n,{label:"å•†å“æ ‡é¢˜"},{default:t(()=>[l(p,{modelValue:F.title,"onUpdate:modelValue":e[0]||(e[0]=a=>F.title=a),placeholder:"è¯·è¾“å…¥å•†å“æ ‡é¢˜",clearable:"",style:{width:"200px"},onKeyup:da(Xe,["enter"])},{prefix:t(()=>[l(o,null,{default:t(()=>[l(y(nl))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"çŠ¶æ€"},{default:t(()=>[l(z,{modelValue:F.status,"onUpdate:modelValue":e[1]||(e[1]=a=>F.status=a),placeholder:"è¯·é€‰æ‹©çŠ¶æ€",clearable:"",style:{width:"120px"}},{default:t(()=>[l(_,{label:"ä¸Šæž¶",value:"active"}),l(_,{label:"ä¸‹æž¶",value:"inactive"}),l(_,{label:"è‰ç¨¿",value:"draft"})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"å•†å“ç±»åž‹"},{default:t(()=>[l(z,{modelValue:F.product_type,"onUpdate:modelValue":e[2]||(e[2]=a=>F.product_type=a),placeholder:"è¯·é€‰æ‹©ç±»åž‹",clearable:"",style:{width:"120px"}},{default:t(()=>[l(_,{label:"å…¨éƒ¨",value:""},{default:t(()=>[l(b,{type:"info",size:"small"},{default:t(()=>[...e[60]||(e[60]=[u("å…¨éƒ¨",-1)])]),_:1})]),_:1}),l(_,{label:"æ­£å“",value:"original"},{default:t(()=>[l(b,{type:"success",size:"small"},{default:t(()=>[...e[61]||(e[61]=[u("æ­£å“",-1)])]),_:1})]),_:1}),l(_,{label:"ä»¿å“",value:"fake"},{default:t(()=>[l(b,{type:"warning",size:"small"},{default:t(()=>[...e[62]||(e[62]=[u("ä»¿å“",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:t(()=>[l(k,{type:"primary",onClick:Xe},{default:t(()=>[l(o,null,{default:t(()=>[l(y(nl))]),_:1}),e[63]||(e[63]=u(" æœç´¢ ",-1))]),_:1}),l(k,{onClick:Wl},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Vl))]),_:1}),e[64]||(e[64]=u(" é‡ç½® ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(ie,{class:"table-card",shadow:"never"},{header:t(()=>[i("div",Aa,[i("div",Fa,[l(k,{type:"primary",onClick:Jl},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pe))]),_:1}),e[65]||(e[65]=u(" æ·»åŠ å•†å“ ",-1))]),_:1}),e[66]||(e[66]=i("span",null,"å•†å“åˆ—è¡¨",-1)),l(b,{type:"info",size:"small"},{default:t(()=>[u(f(N.total)+" æ¡è®°å½•",1)]),_:1})]),i("div",Ta,[l(k,{size:"small",onClick:G},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Vl))]),_:1}),e[67]||(e[67]=u(" åˆ·æ–° ",-1))]),_:1})])])]),default:t(()=>[ul((d(),S(Ke,{data:Al.value,stripe:"",border:"",style:{width:"100%"},"header-cell-style":{background:"#f8f9fa",color:"#606266"},"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[l(D,{prop:"title",label:"å•†å“æ ‡é¢˜",width:"240","show-overflow-tooltip":""},{default:t(({row:a})=>[i("div",La,[a.image_urls&&a.image_urls[0]?(d(),S(Q,{key:0,size:40,class:"product-avatar"},{default:t(()=>[i("img",{src:a.image_urls[0],alt:a.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Ia)]),_:2},1024)):(d(),S(Q,{key:1,size:40,class:"product-avatar"},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Ne))]),_:1})]),_:1})),i("div",ja,[i("div",Ba,f(a.title),1),i("div",qa,f(a.sell_price?"Â¥"+a.sell_price:"æš‚æœªå®šä»·"),1)])])]),_:1}),l(D,{label:"ä»·æ ¼ä¿¡æ¯",width:"160",align:"center"},{default:t(({row:a})=>[i("div",Ea,[i("div",Ra,[a.sell_price?(d(),m("span",Na," Â¥"+f(a.sell_price),1)):(d(),m("span",Oa,"--"))]),i("div",Wa,[a.origin_price&&a.origin_price>0?(d(),m("span",Ja," åŽŸä»·: Â¥"+f(a.origin_price),1)):M("",!0)]),a.discount&&a.discount>0?(d(),m("div",Ga,[l(b,{type:"success",size:"small"},{default:t(()=>[u(f(a.discount)+"% OFF",1)]),_:2},1024)])):M("",!0)])]),_:1}),l(D,{prop:"product_type",label:"ç±»åž‹",width:"100",align:"center"},{default:t(({row:a})=>[l(b,{type:a.product_type==="original"?"success":"warning",size:"default"},{default:t(()=>[u(f(a.product_type==="original"?"æ­£å“":"ä»¿å“"),1)]),_:2},1032,["type"])]),_:1}),l(D,{label:"å…³è”çŠ¶æ€",width:"140",align:"center"},{default:t(({row:a})=>[a.product_type==="original"?(d(),m("div",Ha,[a.children&&a.children.length>0?(d(),m("div",Za,[l(b,{type:"success",size:"default"},{default:t(()=>[l(o,{style:{"margin-right":"4px"}},{default:t(()=>[l(y(Oe))]),_:1}),u(" "+f(a.children.length)+" ä¸ªä»¿å“ ",1)]),_:2},1024)])):(d(),m("div",Qa,[...e[68]||(e[68]=[i("span",{style:{color:"#909399","font-size":"13px"}},"-",-1)])]))])):(d(),m("div",Xa,[a.b_page_product_id&&a.b_page_product_id!==""||a.linked_original_ids&&a.linked_original_ids.length>0?(d(),m("div",Ya,[l(b,{type:"warning",size:"small"},{default:t(()=>[...e[69]||(e[69]=[u("å·²å…³è”",-1)])]),_:1}),l(k,{size:"small",type:"danger",link:"",onClick:h=>Rt(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(wl))]),_:1}),e[70]||(e[70]=u(" å–æ¶ˆ ",-1))]),_:1},8,["onClick"])])):(d(),m("div",es,[...e[71]||(e[71]=[i("span",{style:{color:"#909399","font-size":"13px"}},"æœªå…³è”",-1)])]))]))]),_:1}),l(D,{label:"é…ç½®ä¿¡æ¯",width:"150",align:"center"},{default:t(({row:a})=>[i("div",ls,[i("div",ts,[l(b,{type:"primary",size:"small"},{default:t(()=>[u(f(a.country||"JA"),1)]),_:2},1024)]),i("div",as,[a.template==="shopline"?(d(),S(b,{key:0,type:"success",size:"small"},{default:t(()=>[...e[72]||(e[72]=[u("Shopline",-1)])]),_:1})):a.template==="standard"?(d(),S(b,{key:1,type:"warning",size:"small"},{default:t(()=>[...e[73]||(e[73]=[u("Standard",-1)])]),_:1})):(d(),S(b,{key:2,type:"info",size:"small"},{default:t(()=>[...e[74]||(e[74]=[u("Classic",-1)])]),_:1}))]),i("div",null,[l(b,{type:El(a.status),size:"small",effect:"light"},{default:t(()=>[u(f(Rl(a.status)),1)]),_:2},1032,["type"])])])]),_:1}),l(D,{prop:"cloak_rule_name",label:"æ–—ç¯·è§„åˆ™",width:"200",align:"center"},{default:t(({row:a})=>[a.cloak_rule_name?(d(),m("div",ss,[l(oe,{content:`è§„åˆ™: ${a.cloak_rule_name}`,placement:"top"},{default:t(()=>[l(b,{type:gl(a.cloak_rule_mode),size:"small"},{default:t(()=>[u(f(a.cloak_rule_name),1)]),_:2},1032,["type"])]),_:2},1032,["content"]),l(k,{size:"small",type:"danger",link:"",onClick:h=>Nt(a),style:{"margin-left":"8px"}},{default:t(()=>[l(o,null,{default:t(()=>[l(y(wl))]),_:1}),e[75]||(e[75]=u(" å–æ¶ˆè®¾ç½® ",-1))]),_:1},8,["onClick"])])):(d(),m("span",is,"æœªè®¾ç½®"))]),_:1}),l(D,{prop:"created_at",label:"åˆ›å»ºæ—¶é—´",width:"180","show-overflow-tooltip":""},{default:t(({row:a})=>[i("div",os,[l(o,{class:"time-icon"},{default:t(()=>[l(y(ra))]),_:1}),i("span",null,f(a.created_at),1)])]),_:1}),l(D,{label:"æ“ä½œ",width:"420",fixed:"right",align:"center"},{default:t(({row:a})=>[i("div",ns,[l(k,{size:"small",type:"primary",link:"",onClick:h=>Hl(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pa))]),_:1}),e[76]||(e[76]=u(" æŸ¥çœ‹ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"success",link:"",onClick:h=>rt(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(ca))]),_:1}),e[77]||(e[77]=u(" SKUç®¡ç† ",-1))]),_:1},8,["onClick"]),a.product_type==="original"?(d(),S(k,{key:0,size:"small",type:"info",link:"",onClick:h=>It(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pe))]),_:1}),e[78]||(e[78]=u(" å…³è”ä»¿å“ ",-1))]),_:1},8,["onClick"])):M("",!0),l(k,{size:"small",type:"warning",link:"",onClick:h=>Ql(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Ml))]),_:1}),e[79]||(e[79]=u(" ç¼–è¾‘ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"info",link:"",onClick:h=>Yl(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(_a))]),_:1}),e[80]||(e[80]=u(" å¤åˆ¶ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:h=>Xl(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Je))]),_:1}),e[81]||(e[81]=u(" åˆ é™¤ ",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[il,ue.value]]),i("div",us,[l(Re,{"current-page":N.current,"onUpdate:currentPage":e[3]||(e[3]=a=>N.current=a),"page-size":N.size,"onUpdate:pageSize":e[4]||(e[4]=a=>N.size=a),"page-sizes":[10,20,50,100],total:N.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:lt,onCurrentChange:tt},null,8,["current-page","page-size","total"])])]),_:1}),l(re,{modelValue:H.value,"onUpdate:modelValue":e[20]||(e[20]=a=>H.value=a),title:ce.value,fullscreen:!0,"close-on-click-modal":!1,"destroy-on-close":"",class:"product-dialog"},{footer:t(()=>[i("div",ys,[l(k,{onClick:e[19]||(e[19]=a=>H.value=!1)},{default:t(()=>[...e[119]||(e[119]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:et,loading:X.value},{default:t(()=>[...e[120]||(e[120]=[u(" ç¡®å®š ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[l(ye,{model:r,rules:jl,ref_key:"formRef",ref:le,"label-width":"100px",class:"product-form"},{default:t(()=>[l(n,{label:"SPU ID"},{default:t(()=>[l(p,{modelValue:r.spu_id,"onUpdate:modelValue":e[5]||(e[5]=a=>r.spu_id=a),placeholder:"ä¿å­˜åŽç”Ÿæˆ",readonly:""},null,8,["modelValue"]),e[82]||(e[82]=i("div",{class:"form-tip"},"SPU IDç”±åŽç«¯è‡ªåŠ¨ç”Ÿæˆï¼Œåˆ›å»ºå•†å“åŽè‡ªåŠ¨æ˜¾ç¤º",-1))]),_:1}),l(n,{label:"å•†å“æ ‡é¢˜",prop:"title"},{default:t(()=>[l(p,{modelValue:r.title,"onUpdate:modelValue":e[6]||(e[6]=a=>r.title=a),placeholder:"è¯·è¾“å…¥å•†å“æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"é”€å”®ä»·æ ¼",prop:"sell_price"},{default:t(()=>[l(T,{modelValue:r.sell_price,"onUpdate:modelValue":e[7]||(e[7]=a=>r.sell_price=a),precision:2,min:0,placeholder:"è¯·è¾“å…¥é”€å”®ä»·æ ¼",style:{width:"100%"},onChange:Ye},{append:t(()=>[...e[83]||(e[83]=[u("å…ƒ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"åŽŸä»·",prop:"origin_price"},{default:t(()=>[l(T,{modelValue:r.origin_price,"onUpdate:modelValue":e[8]||(e[8]=a=>r.origin_price=a),precision:2,min:0,placeholder:"è¯·è¾“å…¥åŽŸä»·",style:{width:"100%"},onChange:Ye},{append:t(()=>[...e[84]||(e[84]=[u("å…ƒ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"æŠ˜æ‰£(%)",prop:"discount"},{default:t(()=>[l(T,{modelValue:r.discount,"onUpdate:modelValue":e[9]||(e[9]=a=>r.discount=a),precision:0,min:0,max:100,placeholder:"è‡ªåŠ¨è®¡ç®—",style:{width:"100%"},onChange:Ft},{append:t(()=>[...e[85]||(e[85]=[u("%",-1)])]),_:1},8,["modelValue"]),e[86]||(e[86]=i("div",{class:"form-tip"},"è¾“å…¥é”€å”®ä»·å’ŒåŽŸä»·åŽè‡ªåŠ¨è®¡ç®—ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥æŠ˜æ‰£",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"çŠ¶æ€",prop:"status"},{default:t(()=>[l(z,{modelValue:r.status,"onUpdate:modelValue":e[10]||(e[10]=a=>r.status=a),style:{width:"100%"}},{default:t(()=>[l(_,{label:"ä¸Šæž¶",value:"active"},{default:t(()=>[l(b,{type:"success",size:"small"},{default:t(()=>[...e[87]||(e[87]=[u("ä¸Šæž¶",-1)])]),_:1})]),_:1}),l(_,{label:"ä¸‹æž¶",value:"inactive"},{default:t(()=>[l(b,{type:"danger",size:"small"},{default:t(()=>[...e[88]||(e[88]=[u("ä¸‹æž¶",-1)])]),_:1})]),_:1}),l(_,{label:"è‰ç¨¿",value:"draft"},{default:t(()=>[l(b,{type:"warning",size:"small"},{default:t(()=>[...e[89]||(e[89]=[u("è‰ç¨¿",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"å•†å“ç±»åž‹",prop:"product_type"},{default:t(()=>[l(al,{modelValue:r.product_type,"onUpdate:modelValue":e[11]||(e[11]=a=>r.product_type=a),onChange:bt},{default:t(()=>[l(ke,{value:"original"},{default:t(()=>[l(b,{type:"success",size:"small"},{default:t(()=>[...e[90]||(e[90]=[u("æ­£å“",-1)])]),_:1}),e[91]||(e[91]=u(" æ­£å“å•†å“ ",-1))]),_:1}),l(ke,{value:"fake"},{default:t(()=>[l(b,{type:"warning",size:"small"},{default:t(()=>[...e[92]||(e[92]=[u("ä»¿å“",-1)])]),_:1}),e[93]||(e[93]=u(" ä»¿å“å•†å“ ",-1))]),_:1})]),_:1},8,["modelValue"]),e[94]||(e[94]=i("div",{class:"form-tip"},"æ­£å“ï¼šç”¨æˆ·é»˜è®¤çœ‹åˆ°çš„å•†å“ï¼›ä»¿å“ï¼šæ›¿ä»£å±•ç¤ºçš„å•†å“",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[r.product_type==="fake"?(d(),S(n,{key:0,label:"å…³è”æ­£å“",prop:"b_page_product_id"},{default:t(()=>[l(z,{modelValue:r.b_page_product_id,"onUpdate:modelValue":e[12]||(e[12]=a=>r.b_page_product_id=a),placeholder:"è¯·é€‰æ‹©å¯¹åº”çš„æ­£å“å•†å“ï¼ˆæ”¯æŒå¤šé€‰ï¼‰",filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",remote:"","remote-method":Lt,loading:$e.value,style:{width:"100%"}},{default:t(()=>[(d(!0),m(B,null,q(Le.value,a=>(d(),S(_,{key:a.id,label:`${a.title} - Â¥${a.sell_price}`,value:a.id},{default:t(()=>[i("div",ds,[i("span",null,f(a.title),1),i("span",rs,"Â¥"+f(a.sell_price),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e[95]||(e[95]=i("div",{class:"form-tip"},"é€‰æ‹©è¿™ä¸ªä»¿å“å¯¹åº”çš„æ­£å“å•†å“",-1))]),_:1})):M("",!0)]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"ç›®æ ‡å›½å®¶",prop:"country"},{default:t(()=>[l(z,{modelValue:r.country,"onUpdate:modelValue":e[13]||(e[13]=a=>r.country=a),placeholder:"è¯·é€‰æ‹©ç›®æ ‡å›½å®¶",style:{width:"100%"}},{default:t(()=>[(d(),m(B,null,q(Tl,a=>l(_,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),e[96]||(e[96]=i("div",{class:"form-tip"},"é€‰æ‹©å•†å“æŠ•æ”¾çš„ç›®æ ‡å›½å®¶/åœ°åŒº",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"æ–—ç¯·è§„åˆ™",prop:"cloak_rule_id"},{default:t(()=>[l(z,{modelValue:r.cloak_rule_id,"onUpdate:modelValue":e[14]||(e[14]=a=>r.cloak_rule_id=a),placeholder:"è¯·é€‰æ‹©æ–—ç¯·è§„åˆ™",clearable:"",filterable:"",style:{width:"100%"},onChange:Wt,loading:_e.value},{default:t(()=>[(d(!0),m(B,null,q(W.value,a=>(d(),S(_,{key:a.id,label:`${a.name} (${vl(a.mode)})`,value:a.id},{default:t(()=>[i("div",ps,[i("span",null,f(a.name),1),l(b,{type:gl(a.mode),size:"small"},{default:t(()=>[u(f(vl(a.mode)),1)]),_:2},1032,["type"])])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e[97]||(e[97]=i("div",{class:"form-tip"},"é€‰æ‹©å•†å“ä½¿ç”¨çš„æ–—ç¯·è§„åˆ™ï¼ŒæŽ§åˆ¶ä¸åŒç”¨æˆ·çœ‹åˆ°çš„å†…å®¹",-1)),i("div",cs,"å½“å‰åŠ è½½äº† "+f(W.value.length)+" ä¸ªæ–—ç¯·è§„åˆ™",1)]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"å±•ç¤ºæ¨¡æ¿",prop:"template"},{default:t(()=>[l(z,{modelValue:r.template,"onUpdate:modelValue":e[15]||(e[15]=a=>r.template=a),placeholder:"è¯·é€‰æ‹©å±•ç¤ºæ¨¡æ¿",style:{width:"100%"}},{default:t(()=>[l(_,{label:"ç»å…¸æ¨¡æ¿ (Classic)",value:"classic"},{default:t(()=>[i("div",_s,[l(b,{type:"info",size:"small"},{default:t(()=>[...e[98]||(e[98]=[u("Classic",-1)])]),_:1}),e[99]||(e[99]=i("span",null,"ç»å…¸æ¨¡æ¿ - å•é¡µè¡¨å•è®¾è®¡",-1))])]),_:1}),l(_,{label:"çŽ°ä»£æ¨¡æ¿ (Shopline)",value:"shopline"},{default:t(()=>[i("div",ms,[l(b,{type:"success",size:"small"},{default:t(()=>[...e[100]||(e[100]=[u("Shopline",-1)])]),_:1}),e[101]||(e[101]=i("span",null,"çŽ°ä»£æ¨¡æ¿ - åˆ†ç¦»å¼ç»“è´¦è®¾è®¡",-1))])]),_:1}),l(_,{label:"æ ‡å‡†æ¨¡æ¿ (Standard)",value:"standard"},{default:t(()=>[i("div",fs,[l(b,{type:"warning",size:"small"},{default:t(()=>[...e[102]||(e[102]=[u("Standard",-1)])]),_:1}),e[103]||(e[103]=i("span",null,"æ ‡å‡†æ¨¡æ¿ - æ¨¡å—åŒ–é«˜æ€§èƒ½è®¾è®¡",-1))])]),_:1})]),_:1},8,["modelValue"]),e[104]||(e[104]=i("div",{class:"form-tip"},[i("strong",null,"Classic:"),u(" ä¼ ç»Ÿå•é¡µè®¾è®¡ï¼Œå•†å“è¯¦æƒ…å’Œè¡¨å•åœ¨åŒä¸€é¡µ "),i("br"),i("strong",null,"Shopline:"),u(" çŽ°ä»£åŒ–è®¾è®¡ï¼Œå•†å“å±•ç¤ºå’Œç»“è´¦åˆ†ç¦»ï¼Œçº¯é»‘ç™½ç®€æ´é£Žæ ¼ "),i("br"),i("strong",null,"Standard:"),u(" ðŸ”¥ æ–°ç‰ˆæ ‡å‡†æ¨¡æ¿ï¼Œæ¨¡å—åŒ–æž¶æž„ï¼Œé«˜æ€§èƒ½ï¼Œæ˜“é€šè¿‡Googleå®¡æ ¸ ")],-1))]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"é¡µé¢ä¸»é¢˜é¢œè‰²",prop:"page_primary_color"},{default:t(()=>[i("div",gs,[l(Jt,{modelValue:r.page_primary_color,"onUpdate:modelValue":e[16]||(e[16]=a=>r.page_primary_color=a),"show-alpha":"",predefine:Fl.value,size:"large"},null,8,["modelValue","predefine"]),l(p,{modelValue:r.page_primary_color,"onUpdate:modelValue":e[17]||(e[17]=a=>r.page_primary_color=a),placeholder:"#007d65",style:{flex:"1"}},{prepend:t(()=>[...e[105]||(e[105]=[u("HEX",-1)])]),_:1},8,["modelValue"]),l(Zt,{trigger:"click",onCommand:Gl},{dropdown:t(()=>[l(Ht,null,{default:t(()=>[l(ne,{command:"#007d65"},{default:t(()=>[...e[107]||(e[107]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#007d65","border-radius":"3px"}}),i("span",null,"æ£®æž—ç»¿ï¼ˆé»˜è®¤ï¼‰")],-1)])]),_:1}),l(ne,{command:"#3498db"},{default:t(()=>[...e[108]||(e[108]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#3498db","border-radius":"3px"}}),i("span",null,"æµ·æ´‹è“")],-1)])]),_:1}),l(ne,{command:"#e74c3c"},{default:t(()=>[...e[109]||(e[109]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#e74c3c","border-radius":"3px"}}),i("span",null,"æ—¥è½çº¢")],-1)])]),_:1}),l(ne,{command:"#f39c12"},{default:t(()=>[...e[110]||(e[110]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#f39c12","border-radius":"3px"}}),i("span",null,"æ™¨æ›¦æ©™")],-1)])]),_:1}),l(ne,{command:"#9b59b6"},{default:t(()=>[...e[111]||(e[111]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#9b59b6","border-radius":"3px"}}),i("span",null,"çš‡å®¶ç´«")],-1)])]),_:1}),l(ne,{command:"#e91e63"},{default:t(()=>[...e[112]||(e[112]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#e91e63","border-radius":"3px"}}),i("span",null,"ç”œèœœç²‰")],-1)])]),_:1}),l(ne,{command:"#1abc9c"},{default:t(()=>[...e[113]||(e[113]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#1abc9c","border-radius":"3px"}}),i("span",null,"çŽ°ä»£é’")],-1)])]),_:1}),l(ne,{command:"#3f51b5"},{default:t(()=>[...e[114]||(e[114]=[i("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[i("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#3f51b5","border-radius":"3px"}}),i("span",null,"æ·±é‚ƒé›")],-1)])]),_:1})]),_:1})]),default:t(()=>[l(k,{type:"primary",plain:""},{default:t(()=>[e[106]||(e[106]=u(" é¢„è®¾ä¸»é¢˜ ",-1)),l(o,{class:"el-icon--right"},{default:t(()=>[l(Gt)]),_:1})]),_:1})]),_:1})]),e[115]||(e[115]=i("div",{class:"form-tip"},[u(" ðŸŽ¨ "),i("strong",null,"ä¸»é¢˜è‰²ï¼š"),u("ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆæ·±è‰²å’Œæµ…è‰²å˜ä½“ï¼Œåº”ç”¨äºŽæŒ‰é’®ã€é“¾æŽ¥ã€æ ‡ç­¾ç­‰æ‰€æœ‰UIå…ƒç´ "),i("br"),u(" ðŸ’¡ "),i("strong",null,"æç¤ºï¼š"),u("å¯ä»¥ä½¿ç”¨é¢œè‰²é€‰æ‹©å™¨ã€ç›´æŽ¥è¾“å…¥hexå€¼ï¼Œæˆ–ä»Žé¢„è®¾ä¸»é¢˜ä¸­å¿«é€Ÿé€‰æ‹© ")],-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"å¤´éƒ¨è·‘é©¬ç¯å†…å®¹",prop:"head_w_marquee"},{default:t(()=>[l(p,{modelValue:r.head_w_marquee,"onUpdate:modelValue":e[18]||(e[18]=a=>r.head_w_marquee=a),type:"textarea",rows:3,placeholder:"ç•™ç©ºåˆ™æ˜¾ç¤ºäº§å“æ ‡é¢˜",style:{width:"100%"}},null,8,["modelValue"]),e[116]||(e[116]=i("div",{class:"form-tip"},"è®¾ç½®å¤´éƒ¨è·‘é©¬ç¯æ˜¾ç¤ºå†…å®¹ï¼Œç•™ç©ºåˆ™æ˜¾ç¤ºäº§å“æ ‡é¢˜",-1))]),_:1})]),_:1})]),_:1}),l(n,{label:"å•†å“å›¾ç‰‡",prop:"image_urls"},{default:t(()=>[l(Qt,{class:"upload-demo",drag:"",action:pl.value,multiple:"","file-list":Te.value,"before-upload":at,"on-success":st,"on-remove":it,"on-error":ot,"list-type":"picture-card",accept:"image/*"},{default:t(()=>[l(o,{class:"el-icon--upload"},{default:t(()=>[l(y(xl))]),_:1}),e[117]||(e[117]=i("div",{class:"el-upload__text"},[u("å°†å›¾ç‰‡æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),i("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["action","file-list"])]),_:1}),l(n,{label:"å•†å“æè¿°",prop:"rich_text_content"},{default:t(()=>[i("div",{class:We(["wang-editor-wrapper",ve.value?"fullscreen":""])},[l(wa,{value:r.rich_text_content||"",height:Ll.value,"editor-config":Il.value,"onUpdate:value":ut},null,8,["value","height","editor-config"]),i("div",vs,[l(k,{size:"small",onClick:nt,title:"è°ƒæ•´ç¼–è¾‘å™¨å¤§å°"},{default:t(()=>[l(o,null,{default:t(()=>[ve.value?(d(),S(y(Sl),{key:0})):(d(),S(y(Ul),{key:1}))]),_:1}),u(" "+f(ve.value?"æ¢å¤":"å…¨å±ç¼–è¾‘"),1)]),_:1}),l(k,{size:"small",onClick:dt,title:"æ¸…ç©ºå†…å®¹"},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Je))]),_:1}),e[118]||(e[118]=u(" æ¸…ç©ºå†…å®¹ ",-1))]),_:1})])],2)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(re,{modelValue:we.value,"onUpdate:modelValue":e[21]||(e[21]=a=>we.value=a),title:"SKUç®¡ç†",width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:t(()=>[i("div",ks,[i("div",bs,[i("div",hs,[e[124]||(e[124]=i("h3",null,"SKUåˆ—è¡¨",-1)),i("div",Vs,[l(k,{type:"success",onClick:ht},{default:t(()=>[l(o,null,{default:t(()=>[l(y(ma))]),_:1}),e[121]||(e[121]=u(" æ‰¹é‡ç”ŸæˆSKU ",-1))]),_:1}),l(k,{type:"primary",onClick:mt},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pe))]),_:1}),e[122]||(e[122]=u(" æ·»åŠ SKU ",-1))]),_:1}),E.value.length>1?(d(),S(k,{key:0,type:"warning",onClick:St},{default:t(()=>[l(o,null,{default:t(()=>[l(y(dl))]),_:1}),e[123]||(e[123]=u(" æŽ’åºSKU ",-1))]),_:1})):M("",!0)])]),ul((d(),S(Ke,{data:E.value,stripe:"",border:"",style:{width:"100%"}},{default:t(()=>[l(D,{label:"å›¾ç‰‡",width:"80",align:"center"},{default:t(({row:a})=>[a.main_image?(d(),S(Q,{key:0,size:50,class:"sku-avatar"},{default:t(()=>[i("img",{src:a.main_image,alt:a.sku_name,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,ws)]),_:2},1024)):(d(),S(Q,{key:1,size:50,class:"sku-avatar"},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Ne))]),_:1})]),_:1}))]),_:1}),l(D,{prop:"sku_code",label:"SKUç¼–ç ",width:"120"}),l(D,{prop:"sku_name",label:"SKUåç§°",width:"150"}),l(D,{label:"å±žæ€§ç»„åˆ","min-width":"200"},{default:t(({row:a})=>[i("div",xs,[(d(!0),m(B,null,q(a.attributes,h=>(d(),S(b,{key:h.attribute_name,size:"small",class:"attr-tag"},{default:t(()=>[u(f(h.display_name)+": "+f(h.display_value),1)]),_:2},1024))),128))])]),_:1}),l(D,{prop:"sell_price",label:"é”€å”®ä»·æ ¼",width:"100",align:"center"},{default:t(({row:a})=>[i("span",Ss,"Â¥"+f(a.sell_price),1)]),_:1}),l(D,{prop:"discount_percent",label:"æŠ˜æ‰£",width:"80",align:"center"},{default:t(({row:a})=>[a.discount_percent&&a.discount_percent>0?(d(),S(b,{key:0,type:"success",size:"small"},{default:t(()=>[u(f(a.discount_percent)+"% ",1)]),_:2},1024)):(d(),m("span",Us,"--"))]),_:1}),l(D,{prop:"stock_quantity",label:"åº“å­˜",width:"80",align:"center"}),l(D,{prop:"status",label:"çŠ¶æ€",width:"100",align:"center"},{default:t(({row:a})=>[l(b,{type:Nl(a.status),size:"small"},{default:t(()=>[u(f(Ol(a.status)),1)]),_:2},1032,["type"])]),_:1}),l(D,{label:"æ“ä½œ",width:"150",align:"center"},{default:t(({row:a})=>[l(k,{size:"small",type:"primary",link:"",onClick:h=>ft(a)},{default:t(()=>[...e[125]||(e[125]=[u("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:h=>gt(a)},{default:t(()=>[...e[126]||(e[126]=[u("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[il,Se.value]])])])]),_:1},8,["modelValue"]),l(re,{modelValue:Pe.value,"onUpdate:modelValue":e[26]||(e[26]=a=>Pe.value=a),title:"SKUåˆ†å±‚æŽ’åº",width:"1200px",fullscreen:de.value,"close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[i("div",Hs,[l(k,{onClick:e[25]||(e[25]=a=>Pe.value=!1)},{default:t(()=>[...e[129]||(e[129]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Kt,loading:Ze.value},{default:t(()=>[...e[130]||(e[130]=[u(" ä¿å­˜æŽ’åº ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[i("div",{class:We(["sku-sort-container",{fullscreen:de.value}])},[i("div",Cs,[l(sl,{title:"åˆ†å±‚æŽ’åºè¯´æ˜Ž",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:t(()=>[...e[127]||(e[127]=[i("div",null,[i("p",null,"â€¢ ç¬¬ä¸€å±‚ï¼šæŒ‰å±žæ€§ç±»åž‹æŽ’åºï¼ˆå¦‚ï¼šsizeã€colorï¼‰"),i("p",null,"â€¢ ç¬¬äºŒå±‚ï¼šæŒ‰å±žæ€§å€¼æŽ’åºï¼ˆå¦‚ï¼šsize1ã€size2ã€size3ï¼‰"),i("p",null,"â€¢ æ‹–æ‹½é¡¹ç›®å¯ä»¥è°ƒæ•´æ˜¾ç¤ºé¡ºåº")],-1)])]),_:1}),i("div",zs,[l(k,{type:"primary",icon:de.value?"ScaleToOriginal":"FullScreen",onClick:Ut,circle:"",size:"small"},{default:t(()=>[l(o,null,{default:t(()=>[de.value?(d(),S(y(Sl),{key:0})):(d(),S(y(Ul),{key:1}))]),_:1})]),_:1},8,["icon"])])]),i("div",$s,[l(Xt,{modelValue:rl.value,"onUpdate:modelValue":e[24]||(e[24]=a=>rl.value=a),type:"card"},{default:t(()=>[l(yl,{label:"å±žæ€§ç±»åž‹æŽ’åº",name:"attribute"},{default:t(()=>[i("div",Ds,[e[128]||(e[128]=i("div",{class:"section-title"},"æ‹–æ‹½è°ƒæ•´å±žæ€§ç±»åž‹çš„æ˜¾ç¤ºé¡ºåº",-1)),i("div",Ps,[(d(!0),m(B,null,q(se.value,(a,h)=>(d(),m("div",{key:a.name,class:"attribute-item",draggable:!0,onDragstart:P=>$t(P,h),onDragover:e[22]||(e[22]=P=>ml(P)),onDrop:P=>Dt(P,h)},[i("div",Ks,[i("div",As,[l(o,null,{default:t(()=>[l(y(dl))]),_:1})]),i("div",Fs,[i("div",Ts,f(a.name),1),i("div",Ls,f(a.count)+"ä¸ªSKU",1)]),i("div",Is,f(h+1),1)])],40,Ms))),128))])])]),_:1}),(d(!0),m(B,null,q(se.value,a=>(d(),S(yl,{key:a.name,label:`${a.name}æŽ’åº`,name:a.name},{default:t(()=>[i("div",js,[i("div",Bs,f(a.name)+" å±žæ€§å€¼æŽ’åº",1),i("div",qs,[(d(!0),m(B,null,q(zt(a.name),(h,P)=>(d(),m("div",{key:`${a.name}-${h.value}`,class:"value-item",draggable:!0,onDragstart:Ae=>Pt(Ae,a.name,P),onDragover:e[23]||(e[23]=Ae=>ml(Ae)),onDrop:Ae=>Mt(Ae,a.name,P)},[i("div",Rs,[i("div",Ns,[l(o,null,{default:t(()=>[l(y(dl))]),_:1})]),i("div",Os,[i("div",Ws,f(h.value),1),i("div",Js,f(h.count)+"ä¸ªSKU",1)]),i("div",Gs,f(P+1),1)])],40,Es))),128))])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])],2)]),_:1},8,["modelValue","fullscreen"]),l(re,{modelValue:De.value,"onUpdate:modelValue":e[34]||(e[34]=a=>De.value=a),title:"æ‰¹é‡ç”ŸæˆSKU",width:"900px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[i("div",ai,[l(k,{onClick:e[33]||(e[33]=a=>De.value=!1)},{default:t(()=>[...e[138]||(e[138]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:xt,loading:He.value},{default:t(()=>[u(" ç”Ÿæˆ "+f(J.value.length)+" ä¸ªSKU ",1)]),_:1},8,["loading"])])]),default:t(()=>[i("div",Zs,[l(sl,{title:"æ‰¹é‡ç”Ÿæˆè¯´æ˜Ž",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:t(()=>[...e[131]||(e[131]=[i("div",null,[i("p",null,"â€¢ å¯ä»¥ä¸€æ¬¡æ€§ä¸ºå•†å“ç”Ÿæˆå¤šä¸ªä¸åŒè§„æ ¼çš„SKU"),i("p",null,"â€¢ ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºæ‰€æœ‰è§„æ ¼ç»„åˆçš„SKU"),i("p",null,"â€¢ è§„æ ¼å€¼è¾“å…¥ï¼šæ¯è¡Œè¾“å…¥ä¸€ä¸ªå€¼ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«"),i("p",null,"â€¢ ç¤ºä¾‹ï¼šé¢œè‰²(çº¢ã€è“) Ã— å°ºå¯¸(Mã€L) = 4ä¸ªSKU")],-1)])]),_:1}),l(ye,{model:w,"label-width":"120px"},{default:t(()=>[l(ie,{class:"form-card",shadow:"never"},{header:t(()=>[...e[132]||(e[132]=[i("span",{style:{"font-weight":"600"}},"åŸºç¡€ä¿¡æ¯",-1)])]),default:t(()=>[l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"é”€å”®ä»·æ ¼",required:""},{default:t(()=>[l(T,{modelValue:w.sell_price,"onUpdate:modelValue":e[27]||(e[27]=a=>w.sell_price=a),min:0,precision:2,style:{width:"100%"},onChange:cl},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"åŽŸä»·"},{default:t(()=>[l(T,{modelValue:w.origin_price,"onUpdate:modelValue":e[28]||(e[28]=a=>w.origin_price=a),min:0,precision:2,style:{width:"100%"},onChange:cl},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"æŠ˜æ‰£(%)",prop:"discount_percent"},{default:t(()=>[l(T,{modelValue:w.discount_percent,"onUpdate:modelValue":e[29]||(e[29]=a=>w.discount_percent=a),min:0,max:100,precision:0,style:{width:"100%"},disabled:""},{append:t(()=>[...e[133]||(e[133]=[u("%",-1)])]),_:1},8,["modelValue"]),e[134]||(e[134]=i("div",{class:"form-tip"},"æ ¹æ®é”€å”®ä»·å’ŒåŽŸä»·è‡ªåŠ¨è®¡ç®—",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"æˆæœ¬ä»·"},{default:t(()=>[l(T,{modelValue:w.cost_price,"onUpdate:modelValue":e[30]||(e[30]=a=>w.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"åº“å­˜æ•°é‡",required:""},{default:t(()=>[l(T,{modelValue:w.stock_quantity,"onUpdate:modelValue":e[31]||(e[31]=a=>w.stock_quantity=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"æˆæœ¬ä»·"},{default:t(()=>[l(T,{modelValue:w.cost_price,"onUpdate:modelValue":e[32]||(e[32]=a=>w.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{class:"form-card",shadow:"never",style:{"margin-top":"20px"}},{header:t(()=>[i("div",Qs,[e[136]||(e[136]=i("span",{style:{"font-weight":"600"}},"è§„æ ¼é…ç½®",-1)),l(k,{type:"primary",size:"small",onClick:Vt},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pe))]),_:1}),e[135]||(e[135]=u(" æ·»åŠ è§„æ ¼ ",-1))]),_:1})])]),default:t(()=>[(d(!0),m(B,null,q(w.specs,(a,h)=>(d(),m("div",{key:h,class:"batch-spec-item"},[l(L,{gutter:10,style:{"margin-bottom":"10px"}},{default:t(()=>[l(x,{span:6},{default:t(()=>[l(p,{modelValue:a.name,"onUpdate:modelValue":P=>a.name=P,placeholder:"è§„æ ¼åç§°ï¼Œå¦‚ï¼šé¢œè‰²"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(x,{span:14},{default:t(()=>[l(p,{modelValue:a.values,"onUpdate:modelValue":P=>a.values=P,type:"textarea",rows:3,placeholder:`æ¯è¡Œè¾“å…¥ä¸€ä¸ªè§„æ ¼å€¼ï¼Œä¾‹å¦‚ï¼š
çº¢è‰²
è“è‰²
ç»¿è‰²`,style:{resize:"vertical"}},null,8,["modelValue","onUpdate:modelValue"]),e[137]||(e[137]=i("div",{class:"form-tip"},"æ¯è¡Œè¾“å…¥ä¸€ä¸ªè§„æ ¼å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«",-1))]),_:2},1024),l(x,{span:4},{default:t(()=>[l(k,{type:"danger",size:"small",onClick:P=>wt(h)},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Je))]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),J.value.length>0?(d(),m("div",Xs,[l(kl,{"content-position":"left"},{default:t(()=>[u("é¢„è§ˆç”Ÿæˆçš„SKU ("+f(J.value.length)+"ä¸ª)",1)]),_:1}),i("div",Ys,[(d(!0),m(B,null,q(J.value,(a,h)=>(d(),m("div",{key:h,class:"preview-sku-item"},[i("div",ei,[i("div",li,f(a.sku_name),1),i("div",ti,[(d(!0),m(B,null,q(a.attributes,P=>(d(),S(b,{key:P.name,size:"small",class:"spec-tag"},{default:t(()=>[u(f(P.name)+": "+f(P.value),1)]),_:2},1024))),128))])])]))),128))])])):M("",!0)]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"]),l(re,{modelValue:te.value,"onUpdate:modelValue":e[50]||(e[50]=a=>te.value=a),title:xe.value,width:"800px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[i("div",vi,[l(k,{onClick:e[49]||(e[49]=a=>te.value=!1)},{default:t(()=>[...e[151]||(e[151]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:yt,loading:Ue.value},{default:t(()=>[...e[152]||(e[152]=[u("ç¡®å®š",-1)])]),_:1},8,["loading"])])]),default:t(()=>[l(ye,{model:g,rules:Bl,ref_key:"skuFormRef",ref:U,"label-width":"100px"},{default:t(()=>[l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"SKUç¼–ç ",prop:"sku_code"},{default:t(()=>[l(p,{modelValue:g.sku_code,"onUpdate:modelValue":e[35]||(e[35]=a=>g.sku_code=a),placeholder:"è‡ªåŠ¨ç”Ÿæˆ"},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"SKUåç§°",prop:"sku_name"},{default:t(()=>[l(p,{modelValue:g.sku_name,"onUpdate:modelValue":e[36]||(e[36]=a=>g.sku_name=a),placeholder:"è¯·è¾“å…¥SKUåç§°"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"é”€å”®ä»·æ ¼",prop:"sell_price"},{default:t(()=>[l(T,{modelValue:g.sell_price,"onUpdate:modelValue":e[37]||(e[37]=a=>g.sell_price=a),min:0,precision:2,style:{width:"100%"},onChange:fl},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"åŽŸä»·",prop:"origin_price"},{default:t(()=>[l(T,{modelValue:g.origin_price,"onUpdate:modelValue":e[38]||(e[38]=a=>g.origin_price=a),min:0,precision:2,style:{width:"100%"},onChange:fl},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"æŠ˜æ‰£(%)",prop:"discount_percent"},{default:t(()=>[l(T,{modelValue:g.discount_percent,"onUpdate:modelValue":e[39]||(e[39]=a=>g.discount_percent=a),min:0,max:100,precision:0,style:{width:"100%"},onChange:Tt},{append:t(()=>[...e[139]||(e[139]=[u("%",-1)])]),_:1},8,["modelValue"]),e[140]||(e[140]=i("div",{class:"form-tip"},"è¾“å…¥é”€å”®ä»·å’ŒåŽŸä»·åŽè‡ªåŠ¨è®¡ç®—ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥æŠ˜æ‰£",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"æˆæœ¬ä»·",prop:"cost_price"},{default:t(()=>[l(T,{modelValue:g.cost_price,"onUpdate:modelValue":e[40]||(e[40]=a=>g.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(L,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(n,{label:"åº“å­˜æ•°é‡",prop:"stock_quantity"},{default:t(()=>[l(T,{modelValue:g.stock_quantity,"onUpdate:modelValue":e[41]||(e[41]=a=>g.stock_quantity=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(n,{label:"é¢„è­¦åº“å­˜",prop:"warning_stock"},{default:t(()=>[l(T,{modelValue:g.warning_stock,"onUpdate:modelValue":e[42]||(e[42]=a=>g.warning_stock=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(n,{label:"SKUå›¾ç‰‡",prop:"main_image"},{default:t(()=>[l(Pl,{"image-url":g.main_image,"onUpdate:imageUrl":e[43]||(e[43]=a=>g.main_image=a),"file-size":2,"file-type":["image/jpg","image/jpeg","image/png","image/gif","image/webp"],drag:!0,width:"120px",height:"120px"},null,8,["image-url"])]),_:1}),l(n,{label:"SKUè§„æ ¼",prop:"attributes"},{default:t(()=>[i("div",si,[l(sl,{title:"SKUè§„æ ¼è®¾ç½®è¯´æ˜Ž",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"16px"}},{default:t(()=>[...e[141]||(e[141]=[i("div",null,[i("p",null,[u("â€¢ "),i("strong",null,"æ¯ä¸ªSKUä»£è¡¨ä¸€ä¸ªå…·ä½“çš„å•†å“è§„æ ¼ç»„åˆ")]),i("p",null,"â€¢ ä¸€ä¸ªSKUçš„åŒä¸€å±žæ€§åªèƒ½è®¾ç½®ä¸€ä¸ªå€¼ï¼ˆå¦‚ï¼šå°ºå¯¸åªèƒ½æ˜¯Mæˆ–Lï¼Œä¸èƒ½åŒæ—¶æ˜¯ä¸¤ç§ï¼‰"),i("p",null,"â€¢ å¦‚éœ€ä¸åŒè§„æ ¼ï¼Œè¯·åˆ›å»ºå¤šä¸ªSKU"),i("p",null,"â€¢ ç¤ºä¾‹ï¼šçº¢è‰²Mç ä¸ºä¸€ä¸ªSKUï¼Œçº¢è‰²Lç ä¸ºå¦ä¸€ä¸ªSKU"),i("p",null,'â€¢ æç¤ºï¼šä½¿ç”¨"æ·»åŠ SKU"æŒ‰é’®ä¸ºæ¯ä¸ªè§„æ ¼ç»„åˆåˆ›å»ºç‹¬ç«‹çš„SKU')],-1)])]),_:1}),i("div",ii,[l(L,{gutter:10},{default:t(()=>[l(x,{span:8},{default:t(()=>[l(p,{modelValue:R.value,"onUpdate:modelValue":e[44]||(e[44]=a=>R.value=a),placeholder:"è§„æ ¼åç§°ï¼Œå¦‚ï¼šå°ºå¯¸",maxlength:20,"show-word-limit":""},null,8,["modelValue"])]),_:1}),l(x,{span:12},{default:t(()=>[l(p,{modelValue:Z.value,"onUpdate:modelValue":e[45]||(e[45]=a=>Z.value=a),placeholder:"è§„æ ¼å€¼ï¼Œå¦‚ï¼šM",maxlength:200,"show-word-limit":""},null,8,["modelValue"])]),_:1}),l(x,{span:4},{default:t(()=>[l(k,{type:"primary",onClick:pt,disabled:!R.value||!Z.value},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pe))]),_:1}),e[142]||(e[142]=u(" æ·»åŠ  ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1}),e[143]||(e[143]=i("div",{class:"form-tip",style:{"margin-top":"8px",color:"#909399","font-size":"12px"}}," æç¤ºï¼šæ¯ä¸ªSKUåªèƒ½è®¾ç½®ä¸€ä¸ªå±žæ€§å€¼ï¼Œå¦‚éœ€ä¸åŒè§„æ ¼è¯·åˆ›å»ºå¤šä¸ªSKU ",-1))]),j.value.length>0?(d(),m("div",oi,[l(kl,{"content-position":"left"},{default:t(()=>[...e[144]||(e[144]=[u("å·²æ·»åŠ çš„è§„æ ¼",-1)])]),_:1}),i("div",ni,[(d(!0),m(B,null,q(j.value,(a,h)=>(d(),m("div",{key:h,class:"spec-item"},[i("div",ui,[i("span",di,f(a.name),1),l(b,{type:"primary",size:"small"},{default:t(()=>[u(f(a.value),1)]),_:2},1024)]),i("div",ri,[l(k,{size:"small",type:"primary",link:"",onClick:P=>_t(h),icon:"Edit"},{default:t(()=>[...e[145]||(e[145]=[u(" ç¼–è¾‘ ",-1)])]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:P=>ct(h),icon:"Delete"},{default:t(()=>[...e[146]||(e[146]=[u(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])])]))),128))])])):M("",!0)])]),_:1}),l(n,{label:"ä¸»å›¾è®¾ç½®",prop:"main_image"},{default:t(()=>[i("div",pi,[i("div",ci,[l(al,{modelValue:Ce.value,"onUpdate:modelValue":e[46]||(e[46]=a=>Ce.value=a),onChange:kt},{default:t(()=>[l(ke,{value:"url"},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Oe))]),_:1}),e[147]||(e[147]=u(" URLè¾“å…¥ ",-1))]),_:1}),l(ke,{value:"upload"},{default:t(()=>[l(o,null,{default:t(()=>[l(y(xl))]),_:1}),e[148]||(e[148]=u(" æ–‡ä»¶ä¸Šä¼  ",-1))]),_:1})]),_:1},8,["modelValue"])]),Ce.value==="url"?(d(),m("div",_i,[l(p,{modelValue:g.main_image,"onUpdate:modelValue":e[47]||(e[47]=a=>g.main_image=a),placeholder:"è¯·è¾“å…¥å›¾ç‰‡URLåœ°å€",clearable:""},{prepend:t(()=>[l(o,null,{default:t(()=>[l(y(Oe))]),_:1})]),_:1},8,["modelValue"]),g.main_image?(d(),m("div",mi,[l(Yt,{src:g.main_image,fit:"cover",style:{width:"80px",height:"80px","border-radius":"4px"},"preview-src-list":[g.main_image],"preview-teleported":""},{error:t(()=>[i("div",fi,[l(o,null,{default:t(()=>[l(y(fa))]),_:1}),e[149]||(e[149]=i("span",null,"åŠ è½½å¤±è´¥",-1))])]),_:1},8,["src","preview-src-list"])])):M("",!0)])):M("",!0),Ce.value==="upload"?(d(),m("div",gi,[l(Pl,{"image-url":g.main_image,"onUpdate:imageUrl":e[48]||(e[48]=a=>g.main_image=a),height:"120px",width:"120px","file-size":2,"file-type":["image/jpeg","image/png","image/gif","image/webp"]},{tip:t(()=>[...e[150]||(e[150]=[i("div",{class:"upload-tip"},"æ”¯æŒ JPGã€PNGã€GIFã€WebP æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 2MB",-1)])]),_:1},8,["image-url"])])):M("",!0)])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(re,{modelValue:me.value,"onUpdate:modelValue":e[56]||(e[56]=a=>me.value=a),title:"é€‰æ‹©å…³è”ä»¿å“",width:"1000px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[i("div",Fi,[l(k,{onClick:e[55]||(e[55]=a=>me.value=!1)},{default:t(()=>[...e[158]||(e[158]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Et,disabled:!ae.value},{default:t(()=>[...e[159]||(e[159]=[u(" ç¡®å®šå…³è” ",-1)])]),_:1},8,["disabled"])])]),default:t(()=>[i("div",yi,[l(ie,{class:"current-product-card",shadow:"never"},{header:t(()=>[...e[153]||(e[153]=[i("span",{style:{"font-weight":"600",color:"#409eff"}},"å½“å‰æ­£å“å•†å“",-1)])]),default:t(()=>[$.value?(d(),m("div",ki,[$.value.image_urls&&$.value.image_urls[0]?(d(),S(Q,{key:0,size:60},{default:t(()=>[i("img",{src:$.value.image_urls[0],alt:$.value.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,bi)]),_:1})):(d(),S(Q,{key:1,size:60},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Ne))]),_:1})]),_:1})),i("div",hi,[i("div",Vi,f($.value.title),1),i("div",wi,"Â¥"+f($.value.sell_price),1),l(b,{type:"success",size:"small"},{default:t(()=>[...e[154]||(e[154]=[u("æ­£å“",-1)])]),_:1})])])):M("",!0)]),_:1}),l(ie,{class:"fake-selection-card",shadow:"never"},{header:t(()=>[i("div",xi,[e[156]||(e[156]=i("span",{style:{"font-weight":"600"}},"é€‰æ‹©è¦å…³è”çš„ä»¿å“",-1)),l(k,{type:"primary",size:"small",onClick:Ot},{default:t(()=>[l(o,null,{default:t(()=>[l(y(pe))]),_:1}),e[155]||(e[155]=u(" åˆ›å»ºæ–°ä»¿å“ ",-1))]),_:1})])]),default:t(()=>[i("div",Si,[l(p,{modelValue:Be.value,"onUpdate:modelValue":e[51]||(e[51]=a=>Be.value=a),placeholder:"æœç´¢ä»¿å“å•†å“...",clearable:"",onInput:jt,style:{width:"300px"}},{prefix:t(()=>[l(o,null,{default:t(()=>[l(y(nl))]),_:1})]),_:1},8,["modelValue"])]),ul((d(),m("div",Ui,[(d(!0),m(B,null,q(Ie.value,a=>(d(),m("div",{key:a.id,class:We(["fake-product-card",{active:ae.value===a.id}]),onClick:h=>ae.value=a.id},[a.image_urls&&a.image_urls[0]?(d(),S(Q,{key:0,size:28},{default:t(()=>[i("img",{src:a.image_urls[0],alt:a.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,zi)]),_:2},1024)):(d(),S(Q,{key:1,size:28},{default:t(()=>[l(o,null,{default:t(()=>[l(y(Ne))]),_:1})]),_:1})),i("div",$i,[i("div",Di,f(a.title),1),i("div",Pi,"Â¥"+f(a.sell_price),1),l(b,{type:"warning",size:"small",style:{padding:"1px 4px","font-size":"10px"}},{default:t(()=>[...e[157]||(e[157]=[u("ä»¿å“",-1)])]),_:1})]),i("div",Mi,[l(ke,{value:a.id,modelValue:ae.value,"onUpdate:modelValue":e[52]||(e[52]=h=>ae.value=h)},null,8,["value","modelValue"])])],10,Ci))),128)),!je.value&&Ie.value.length===0?(d(),m("div",Ki,[l(ea,{description:"æš‚æ— å¯å…³è”çš„ä»¿å“å•†å“"})])):M("",!0)])),[[il,je.value]]),Ie.value.length>0?(d(),m("div",Ai,[l(Re,{"current-page":O.current,"onUpdate:currentPage":e[53]||(e[53]=a=>O.current=a),"page-size":O.size,"onUpdate:pageSize":e[54]||(e[54]=a=>O.size=a),"page-sizes":[12,24,48],total:O.total,layout:"total, sizes, prev, pager, next",onSizeChange:Bt,onCurrentChange:qt,small:""},null,8,["current-page","page-size","total"])])):M("",!0)]),_:1})])]),_:1},8,["modelValue"]),l(re,{modelValue:Y.value,"onUpdate:modelValue":e[59]||(e[59]=a=>Y.value=a),title:"é€‰æ‹©æŸ¥çœ‹åŸŸå",width:"500px","close-on-click-modal":!1},{footer:t(()=>[i("div",Oi,[l(k,{onClick:e[58]||(e[58]=a=>Y.value=!1)},{default:t(()=>[...e[162]||(e[162]=[u("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Zl,disabled:!I.value},{default:t(()=>[...e[163]||(e[163]=[u(" ç¡®è®¤æŸ¥çœ‹ ",-1)])]),_:1},8,["disabled"])])]),default:t(()=>[A.value?(d(),m("div",Ti,[i("div",Li,[i("h4",null,f(A.value.title),1),e[160]||(e[160]=i("p",null,"è¯·é€‰æ‹©è¦æŸ¥çœ‹çš„åŸŸåï¼š",-1))]),l(al,{modelValue:I.value,"onUpdate:modelValue":e[57]||(e[57]=a=>I.value=a),class:"domain-options"},{default:t(()=>[(d(!0),m(B,null,q(ee.value,a=>(d(),S(ke,{key:a.id,value:a,class:"domain-option"},{default:t(()=>{var h;return[i("div",Ii,[i("div",ji,[i("span",Bi,f(a.name),1),l(b,{type:a.is_active?"success":"info",size:"small"},{default:t(()=>[u(f(a.is_active?"å¯ç”¨":"ç¦ç”¨"),1)]),_:2},1032,["type"]),a.is_wildcard?(d(),S(b,{key:0,type:"warning",size:"small"},{default:t(()=>[...e[161]||(e[161]=[u(" é€šé…ç¬¦åŸŸå ",-1)])]),_:1})):M("",!0)]),i("div",qi,[l(o,null,{default:t(()=>[l(y(Oe))]),_:1}),a.is_wildcard&&((h=A.value)!=null&&h.country)?(d(),m("span",Ei,f(a.protocol)+"://"+f(A.value.country.toLowerCase())+"."+f(a.domain),1)):(d(),m("span",Ri,f(a.protocol)+"://"+f(a.domain),1))]),a.description?(d(),m("div",Ni,f(a.description),1)):M("",!0)])]}),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])):M("",!0)]),_:1},8,["modelValue"])])}}}),lo=Kl(Ji,[["__scopeId","data-v-29e6bdb0"]]);export{lo as default};
