import{a5 as Pe,d as Re,af as Xt,h as g,ag as Yt,D as vl,ah as ea,ai as la,s as De,r as w,c as f,o as u,b as l,a as n,g as C,R as L,n as Ee,w as t,F as I,u as v,aE as Pl,b9 as ta,U as qe,q as aa,a7 as yl,N as m,$ as de,P as ye,a8 as ll,Z as sa,Q as na,_ as oa,x as tl,e as i,E as kl,W as al,aB as Be,t as y,f as j,aQ as bl,aD as hl,aq as ia,aC as ua,aP as ra,ba as wl,bb as Vl,G as Sl,bc as da,bd as sl,be as xl,aN as pa,a0 as $e}from"./index-C9K-UNIA.js";import{d as ca,u as ma,c as _a,g as Ul,a as Cl,b as zl,e as fa}from"./product-Do1RdO5L.js";import{c as ga}from"./cloakRule-DroYTJA7.js";import{W as va}from"./index-_5i7s8Hk.js";import{_ as Ml}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./upload-DSMpaN8t.js";const ya=M=>Pe.get(`/admin/products/${M}/skus`),$l=M=>Pe.post("/admin/product-skus",M),ka=(M,oe)=>Pe.put(`/admin/product-skus/${M}`,oe),ba=M=>Pe.delete(`/admin/product-skus/${M}`),ha={class:"product-upload-box"},wa=["src"],Va={key:1,class:"upload-empty"},Sa={class:"el-upload__tip"},xa=Re({name:"ProductUploadImg"}),Ua=Re({...xa,props:{imageUrl:{default:""},drag:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},fileSize:{default:2},fileType:{default:()=>["image/jpeg","image/png","image/gif","image/webp"]},height:{default:"150px"},width:{default:"150px"},borderRadius:{default:"8px"}},emits:["update:imageUrl","update:image-url"],setup(M,{emit:oe}){Xt(S=>({v5f6650a9:S.borderRadius,v6111d75b:S.width,b14bcb9c:S.height}));const Q=M,O=g("id-"+Yt()),Y=g(!1),J=vl(ea,void 0),ee=vl(la,void 0),q=De(()=>Q.disabled||(J==null?void 0:J.disabled)),ke=De(()=>"https://gammtt.shop/admin/upload/image"),le=oe,be=()=>{le("update:imageUrl",""),le("update:image-url","")},he=()=>{const S=document.querySelector(`#${O.value} .el-upload__input`);S&&S.dispatchEvent(new MouseEvent("click"))},X=S=>{const U=S.type.startsWith("image/"),B=S.size/1024/1024<Q.fileSize,K=Q.fileType.includes(S.type);return U?K?B?!0:(m.error(`å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ ${Q.fileSize}MB!`),!1):(m.error(`ä¸Šä¼ å›¾ç‰‡æ ¼å¼ä¸æ­£ç¡®ï¼Œæ”¯æŒæ ¼å¼ï¼š${Q.fileType.join(", ")}`),!1):(m.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},ie=S=>{S&&S.success&&S.data&&S.data.url?(le("update:imageUrl",S.data.url),le("update:image-url",S.data.url),m.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ!"),ee!=null&&ee.prop&&(J==null||J.validateField([ee.prop]))):m.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+(S.error||"æœªçŸ¥é”™è¯¯"))},W=()=>{m.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡æ–°ä¸Šä¼ !")};return(S,U)=>{const B=w("el-icon"),K=w("el-upload"),T=w("el-image-viewer");return u(),f("div",ha,[l(K,{id:O.value,action:ke.value,class:Ee(["upload",q.value?"disabled":"",M.drag?"no-border":""]),multiple:!1,disabled:q.value,"show-file-list":!1,"before-upload":X,"on-success":ie,"on-error":W,drag:M.drag,accept:M.fileType.join(",")},{default:t(()=>[M.imageUrl?(u(),f(I,{key:0},[n("img",{src:M.imageUrl,class:"upload-image"},null,8,wa),n("div",{class:"upload-handle",onClick:U[1]||(U[1]=aa(()=>{},["stop"]))},[q.value?L("",!0):(u(),f("div",{key:0,class:"handle-icon",onClick:he},[l(B,null,{default:t(()=>[l(v(Pl))]),_:1}),U[3]||(U[3]=n("span",null,"ç¼–è¾‘",-1))])),n("div",{class:"handle-icon",onClick:U[0]||(U[0]=ue=>Y.value=!0)},[l(B,null,{default:t(()=>[l(v(ta))]),_:1}),U[4]||(U[4]=n("span",null,"æŸ¥çœ‹",-1))]),q.value?L("",!0):(u(),f("div",{key:1,class:"handle-icon",onClick:be},[l(B,null,{default:t(()=>[l(v(qe))]),_:1}),U[5]||(U[5]=n("span",null,"åˆ é™¤",-1))]))])],64)):(u(),f("div",Va,[yl(S.$slots,"empty",{},()=>[l(B,null,{default:t(()=>[l(v(de))]),_:1}),U[6]||(U[6]=n("span",null,"è¯·ä¸Šä¼ å›¾ç‰‡",-1))],!0)]))]),_:3},8,["id","action","class","disabled","drag","accept"]),n("div",Sa,[yl(S.$slots,"tip",{},void 0,!0)]),Y.value?(u(),C(T,{key:0,"url-list":[M.imageUrl],onClose:U[2]||(U[2]=ue=>Y.value=!1)},null,8,["url-list"])):L("",!0)])}}}),Dl=Ml(Ua,[["__scopeId","data-v-937c0afd"]]),Ca={class:"product-management"},za={class:"table-header"},$a={class:"table-title"},Da={class:"table-actions"},Pa={class:"product-info"},Ma=["src","alt"],Ka={class:"product-details"},Aa={class:"product-title"},Fa={class:"product-subtitle"},Ta={key:0,style:{"font-weight":"bold",color:"#ef3f52"}},Ia={key:1,style:{color:"#999999"}},La={key:0,style:{color:"#666666","text-decoration":"line-through"}},ja={key:1,style:{color:"#999999"}},Ba={key:1,style:{color:"#999999"}},Ea={key:0},qa={key:0},Ra={key:1,style:{color:"#999999"}},Na={key:1},Oa={key:2,style:{color:"#f56c6c"}},Ja={key:0},Wa={key:1,style:{color:"#999999"}},Ga={class:"count-info"},Ha={class:"count-info"},Za={class:"time-info"},Qa={class:"action-buttons"},Xa={class:"pagination-wrapper"},Ya={style:{display:"flex","align-items":"center","justify-content":"space-between"}},es={style:{"font-size":"12px",color:"#999999"}},ls={style:{display:"flex","align-items":"center","justify-content":"space-between"}},ts={class:"form-tip",style:{color:"#909399","font-size":"12px"}},as={style:{display:"flex","align-items":"center",gap:"8px"}},ss={style:{display:"flex","align-items":"center",gap:"8px"}},ns={style:{display:"flex","align-items":"center",gap:"8px"}},os={style:{display:"flex","align-items":"center",gap:"12px"}},is={class:"editor-controls"},us={class:"dialog-footer"},rs={class:"sku-management"},ds={class:"sku-list-section"},ps={class:"section-header"},cs={class:"sku-actions"},ms=["src","alt"],_s={class:"sku-attributes"},fs={class:"price"},gs={key:1,style:{color:"#999999"}},vs={class:"sort-header"},ys={class:"sort-actions"},ks={class:"sort-tabs"},bs={class:"attribute-sort-section"},hs={class:"attribute-list"},ws=["onDragstart","onDrop"],Vs={class:"attribute-content"},Ss={class:"sort-handle"},xs={class:"attribute-info"},Us={class:"attribute-name"},Cs={class:"attribute-count"},zs={class:"sort-order"},$s={class:"value-sort-section"},Ds={class:"section-title"},Ps={class:"value-list"},Ms=["onDragstart","onDrop"],Ks={class:"value-content"},As={class:"sort-handle"},Fs={class:"value-info"},Ts={class:"value-name"},Is={class:"value-count"},Ls={class:"sort-order"},js={class:"dialog-footer"},Bs={class:"batch-sku-generator"},Es={style:{display:"flex","align-items":"center","justify-content":"space-between"}},qs={key:0,class:"batch-preview"},Rs={class:"preview-grid"},Ns={class:"sku-info"},Os={class:"sku-name"},Js={class:"sku-specs"},Ws={class:"dialog-footer"},Gs={class:"sku-specs"},Hs={class:"add-spec-form"},Zs={key:0,class:"specs-list"},Qs={class:"specs-grid"},Xs={class:"spec-content"},Ys={class:"spec-name"},en={class:"spec-actions"},ln={class:"image-input-section"},tn={class:"input-mode-selector"},an={key:0,class:"url-input-mode"},sn={key:0,class:"url-preview"},nn={class:"image-error"},on={key:1,class:"upload-mode"},un={class:"dialog-footer"},rn={class:"fake-product-selection"},dn={key:0,class:"product-summary"},pn=["src","alt"],cn={class:"product-info"},mn={class:"product-title"},_n={class:"product-price"},fn={style:{display:"flex","align-items":"center","justify-content":"space-between"}},gn={class:"search-section"},vn={class:"fake-products-grid"},yn=["onClick"],kn=["src","alt"],bn={class:"card-content"},hn={class:"card-title"},wn={class:"card-price"},Vn={class:"card-check"},Sn={key:0,class:"empty-state"},xn={key:0,class:"fake-pagination"},Un={class:"dialog-footer"},Cn=Re({name:"ProductList"}),zn=Re({...Cn,setup(M){const oe=g(!1),Q=g(!1),O=g(!1),Y=g(""),J=g(),ee=g(!1),q=g(!1),ke=g(""),le=g(!1),be=g(!1),he=g(),X=g(null),ie=g([]),W=g(""),S=g(""),U=g([]),B=g("url"),K=ye({title:"",status:null,product_type:""}),T=ye({current:1,size:20,total:0}),ue=g([]),R=g([]),pe=g(!1),d=ye({id:null,spu_id:"",title:"",sell_price:0,origin_price:0,discount:0,image_urls:[],rich_text_content:"",specification_list:[],variants:[],status:"active",product_type:"original",b_page_product_id:"",cloak_rule_id:null,country:"JA",template:"classic",page_primary_color:"#007d65",head_w_marquee:""}),Me=g([]),Kl=g(["#007d65","#3498db","#e74c3c","#f39c12","#9b59b6","#e91e63","#1abc9c","#3f51b5"]),Ke=g([]),we=g(!1),ce=g(!1),$=g(null),Ae=g([]),Fe=g(!1),te=g(""),Te=g(""),E=ye({current:1,size:12,total:0}),Ve=g(!1),Ne=g(!1),V=ye({sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:1e3,specs:[]}),N=g([]),Se=g(!1),Oe=g(!1),nl=g("attribute"),ae=g([]),xe=g({}),me=g(-1),_e=g(-1),Je=g(""),re=g(!1),fe=g(!1),Al=[{label:"æ—¥æœ¬",value:"JA"},{label:"ä¸­å›½",value:"ZH"},{label:"è‹±å›½",value:"EN"},{label:"æ–¯æ´›ä¼å…‹",value:"SK"},{label:"æ–¯æ´›æ–‡å°¼äºš",value:"SI"},{label:"æ³¢å…°",value:"PL"},{label:"è‘¡è„ç‰™",value:"PT"},{label:"åŒˆç‰™åˆ©",value:"HU"},{label:"æ„å¤§åˆ©",value:"IT"},{label:"è¥¿ç­ç‰™",value:"ES"},{label:"æ·å…‹",value:"CZ"}],Fl=De(()=>fe.value?"calc(100vh - 200px)":"500px"),Tl=De(()=>({placeholder:"è¯·è¾“å…¥å•†å“æè¿°å†…å®¹...",MENU_CONF:{uploadImage:{server:ol.value,fieldName:"file",maxFileSize:2*1024*1024,allowedFileTypes:["image/*"]}}})),ol=De(()=>"https://gammtt.shop/admin/upload/image"),_=ye({id:null,product_id:"",sku_code:"",sku_name:"",sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:0,warning_stock:10,main_image:"",status:"active",attributes:[]}),Il={title:[{required:!0,message:"è¯·è¾“å…¥å•†å“æ ‡é¢˜",trigger:"blur"},{min:2,max:500,message:"å•†å“æ ‡é¢˜é•¿åº¦åœ¨ 2 åˆ° 500 ä¸ªå­—ç¬¦",trigger:"blur"}],status:[{required:!0,message:"è¯·é€‰æ‹©çŠ¶æ€",trigger:"change"}],page_primary_color:[{pattern:/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é¢œè‰²ä»£ç ï¼Œå¦‚ #007d65",trigger:"blur"}]},Ll={sku_name:[{required:!0,message:"è¯·è¾“å…¥SKUåç§°",trigger:"blur"}],sell_price:[{required:!0,message:"è¯·è¾“å…¥é”€å”®ä»·æ ¼",trigger:"blur"}],stock_quantity:[{required:!0,message:"è¯·è¾“å…¥åº“å­˜æ•°é‡",trigger:"blur"}]},jl=()=>{if(_.origin_price>0&&_.sell_price>0){const s=Math.round((_.origin_price-_.sell_price)/_.origin_price*100);_.discount_percent=Math.max(0,Math.min(100,s))}else _.discount_percent=0};ll(()=>[_.sell_price,_.origin_price],()=>{jl()},{deep:!0}),ll(()=>[d.sell_price,d.origin_price],()=>{He()},{deep:!0});const Bl=s=>({active:"success",inactive:"danger",draft:"warning",deleted:"info"})[s]||"info",El=s=>({active:"ä¸Šæž¶",inactive:"ä¸‹æž¶",draft:"è‰ç¨¿",deleted:"å·²åˆ é™¤"})[s]||s,ql=s=>({active:"success",inactive:"danger",out_of_stock:"warning"})[s]||"info",Rl=s=>({active:"æ­£å¸¸",inactive:"ç¦ç”¨",out_of_stock:"ç¼ºè´§"})[s]||s,We=()=>{T.current=1,G()},Nl=()=>{Object.assign(K,{title:"",status:null,product_type:""}),We()},Ol=()=>{Y.value="æ·»åŠ å•†å“",Object.assign(d,{id:null,spu_id:"",title:"",sell_price:0,origin_price:0,discount:0,image_urls:[],rich_text_content:"",specification_list:[],variants:[],status:"active",product_type:"original",b_page_product_id:"",cloak_rule_id:null,country:"JA"}),Me.value=[],Ke.value=[],R.value.length===0&&!pe.value&&Xe(),R.value.length,R.value,O.value=!0},Jl=s=>{d.page_primary_color=s,m.success(`å·²åˆ‡æ¢åˆ°ä¸»é¢˜è‰²ï¼š${s}`)},Ge=s=>{const o=`https://lying.shop/product/${s.id}`;window.open(o,"_blank"),m.success("æ­£åœ¨è·³è½¬åˆ°å•†å“é¡µé¢...")},Wl=s=>{Y.value="ç¼–è¾‘å•†å“",s.cloak_rule_id,s.cloak_rule_id;const e={...s,sell_price:parseFloat(s.sell_price)||0,origin_price:parseFloat(s.origin_price)||0,discount:parseFloat(s.discount)||0,product_type:s.product_type||"original",b_page_product_id:s.b_page_product_id||"",country:s.country||"JA",template:s.template||"classic",cloak_rule_id:s.cloak_rule_id||null};e.cloak_rule_id,Object.assign(d,e),Me.value=(s.image_urls||[]).map((o,p)=>({name:`image_${p}.jpg`,url:o,response:{success:!0,data:{url:o,file_name:`image_${p}.jpg`}}})),R.value.length===0&&!pe.value&&Xe(),R.value.length,d.cloak_rule_id,R.value,O.value=!0},Gl=s=>{$e.confirm(`ç¡®å®šè¦åˆ é™¤å•†å“ "${s.title}" å—ï¼Ÿåˆ é™¤åŽæ— æ³•æ¢å¤ï¼`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}).then(async()=>{try{await ca(s.id),m.success("åˆ é™¤æˆåŠŸ"),G()}catch{m.error("åˆ é™¤å¤±è´¥")}})},Hl=async()=>{J.value&&J.value.validate(async s=>{if(s){Q.value=!0;try{d.cloak_rule_id,d.cloak_rule_id,d.id?(d.id,await ma(d.id,d),m.success("æ›´æ–°æˆåŠŸ")):(await _a(d),m.success("æ·»åŠ æˆåŠŸ")),O.value=!1,G()}catch(e){console.error("æäº¤å¤±è´¥:",e),m.error(d.id?"æ›´æ–°å¤±è´¥":"æ·»åŠ å¤±è´¥")}finally{Q.value=!1}}})},Zl=s=>{T.size=s,G()},Ql=s=>{T.current=s,G()},Xl=s=>{const e=s.type.startsWith("image/"),o=s.size/1024/1024<2;return e?o?!0:(m.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),!1):(m.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},Yl=(s,e)=>{s&&s.success&&s.data&&s.data.url?(d.image_urls.push(s.data.url),e.fileName=s.data.file_name,m.success("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ")):m.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+(s.error||"æœªçŸ¥é”™è¯¯"))},et=s=>{if(s.response&&s.response.url){const e=d.image_urls.indexOf(s.response.url);e>-1&&d.image_urls.splice(e,1)}},lt=()=>{m.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥")},tt=()=>{fe.value=!fe.value},at=s=>{d.rich_text_content=s},st=()=>{$e.confirm("ç¡®å®šè¦æ¸…ç©ºå•†å“æè¿°å†…å®¹å—ï¼Ÿ","æ¸…ç©ºç¡®è®¤",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(()=>{d.rich_text_content="",m.success("å†…å®¹å·²æ¸…ç©º")})},G=async()=>{oe.value=!0;try{const s={page:T.current,size:T.size,title:K.title||void 0,status:K.status||void 0,product_type:K.product_type||void 0},{data:e}=await Ul(s);e.list[0],ue.value=e.list,T.total=e.total}catch{m.error("èŽ·å–å•†å“åˆ—è¡¨å¤±è´¥")}finally{oe.value=!1}},nt=async s=>{X.value=s,ee.value=!0,await Ie(s.id)},Ie=async s=>{le.value=!0;try{const{data:e}=await ya(s);ie.value=e}catch{m.error("èŽ·å–SKUåˆ—è¡¨å¤±è´¥")}finally{le.value=!1}},ot=()=>{if(!W.value.trim()||!S.value.trim()){m.warning("è¯·è¾“å…¥è§„æ ¼åç§°å’Œå€¼");return}const s=W.value.trim(),e=S.value.trim();if(U.value.find(c=>c.name===s&&c.value===e)){m.warning(`è§„æ ¼ "${s}: ${e}" å·²å­˜åœ¨ï¼Œè¯·å‹¿é‡å¤æ·»åŠ `);return}const p=U.value.find(c=>c.name===s);if(p){m.warning(`å±žæ€§ "${s}" å·²å­˜åœ¨å€¼ "${p.value}"ï¼Œä¸€ä¸ªSKUçš„åŒä¸€å±žæ€§åªèƒ½è®¾ç½®ä¸€ä¸ªå€¼ã€‚å¦‚éœ€ä¿®æ”¹ï¼Œè¯·å…ˆåˆ é™¤çŽ°æœ‰è§„æ ¼ã€‚`);return}const r={name:s,value:e};U.value.push(r),W.value="",S.value="",m.success("è§„æ ¼æ·»åŠ æˆåŠŸ")},it=s=>{U.value.splice(s,1),m.success("è§„æ ¼åˆ é™¤æˆåŠŸ")},ut=s=>{const e=U.value[s];W.value=e.name,S.value=e.value,U.value.splice(s,1),m.info("è¯·ä¿®æ”¹è§„æ ¼ä¿¡æ¯åŽç‚¹å‡»æ·»åŠ æŒ‰é’®")},rt=()=>{var p;ke.value="æ·»åŠ SKU";const s=Date.now(),e=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),o=`SKU${s}${e}`;Object.assign(_,{id:null,product_id:((p=X.value)==null?void 0:p.id)||"",sku_code:o,sku_name:"",sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:0,warning_stock:10,main_image:"",status:"active",attributes:[]}),U.value=[],W.value="",S.value="",q.value=!0},dt=s=>{ke.value="ç¼–è¾‘SKU";const e={...s,sell_price:parseFloat(s.sell_price)||0,origin_price:parseFloat(s.origin_price)||0,cost_price:parseFloat(s.cost_price)||0,discount_percent:parseFloat(s.discount_percent)||0,stock_quantity:parseInt(s.stock_quantity)||0,warning_stock:parseInt(s.warning_stock)||10};Object.assign(_,e),U.value=s.attributes.map(o=>({name:o.attribute_name||o.display_name||"",value:o.value||o.display_value||"",attribute_id:o.attribute_id||null,attribute_value_id:o.attribute_value_id||null})),q.value=!0},pt=s=>{$e.confirm(`ç¡®å®šè¦åˆ é™¤SKU "${s.sku_name}" å—ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then(async()=>{var e,o,p;try{await ba(s.id),m.success("åˆ é™¤æˆåŠŸ"),await Ie(((e=X.value)==null?void 0:e.id)||"")}catch(r){console.error("åˆ é™¤SKUå¤±è´¥:",r);let c="åˆ é™¤å¤±è´¥";(p=(o=r.response)==null?void 0:o.data)!=null&&p.message?c=r.response.data.message:r.message&&(c=r.message),m.error(c)}})},ct=()=>{const s=U.value.map(o=>o.name),e=s.filter((o,p)=>s.indexOf(o)!==p);if(e.length>0)throw m.error(`æ£€æµ‹åˆ°é‡å¤çš„å±žæ€§å: ${e.join(", ")}ï¼Œè¯·æ£€æŸ¥è§„æ ¼è®¾ç½®`),new Error("å­˜åœ¨é‡å¤çš„å±žæ€§å");return U.value.map(o=>o.attribute_id&&o.attribute_value_id?{attribute_id:o.attribute_id,attribute_value_id:o.attribute_value_id}:{attribute_name:o.name,value:o.value})},mt=async()=>{he.value&&he.value.validate(async s=>{var e;if(s){be.value=!0;try{const o={..._,attributes:ct()};_.id?(await ka(_.id,o),m.success("æ›´æ–°æˆåŠŸ")):(await $l(o),m.success("æ·»åŠ æˆåŠŸ")),q.value=!1,await Ie(((e=X.value)==null?void 0:e.id)||"")}catch(o){if(o.message==="å­˜åœ¨é‡å¤çš„å±žæ€§å")return;m.error(_.id?"æ›´æ–°å¤±è´¥":"æ·»åŠ å¤±è´¥")}finally{be.value=!1}}})},_t=s=>{s!==B.value&&(_.main_image="")},ft=s=>{s==="original"?d.b_page_product_id="":s==="fake"&&(d.b_page_product_id||Qe())},He=()=>{const s=d.sell_price||0,e=d.origin_price||0;if(e>0&&s>0){const o=Math.round((e-s)/e*100);d.discount=Math.max(0,Math.min(100,o))}else(e===0||s===0)&&(d.discount=0)},gt=()=>{Object.assign(V,{sell_price:0,origin_price:0,cost_price:0,discount_percent:0,stock_quantity:1e3,specs:[]}),N.value=[],Ve.value=!0},il=()=>{const s=V.origin_price||0,e=V.sell_price||0;if(s>0&&e>0){const o=Math.round((s-e)/s*100);V.discount_percent=Math.max(0,Math.min(100,o))}else V.discount_percent=0},vt=()=>{V.specs.push({name:"",values:""}),Ze()},yt=s=>{V.specs.splice(s,1),Ze()},Ze=()=>{const s=V.specs.filter(c=>c.name.trim()&&c.values.trim());if(s.length===0){N.value=[];return}const e=s.map(c=>c.name.trim()),o=e.filter((c,P)=>e.indexOf(c)!==P);if(o.length>0){m.warning(`æ£€æµ‹åˆ°é‡å¤çš„è§„æ ¼åç§°: ${o.join(", ")}ï¼Œè¯·ç¡®ä¿æ¯ä¸ªè§„æ ¼åç§°å”¯ä¸€`),N.value=[];return}const p=s.map(c=>({name:c.name.trim(),values:c.values.split(`
`).map(P=>P.trim()).filter(P=>P)})),r=ul(p);N.value=r.map(c=>({sku_name:c.map(h=>`${h.name}:${h.value}`).join(" "),attributes:c}))},ul=s=>{if(s.length===0)return[];if(s.length===1)return s[0].values.map(c=>[{name:s[0].name,value:c}]);const e=[],o=s[0],p=s.slice(1),r=ul(p);for(const c of o.values)for(const P of r)e.push([{name:o.name,value:c},...P]);return e};ll(()=>V.specs,()=>{Ze()},{deep:!0});const kt=async()=>{var p;if(N.value.length===0){m.warning("è¯·é…ç½®è§„æ ¼ä¿¡æ¯");return}if(!V.sell_price||!V.stock_quantity){m.warning("è¯·å¡«å†™é”€å”®ä»·æ ¼å’Œåº“å­˜æ•°é‡");return}const e=V.specs.filter(r=>r.name.trim()&&r.values.trim()).map(r=>r.name.trim()),o=e.filter((r,c)=>e.indexOf(r)!==c);if(o.length>0){m.error(`æ£€æµ‹åˆ°é‡å¤çš„è§„æ ¼åç§°: ${o.join(", ")}ï¼Œè¯·ç¡®ä¿æ¯ä¸ªè§„æ ¼åç§°å”¯ä¸€`);return}Ne.value=!0;try{const r=Date.now(),c=N.value.map(async(P,h)=>{var z;const k=r+h,ge=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),se=()=>{const Z=V.origin_price||0,Ue=V.sell_price||0;if(Z>0&&Ue>0){const je=Math.round((Z-Ue)/Z*100);return Math.max(0,Math.min(100,je))}return 0},H={product_id:((z=X.value)==null?void 0:z.id)||"",sku_code:`SKU${k}${ge}`,sku_name:P.sku_name,sell_price:V.sell_price,origin_price:V.origin_price,cost_price:V.cost_price,discount_percent:se(),stock_quantity:V.stock_quantity,warning_stock:10,main_image:"",status:"active",attributes:P.attributes.map(Z=>({attribute_name:Z.name,value:Z.value}))};return $l(H)});await Promise.all(c),m.success(`æˆåŠŸç”Ÿæˆ ${N.value.length} ä¸ªSKU`),Ve.value=!1,await Ie(((p=X.value)==null?void 0:p.id)||"")}catch(r){console.error("æ‰¹é‡ç”ŸæˆSKUå¤±è´¥:",r),m.error("æ‰¹é‡ç”Ÿæˆå¤±è´¥")}finally{Ne.value=!1}},bt=()=>{wt(),re.value=!1,Se.value=!0},ht=()=>{re.value=!re.value},wt=()=>{const s=new Map;ie.value.forEach(e=>{e.attributes.forEach(o=>{const p=o.display_name||o.attribute_name,r=o.display_value||o.value;s.has(p)||s.set(p,new Map);const c=s.get(p);c.has(r)||c.set(r,[]),c.get(r).push(e)})}),ae.value=Array.from(s.keys()).map(e=>{const o=s.get(e),p=Array.from(o.values()).reduce((r,c)=>r+c.length,0);return{name:e,count:p,values:Array.from(o.keys())}}),xe.value={},s.forEach((e,o)=>{xe.value[o]=Array.from(e.keys()).map(p=>{const r=e.get(p);return{value:p,count:r.length,skus:r}})})},Vt=s=>xe.value[s]||[],St=(s,e)=>{me.value=e,s.dataTransfer&&(s.dataTransfer.effectAllowed="move")},xt=(s,e)=>{if(s.preventDefault(),me.value===-1||me.value===e)return;const o=ae.value[me.value];ae.value.splice(me.value,1),ae.value.splice(e,0,o),me.value=-1},Ut=(s,e,o)=>{_e.value=o,Je.value=e,s.dataTransfer&&(s.dataTransfer.effectAllowed="move")},Ct=(s,e,o)=>{if(s.preventDefault(),_e.value===-1||Je.value!==e||_e.value===o)return;const p=xe.value[e],r=p[_e.value];p.splice(_e.value,1),p.splice(o,0,r),_e.value=-1,Je.value=""},rl=s=>{s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="move")},zt=async()=>{if(ae.value.length===0){m.warning("æ²¡æœ‰å±žæ€§éœ€è¦æŽ’åº");return}Oe.value=!0;try{const s=[];ae.value.forEach(e=>{xe.value[e.name].forEach(p=>{p.skus.forEach(r=>{s.find(c=>c.id===r.id)||s.push(r)})})}),ie.value=s,await $t(s),m.success("æŽ’åºä¿å­˜æˆåŠŸ"),Se.value=!1}catch(s){console.error("ä¿å­˜æŽ’åºå¤±è´¥:",s),m.error("ä¿å­˜æŽ’åºå¤±è´¥")}finally{Oe.value=!1}},$t=async s=>{try{const e=s.map((p,r)=>({sku_id:p.id,sort_order:r+1})),o=await Pe.put(`/admin/products/${X.value.id}/skus/sort`,{sort_data:e});if(o.code!==200)throw new Error(o.message||"ä¿å­˜æŽ’åºå¤±è´¥")}catch(e){throw console.error("ä¿å­˜æŽ’åºåˆ°åŽç«¯å¤±è´¥:",e),e}},Dt=()=>{const s=d.origin_price||0,e=d.discount||0;s>0&&e>=0&&(d.sell_price=Math.round(s*(1-e/100)*100)/100)},dl=()=>{const s=_.sell_price||0,e=_.origin_price||0;if(e>0&&s>0){const o=Math.round((e-s)/e*100);_.discount_percent=Math.max(0,Math.min(100,o))}else(e===0||s===0)&&(_.discount_percent=0)},Pt=()=>{const s=_.origin_price||0,e=_.discount_percent||0;s>0&&e>=0&&(_.sell_price=Math.round(s*(1-e/100)*100)/100)},Mt=async s=>{if(!s){await Qe();return}we.value=!0;try{const{data:e}=await Cl(s);Ke.value=e}catch{m.error("æœç´¢æ­£å“å•†å“å¤±è´¥")}finally{we.value=!1}},Qe=async()=>{we.value=!0;try{const{data:s}=await Cl();Ke.value=s}catch{m.error("åŠ è½½æ­£å“å•†å“åˆ—è¡¨å¤±è´¥")}finally{we.value=!1}},Kt=s=>{const e=ue.value.find(o=>o.id===s);return e?e.title:"æœªçŸ¥å•†å“"},pl=s=>ue.value.filter(e=>e.product_type==="fake"&&e.b_page_product_id===s),At=s=>{const e=ue.value.find(o=>o.id===s);e&&Ge(e)},Ft=s=>{$.value=s,te.value="",Te.value="",E.current=1,ce.value=!0,Le()},Le=async()=>{Fe.value=!0;try{const s={page:E.current,size:E.size,product_type:"fake",title:Te.value||void 0},{data:e}=await Ul(s);Ae.value=e.list.filter(o=>!o.b_page_product_id),E.total=e.total}catch{m.error("åŠ è½½ä»¿å“å•†å“åˆ—è¡¨å¤±è´¥")}finally{Fe.value=!1}},Tt=()=>{E.current=1,Le()},It=s=>{E.size=s,Le()},Lt=s=>{E.current=s,Le()},jt=async()=>{if(!(!te.value||!$.value))try{await zl(te.value,$.value.id),m.success("ä»¿å“å…³è”æˆåŠŸ"),ce.value=!1,G()}catch{m.error("ä»¿å“å…³è”å¤±è´¥")}},Bt=async s=>{try{await $e.confirm(`ç¡®å®šè¦å–æ¶ˆä»¿å“ "${s.title}" çš„å…³è”å—ï¼Ÿå–æ¶ˆåŽè¯¥ä»¿å“å°†ä¸å†å…³è”ä»»ä½•æ­£å“ã€‚`,"å–æ¶ˆå…³è”ç¡®è®¤",{confirmButtonText:"ç¡®å®šå–æ¶ˆ",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}),s.id,await zl(s.id,null),m.success("å–æ¶ˆå…³è”æˆåŠŸ"),G()}catch(e){e!=="cancel"&&m.error("å–æ¶ˆå…³è”å¤±è´¥")}},Et=async s=>{try{await $e.confirm(`ç¡®å®šè¦å–æ¶ˆå•†å“ "${s.title}" çš„æ–—ç¯·è§„åˆ™è®¾ç½®å—ï¼Ÿå–æ¶ˆåŽè¯¥å•†å“å°†ä¸å†ä½¿ç”¨ä»»ä½•æ–—ç¯·è§„åˆ™ã€‚`,"å–æ¶ˆæ–—ç¯·è§„åˆ™ç¡®è®¤",{confirmButtonText:"ç¡®å®šå–æ¶ˆ",cancelButtonText:"å–æ¶ˆ",type:"warning",confirmButtonClass:"el-button--danger"}),s.id,await fa(s.id,null),m.success("å–æ¶ˆæ–—ç¯·è§„åˆ™è®¾ç½®æˆåŠŸ"),G()}catch(e){e!=="cancel"&&m.error("å–æ¶ˆæ–—ç¯·è§„åˆ™è®¾ç½®å¤±è´¥")}},qt=()=>{$.value&&(ce.value=!1,Y.value="åŸºäºŽæ­£å“åˆ›å»ºä»¿å“",Object.assign(d,{id:null,spu_id:"",title:`${$.value.title} - ä»¿å“ç‰ˆ`,sell_price:Math.round(($.value.sell_price||0)*.6),origin_price:$.value.sell_price||0,discount:40,image_urls:[...$.value.image_urls||[]],rich_text_content:$.value.rich_text_content||"",specification_list:[...$.value.specification_list||[]],variants:[...$.value.variants||[]],status:"draft",product_type:"fake",b_page_product_id:$.value.id,cloak_rule_id:null,country:$.value.country||"JA"}),Me.value=($.value.image_urls||[]).map((s,e)=>({name:`image_${e}.jpg`,url:s,response:{success:!0,data:{url:s,file_name:`image_${e}.jpg`}}})),Qe(),O.value=!0,m.success(`å·²åŸºäºŽæ­£å“"${$.value.title}"åˆ›å»ºä»¿å“ï¼Œè¯·ä¿®æ”¹ç›¸å…³ä¿¡æ¯åŽä¿å­˜`))},Xe=async()=>{if(!pe.value)try{pe.value=!0;const s=await ga.getCloakRules({page:1,size:1e3});if(s.code===200){const e=s.data.list,o=e.filter(p=>p.is_active===1);R.value=o,R.value}else console.error("æ–—ç¯·è§„åˆ™APIè¿”å›žé”™è¯¯:",s)}catch(s){console.error("åŠ è½½æ–—ç¯·è§„åˆ™å¤±è´¥:",s),m.error("åŠ è½½æ–—ç¯·è§„åˆ™å¤±è´¥")}finally{pe.value=!1}},cl=s=>({cloak:"warning",green:"success",open:"info",audit:"danger"})[s]||"info",ml=s=>({cloak:"æ–—ç¯·",green:"ç»¿è‰²",open:"å…¨å¼€",audit:"å®¡æ ¸"})[s]||s,Rt=s=>{d.cloak_rule_id=s,s&&(R.value.find(o=>o.id===s)||console.warn("æœªæ‰¾åˆ°å¯¹åº”çš„æ–—ç¯·è§„åˆ™ï¼ŒID:",s))};return sa(()=>{G(),Xe()}),(s,e)=>{const o=w("el-icon"),p=w("el-input"),r=w("el-form-item"),c=w("el-option"),P=w("el-select"),h=w("el-tag"),k=w("el-button"),ge=w("el-form"),se=w("el-card"),H=w("el-avatar"),z=w("el-table-column"),Z=w("el-tooltip"),Ue=w("el-table"),je=w("el-pagination"),A=w("el-input-number"),x=w("el-col"),F=w("el-row"),Ce=w("el-radio"),_l=w("el-radio-group"),Nt=w("el-color-picker"),Ot=w("arrow-down"),ne=w("el-dropdown-item"),Jt=w("el-dropdown-menu"),Wt=w("el-dropdown"),Gt=w("el-upload"),ve=w("el-dialog"),Ye=w("el-alert"),fl=w("el-tab-pane"),Ht=w("el-tabs"),gl=w("el-divider"),Zt=w("el-image"),Qt=w("el-empty"),el=na("loading");return u(),f("div",Ca,[l(se,{class:"search-card",shadow:"never"},{default:t(()=>[l(ge,{model:K,inline:"",class:"search-form"},{default:t(()=>[l(r,{label:"å•†å“æ ‡é¢˜"},{default:t(()=>[l(p,{modelValue:K.title,"onUpdate:modelValue":e[0]||(e[0]=a=>K.title=a),placeholder:"è¯·è¾“å…¥å•†å“æ ‡é¢˜",clearable:"",style:{width:"200px"},onKeyup:oa(We,["enter"])},{prefix:t(()=>[l(o,null,{default:t(()=>[l(v(tl))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"çŠ¶æ€"},{default:t(()=>[l(P,{modelValue:K.status,"onUpdate:modelValue":e[1]||(e[1]=a=>K.status=a),placeholder:"è¯·é€‰æ‹©çŠ¶æ€",clearable:"",style:{width:"120px"}},{default:t(()=>[l(c,{label:"ä¸Šæž¶",value:"active"}),l(c,{label:"ä¸‹æž¶",value:"inactive"}),l(c,{label:"è‰ç¨¿",value:"draft"})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"å•†å“ç±»åž‹"},{default:t(()=>[l(P,{modelValue:K.product_type,"onUpdate:modelValue":e[2]||(e[2]=a=>K.product_type=a),placeholder:"è¯·é€‰æ‹©ç±»åž‹",clearable:"",style:{width:"120px"}},{default:t(()=>[l(c,{label:"å…¨éƒ¨",value:""},{default:t(()=>[l(h,{type:"info",size:"small"},{default:t(()=>[...e[57]||(e[57]=[i("å…¨éƒ¨",-1)])]),_:1})]),_:1}),l(c,{label:"æ­£å“",value:"original"},{default:t(()=>[l(h,{type:"success",size:"small"},{default:t(()=>[...e[58]||(e[58]=[i("æ­£å“",-1)])]),_:1})]),_:1}),l(c,{label:"ä»¿å“",value:"fake"},{default:t(()=>[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[59]||(e[59]=[i("ä»¿å“",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,null,{default:t(()=>[l(k,{type:"primary",onClick:We},{default:t(()=>[l(o,null,{default:t(()=>[l(v(tl))]),_:1}),e[60]||(e[60]=i(" æœç´¢ ",-1))]),_:1}),l(k,{onClick:Nl},{default:t(()=>[l(o,null,{default:t(()=>[l(v(kl))]),_:1}),e[61]||(e[61]=i(" é‡ç½® ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(se,{class:"table-card",shadow:"never"},{header:t(()=>[n("div",za,[n("div",$a,[l(k,{type:"primary",onClick:Ol},{default:t(()=>[l(o,null,{default:t(()=>[l(v(de))]),_:1}),e[62]||(e[62]=i(" æ·»åŠ å•†å“ ",-1))]),_:1}),e[63]||(e[63]=n("span",null,"å•†å“åˆ—è¡¨",-1)),l(h,{type:"info",size:"small"},{default:t(()=>[i(y(T.total)+" æ¡è®°å½•",1)]),_:1})]),n("div",Da,[l(k,{size:"small",onClick:G},{default:t(()=>[l(o,null,{default:t(()=>[l(v(kl))]),_:1}),e[64]||(e[64]=i(" åˆ·æ–° ",-1))]),_:1})])])]),default:t(()=>[al((u(),C(Ue,{data:ue.value,stripe:"",border:"",style:{width:"100%"},"header-cell-style":{background:"#f8f9fa",color:"#606266"}},{default:t(()=>[l(z,{prop:"title",label:"å•†å“æ ‡é¢˜","min-width":"200","show-overflow-tooltip":""},{default:t(({row:a})=>[n("div",Pa,[a.image_urls&&a.image_urls[0]?(u(),C(H,{key:0,size:40,class:"product-avatar"},{default:t(()=>[n("img",{src:a.image_urls[0],alt:a.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Ma)]),_:2},1024)):(u(),C(H,{key:1,size:40,class:"product-avatar"},{default:t(()=>[l(o,null,{default:t(()=>[l(v(Be))]),_:1})]),_:1})),n("div",Ka,[n("div",Aa,y(a.title),1),n("div",Fa,y(a.sell_price?"Â¥"+a.sell_price:"æš‚æœªå®šä»·"),1)])])]),_:1}),l(z,{prop:"sell_price",label:"é”€å”®ä»·",width:"90",align:"center"},{default:t(({row:a})=>[a.sell_price?(u(),f("span",Ta," Â¥"+y(a.sell_price),1)):(u(),f("span",Ia,"--"))]),_:1}),l(z,{prop:"origin_price",label:"åŽŸä»·",width:"90",align:"center"},{default:t(({row:a})=>[a.origin_price&&a.origin_price>0?(u(),f("span",La," Â¥"+y(a.origin_price),1)):(u(),f("span",ja,"--"))]),_:1}),l(z,{prop:"discount",label:"æŠ˜æ‰£",width:"80",align:"center"},{default:t(({row:a})=>[a.discount&&a.discount>0?(u(),C(h,{key:0,type:"success",size:"small"},{default:t(()=>[i(y(a.discount)+"% OFF ",1)]),_:2},1024)):(u(),f("span",Ba,"--"))]),_:1}),l(z,{prop:"product_type",label:"ç±»åž‹",width:"100",align:"center"},{default:t(({row:a})=>[l(h,{type:a.product_type==="original"?"success":"warning",size:"small"},{default:t(()=>[i(y(a.product_type==="original"?"æ­£å“":"ä»¿å“"),1)]),_:2},1032,["type"])]),_:1}),l(z,{label:"å…³è”å…³ç³»",width:"150",align:"center"},{default:t(({row:a})=>[a.product_type==="original"?(u(),f("div",Ea,[pl(a.id).length>0?(u(),f("div",qa,[(u(!0),f(I,null,j(pl(a.id),b=>(u(),C(Z,{key:b.id,content:`ä»¿å“: ${b.title}`,placement:"top"},{default:t(()=>[l(h,{type:"warning",size:"small",style:{margin:"2px",cursor:"pointer"},onClick:D=>Ge(b)},{default:t(()=>[...e[65]||(e[65]=[i(" ä»¿å“ ",-1)])]),_:1},8,["onClick"])]),_:2},1032,["content"]))),128))])):(u(),f("span",Ra,"-"))])):a.b_page_product_id?(u(),f("div",Na,[l(Z,{content:`å…³è”æ­£å“: ${Kt(a.b_page_product_id)}`,placement:"top"},{default:t(()=>[l(h,{type:"info",size:"small",style:{cursor:"pointer"},onClick:b=>At(a.b_page_product_id)},{default:t(()=>[...e[66]||(e[66]=[i(" å·²å…³è” ",-1)])]),_:1},8,["onClick"])]),_:2},1032,["content"]),l(k,{size:"small",type:"danger",link:"",onClick:b=>Bt(a),style:{"margin-left":"8px"}},{default:t(()=>[l(o,null,{default:t(()=>[l(v(bl))]),_:1}),e[67]||(e[67]=i(" å–æ¶ˆå…³è” ",-1))]),_:1},8,["onClick"])])):(u(),f("span",Oa,"æœªå…³è”"))]),_:1}),l(z,{prop:"country",label:"å›½å®¶",width:"80",align:"center"},{default:t(({row:a})=>[l(h,{type:"primary",size:"small"},{default:t(()=>[i(y(a.country||"JA"),1)]),_:2},1024)]),_:1}),l(z,{prop:"template",label:"å±•ç¤ºæ¨¡æ¿",width:"120",align:"center"},{default:t(({row:a})=>[a.template==="shopline"?(u(),C(h,{key:0,type:"success",size:"small"},{default:t(()=>[...e[68]||(e[68]=[i(" Shopline ",-1)])]),_:1})):a.template==="standard"?(u(),C(h,{key:1,type:"warning",size:"small"},{default:t(()=>[...e[69]||(e[69]=[i(" Standard ",-1)])]),_:1})):(u(),C(h,{key:2,type:"info",size:"small"},{default:t(()=>[...e[70]||(e[70]=[i(" Classic ",-1)])]),_:1}))]),_:1}),l(z,{prop:"cloak_rule_name",label:"æ–—ç¯·è§„åˆ™",width:"200",align:"center"},{default:t(({row:a})=>[a.cloak_rule_name?(u(),f("div",Ja,[l(Z,{content:`è§„åˆ™: ${a.cloak_rule_name}`,placement:"top"},{default:t(()=>[l(h,{type:cl(a.cloak_rule_mode),size:"small"},{default:t(()=>[i(y(a.cloak_rule_name),1)]),_:2},1032,["type"])]),_:2},1032,["content"]),l(k,{size:"small",type:"danger",link:"",onClick:b=>Et(a),style:{"margin-left":"8px"}},{default:t(()=>[l(o,null,{default:t(()=>[l(v(bl))]),_:1}),e[71]||(e[71]=i(" å–æ¶ˆè®¾ç½® ",-1))]),_:1},8,["onClick"])])):(u(),f("span",Wa,"æœªè®¾ç½®"))]),_:1}),l(z,{prop:"status",label:"çŠ¶æ€",width:"100",align:"center"},{default:t(({row:a})=>[l(h,{type:Bl(a.status),size:"small",effect:"light"},{default:t(()=>[i(y(El(a.status)),1)]),_:2},1032,["type"])]),_:1}),l(z,{prop:"view_count",label:"æµè§ˆé‡",width:"100",align:"center"},{default:t(({row:a})=>[n("div",Ga,[l(o,{class:"count-icon"},{default:t(()=>[l(v(hl))]),_:1}),n("span",null,y(a.view_count||0),1)])]),_:1}),l(z,{prop:"sale_count",label:"é”€é‡",width:"100",align:"center"},{default:t(({row:a})=>[n("div",Ha,[l(o,{class:"count-icon"},{default:t(()=>[l(v(ia))]),_:1}),n("span",null,y(a.sale_count||0),1)])]),_:1}),l(z,{prop:"created_at",label:"åˆ›å»ºæ—¶é—´",width:"180","show-overflow-tooltip":""},{default:t(({row:a})=>[n("div",Za,[l(o,{class:"time-icon"},{default:t(()=>[l(v(ua))]),_:1}),n("span",null,y(a.created_at),1)])]),_:1}),l(z,{label:"æ“ä½œ",width:"420",fixed:"right",align:"center"},{default:t(({row:a})=>[n("div",Qa,[l(k,{size:"small",type:"primary",link:"",onClick:b=>Ge(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(v(hl))]),_:1}),e[72]||(e[72]=i(" æŸ¥çœ‹ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"success",link:"",onClick:b=>nt(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(v(ra))]),_:1}),e[73]||(e[73]=i(" SKUç®¡ç† ",-1))]),_:1},8,["onClick"]),a.product_type==="original"?(u(),C(k,{key:0,size:"small",type:"info",link:"",onClick:b=>Ft(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(v(de))]),_:1}),e[74]||(e[74]=i(" å…³è”ä»¿å“ ",-1))]),_:1},8,["onClick"])):L("",!0),l(k,{size:"small",type:"warning",link:"",onClick:b=>Wl(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(v(Pl))]),_:1}),e[75]||(e[75]=i(" ç¼–è¾‘ ",-1))]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:b=>Gl(a)},{default:t(()=>[l(o,null,{default:t(()=>[l(v(qe))]),_:1}),e[76]||(e[76]=i(" åˆ é™¤ ",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[el,oe.value]]),n("div",Xa,[l(je,{"current-page":T.current,"onUpdate:currentPage":e[3]||(e[3]=a=>T.current=a),"page-size":T.size,"onUpdate:pageSize":e[4]||(e[4]=a=>T.size=a),"page-sizes":[10,20,50,100],total:T.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Zl,onCurrentChange:Ql},null,8,["current-page","page-size","total"])])]),_:1}),l(ve,{modelValue:O.value,"onUpdate:modelValue":e[20]||(e[20]=a=>O.value=a),title:Y.value,fullscreen:!0,"close-on-click-modal":!1,"destroy-on-close":"",class:"product-dialog"},{footer:t(()=>[n("div",us,[l(k,{onClick:e[19]||(e[19]=a=>O.value=!1)},{default:t(()=>[...e[114]||(e[114]=[i("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:Hl,loading:Q.value},{default:t(()=>[...e[115]||(e[115]=[i(" ç¡®å®š ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[l(ge,{model:d,rules:Il,ref_key:"formRef",ref:J,"label-width":"100px",class:"product-form"},{default:t(()=>[l(r,{label:"SPU ID"},{default:t(()=>[l(p,{modelValue:d.spu_id,"onUpdate:modelValue":e[5]||(e[5]=a=>d.spu_id=a),placeholder:"ä¿å­˜åŽç”Ÿæˆ",readonly:""},null,8,["modelValue"]),e[77]||(e[77]=n("div",{class:"form-tip"},"SPU IDç”±åŽç«¯è‡ªåŠ¨ç”Ÿæˆï¼Œåˆ›å»ºå•†å“åŽè‡ªåŠ¨æ˜¾ç¤º",-1))]),_:1}),l(r,{label:"å•†å“æ ‡é¢˜",prop:"title"},{default:t(()=>[l(p,{modelValue:d.title,"onUpdate:modelValue":e[6]||(e[6]=a=>d.title=a),placeholder:"è¯·è¾“å…¥å•†å“æ ‡é¢˜"},null,8,["modelValue"])]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"é”€å”®ä»·æ ¼",prop:"sell_price"},{default:t(()=>[l(A,{modelValue:d.sell_price,"onUpdate:modelValue":e[7]||(e[7]=a=>d.sell_price=a),precision:2,min:0,placeholder:"è¯·è¾“å…¥é”€å”®ä»·æ ¼",style:{width:"100%"},onChange:He},{append:t(()=>[...e[78]||(e[78]=[i("å…ƒ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"åŽŸä»·",prop:"origin_price"},{default:t(()=>[l(A,{modelValue:d.origin_price,"onUpdate:modelValue":e[8]||(e[8]=a=>d.origin_price=a),precision:2,min:0,placeholder:"è¯·è¾“å…¥åŽŸä»·",style:{width:"100%"},onChange:He},{append:t(()=>[...e[79]||(e[79]=[i("å…ƒ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"æŠ˜æ‰£(%)",prop:"discount"},{default:t(()=>[l(A,{modelValue:d.discount,"onUpdate:modelValue":e[9]||(e[9]=a=>d.discount=a),precision:0,min:0,max:100,placeholder:"è‡ªåŠ¨è®¡ç®—",style:{width:"100%"},onChange:Dt},{append:t(()=>[...e[80]||(e[80]=[i("%",-1)])]),_:1},8,["modelValue"]),e[81]||(e[81]=n("div",{class:"form-tip"},"è¾“å…¥é”€å”®ä»·å’ŒåŽŸä»·åŽè‡ªåŠ¨è®¡ç®—ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥æŠ˜æ‰£",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"çŠ¶æ€",prop:"status"},{default:t(()=>[l(P,{modelValue:d.status,"onUpdate:modelValue":e[10]||(e[10]=a=>d.status=a),style:{width:"100%"}},{default:t(()=>[l(c,{label:"ä¸Šæž¶",value:"active"},{default:t(()=>[l(h,{type:"success",size:"small"},{default:t(()=>[...e[82]||(e[82]=[i("ä¸Šæž¶",-1)])]),_:1})]),_:1}),l(c,{label:"ä¸‹æž¶",value:"inactive"},{default:t(()=>[l(h,{type:"danger",size:"small"},{default:t(()=>[...e[83]||(e[83]=[i("ä¸‹æž¶",-1)])]),_:1})]),_:1}),l(c,{label:"è‰ç¨¿",value:"draft"},{default:t(()=>[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[84]||(e[84]=[i("è‰ç¨¿",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"å•†å“ç±»åž‹",prop:"product_type"},{default:t(()=>[l(_l,{modelValue:d.product_type,"onUpdate:modelValue":e[11]||(e[11]=a=>d.product_type=a),onChange:ft},{default:t(()=>[l(Ce,{value:"original"},{default:t(()=>[l(h,{type:"success",size:"small"},{default:t(()=>[...e[85]||(e[85]=[i("æ­£å“",-1)])]),_:1}),e[86]||(e[86]=i(" æ­£å“å•†å“ ",-1))]),_:1}),l(Ce,{value:"fake"},{default:t(()=>[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[87]||(e[87]=[i("ä»¿å“",-1)])]),_:1}),e[88]||(e[88]=i(" ä»¿å“å•†å“ ",-1))]),_:1})]),_:1},8,["modelValue"]),e[89]||(e[89]=n("div",{class:"form-tip"},"æ­£å“ï¼šç”¨æˆ·é»˜è®¤çœ‹åˆ°çš„å•†å“ï¼›ä»¿å“ï¼šæ›¿ä»£å±•ç¤ºçš„å•†å“",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[d.product_type==="fake"?(u(),C(r,{key:0,label:"å…³è”æ­£å“",prop:"b_page_product_id"},{default:t(()=>[l(P,{modelValue:d.b_page_product_id,"onUpdate:modelValue":e[12]||(e[12]=a=>d.b_page_product_id=a),placeholder:"è¯·é€‰æ‹©å¯¹åº”çš„æ­£å“å•†å“",filterable:"",remote:"","remote-method":Mt,loading:we.value,style:{width:"100%"}},{default:t(()=>[(u(!0),f(I,null,j(Ke.value,a=>(u(),C(c,{key:a.id,label:`${a.title} - Â¥${a.sell_price}`,value:a.id},{default:t(()=>[n("div",Ya,[n("span",null,y(a.title),1),n("span",es,"Â¥"+y(a.sell_price),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e[90]||(e[90]=n("div",{class:"form-tip"},"é€‰æ‹©è¿™ä¸ªä»¿å“å¯¹åº”çš„æ­£å“å•†å“",-1))]),_:1})):L("",!0)]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"ç›®æ ‡å›½å®¶",prop:"country"},{default:t(()=>[l(P,{modelValue:d.country,"onUpdate:modelValue":e[13]||(e[13]=a=>d.country=a),placeholder:"è¯·é€‰æ‹©ç›®æ ‡å›½å®¶",style:{width:"100%"}},{default:t(()=>[(u(),f(I,null,j(Al,a=>l(c,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),e[91]||(e[91]=n("div",{class:"form-tip"},"é€‰æ‹©å•†å“æŠ•æ”¾çš„ç›®æ ‡å›½å®¶/åœ°åŒº",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"æ–—ç¯·è§„åˆ™",prop:"cloak_rule_id"},{default:t(()=>[l(P,{modelValue:d.cloak_rule_id,"onUpdate:modelValue":e[14]||(e[14]=a=>d.cloak_rule_id=a),placeholder:"è¯·é€‰æ‹©æ–—ç¯·è§„åˆ™",clearable:"",filterable:"",style:{width:"100%"},onChange:Rt,loading:pe.value},{default:t(()=>[(u(!0),f(I,null,j(R.value,a=>(u(),C(c,{key:a.id,label:`${a.name} (${ml(a.mode)})`,value:a.id},{default:t(()=>[n("div",ls,[n("span",null,y(a.name),1),l(h,{type:cl(a.mode),size:"small"},{default:t(()=>[i(y(ml(a.mode)),1)]),_:2},1032,["type"])])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e[92]||(e[92]=n("div",{class:"form-tip"},"é€‰æ‹©å•†å“ä½¿ç”¨çš„æ–—ç¯·è§„åˆ™ï¼ŒæŽ§åˆ¶ä¸åŒç”¨æˆ·çœ‹åˆ°çš„å†…å®¹",-1)),n("div",ts,"å½“å‰åŠ è½½äº† "+y(R.value.length)+" ä¸ªæ–—ç¯·è§„åˆ™",1)]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"å±•ç¤ºæ¨¡æ¿",prop:"template"},{default:t(()=>[l(P,{modelValue:d.template,"onUpdate:modelValue":e[15]||(e[15]=a=>d.template=a),placeholder:"è¯·é€‰æ‹©å±•ç¤ºæ¨¡æ¿",style:{width:"100%"}},{default:t(()=>[l(c,{label:"ç»å…¸æ¨¡æ¿ (Classic)",value:"classic"},{default:t(()=>[n("div",as,[l(h,{type:"info",size:"small"},{default:t(()=>[...e[93]||(e[93]=[i("Classic",-1)])]),_:1}),e[94]||(e[94]=n("span",null,"ç»å…¸æ¨¡æ¿ - å•é¡µè¡¨å•è®¾è®¡",-1))])]),_:1}),l(c,{label:"çŽ°ä»£æ¨¡æ¿ (Shopline)",value:"shopline"},{default:t(()=>[n("div",ss,[l(h,{type:"success",size:"small"},{default:t(()=>[...e[95]||(e[95]=[i("Shopline",-1)])]),_:1}),e[96]||(e[96]=n("span",null,"çŽ°ä»£æ¨¡æ¿ - åˆ†ç¦»å¼ç»“è´¦è®¾è®¡",-1))])]),_:1}),l(c,{label:"æ ‡å‡†æ¨¡æ¿ (Standard)",value:"standard"},{default:t(()=>[n("div",ns,[l(h,{type:"warning",size:"small"},{default:t(()=>[...e[97]||(e[97]=[i("Standard",-1)])]),_:1}),e[98]||(e[98]=n("span",null,"æ ‡å‡†æ¨¡æ¿ - æ¨¡å—åŒ–é«˜æ€§èƒ½è®¾è®¡",-1))])]),_:1})]),_:1},8,["modelValue"]),e[99]||(e[99]=n("div",{class:"form-tip"},[n("strong",null,"Classic:"),i(" ä¼ ç»Ÿå•é¡µè®¾è®¡ï¼Œå•†å“è¯¦æƒ…å’Œè¡¨å•åœ¨åŒä¸€é¡µ "),n("br"),n("strong",null,"Shopline:"),i(" çŽ°ä»£åŒ–è®¾è®¡ï¼Œå•†å“å±•ç¤ºå’Œç»“è´¦åˆ†ç¦»ï¼Œçº¯é»‘ç™½ç®€æ´é£Žæ ¼ "),n("br"),n("strong",null,"Standard:"),i(" ðŸ”¥ æ–°ç‰ˆæ ‡å‡†æ¨¡æ¿ï¼Œæ¨¡å—åŒ–æž¶æž„ï¼Œé«˜æ€§èƒ½ï¼Œæ˜“é€šè¿‡Googleå®¡æ ¸ ")],-1))]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"é¡µé¢ä¸»é¢˜é¢œè‰²",prop:"page_primary_color"},{default:t(()=>[n("div",os,[l(Nt,{modelValue:d.page_primary_color,"onUpdate:modelValue":e[16]||(e[16]=a=>d.page_primary_color=a),"show-alpha":"",predefine:Kl.value,size:"large"},null,8,["modelValue","predefine"]),l(p,{modelValue:d.page_primary_color,"onUpdate:modelValue":e[17]||(e[17]=a=>d.page_primary_color=a),placeholder:"#007d65",style:{flex:"1"}},{prepend:t(()=>[...e[100]||(e[100]=[i("HEX",-1)])]),_:1},8,["modelValue"]),l(Wt,{trigger:"click",onCommand:Jl},{dropdown:t(()=>[l(Jt,null,{default:t(()=>[l(ne,{command:"#007d65"},{default:t(()=>[...e[102]||(e[102]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#007d65","border-radius":"3px"}}),n("span",null,"æ£®æž—ç»¿ï¼ˆé»˜è®¤ï¼‰")],-1)])]),_:1}),l(ne,{command:"#3498db"},{default:t(()=>[...e[103]||(e[103]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#3498db","border-radius":"3px"}}),n("span",null,"æµ·æ´‹è“")],-1)])]),_:1}),l(ne,{command:"#e74c3c"},{default:t(()=>[...e[104]||(e[104]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#e74c3c","border-radius":"3px"}}),n("span",null,"æ—¥è½çº¢")],-1)])]),_:1}),l(ne,{command:"#f39c12"},{default:t(()=>[...e[105]||(e[105]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#f39c12","border-radius":"3px"}}),n("span",null,"æ™¨æ›¦æ©™")],-1)])]),_:1}),l(ne,{command:"#9b59b6"},{default:t(()=>[...e[106]||(e[106]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#9b59b6","border-radius":"3px"}}),n("span",null,"çš‡å®¶ç´«")],-1)])]),_:1}),l(ne,{command:"#e91e63"},{default:t(()=>[...e[107]||(e[107]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#e91e63","border-radius":"3px"}}),n("span",null,"ç”œèœœç²‰")],-1)])]),_:1}),l(ne,{command:"#1abc9c"},{default:t(()=>[...e[108]||(e[108]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#1abc9c","border-radius":"3px"}}),n("span",null,"çŽ°ä»£é’")],-1)])]),_:1}),l(ne,{command:"#3f51b5"},{default:t(()=>[...e[109]||(e[109]=[n("div",{style:{display:"flex","align-items":"center",gap:"8px"}},[n("span",{style:{display:"inline-block",width:"16px",height:"16px",background:"#3f51b5","border-radius":"3px"}}),n("span",null,"æ·±é‚ƒé›")],-1)])]),_:1})]),_:1})]),default:t(()=>[l(k,{type:"primary",plain:""},{default:t(()=>[e[101]||(e[101]=i(" é¢„è®¾ä¸»é¢˜ ",-1)),l(o,{class:"el-icon--right"},{default:t(()=>[l(Ot)]),_:1})]),_:1})]),_:1})]),e[110]||(e[110]=n("div",{class:"form-tip"},[i(" ðŸŽ¨ "),n("strong",null,"ä¸»é¢˜è‰²ï¼š"),i("ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆæ·±è‰²å’Œæµ…è‰²å˜ä½“ï¼Œåº”ç”¨äºŽæŒ‰é’®ã€é“¾æŽ¥ã€æ ‡ç­¾ç­‰æ‰€æœ‰UIå…ƒç´ "),n("br"),i(" ðŸ’¡ "),n("strong",null,"æç¤ºï¼š"),i("å¯ä»¥ä½¿ç”¨é¢œè‰²é€‰æ‹©å™¨ã€ç›´æŽ¥è¾“å…¥hexå€¼ï¼Œæˆ–ä»Žé¢„è®¾ä¸»é¢˜ä¸­å¿«é€Ÿé€‰æ‹© ")],-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"å¤´éƒ¨è·‘é©¬ç¯å†…å®¹",prop:"head_w_marquee"},{default:t(()=>[l(p,{modelValue:d.head_w_marquee,"onUpdate:modelValue":e[18]||(e[18]=a=>d.head_w_marquee=a),type:"textarea",rows:3,placeholder:"ç•™ç©ºåˆ™æ˜¾ç¤ºäº§å“æ ‡é¢˜",style:{width:"100%"}},null,8,["modelValue"]),e[111]||(e[111]=n("div",{class:"form-tip"},"è®¾ç½®å¤´éƒ¨è·‘é©¬ç¯æ˜¾ç¤ºå†…å®¹ï¼Œç•™ç©ºåˆ™æ˜¾ç¤ºäº§å“æ ‡é¢˜",-1))]),_:1})]),_:1})]),_:1}),l(r,{label:"å•†å“å›¾ç‰‡",prop:"image_urls"},{default:t(()=>[l(Gt,{class:"upload-demo",drag:"",action:ol.value,multiple:"","file-list":Me.value,"before-upload":Xl,"on-success":Yl,"on-remove":et,"on-error":lt,"list-type":"picture-card",accept:"image/*"},{default:t(()=>[l(o,{class:"el-icon--upload"},{default:t(()=>[l(v(wl))]),_:1}),e[112]||(e[112]=n("div",{class:"el-upload__text"},[i("å°†å›¾ç‰‡æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),n("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["action","file-list"])]),_:1}),l(r,{label:"å•†å“æè¿°",prop:"rich_text_content"},{default:t(()=>[n("div",{class:Ee(["wang-editor-wrapper",fe.value?"fullscreen":""])},[l(va,{value:d.rich_text_content||"",height:Fl.value,"editor-config":Tl.value,"onUpdate:value":at},null,8,["value","height","editor-config"]),n("div",is,[l(k,{size:"small",onClick:tt,title:"è°ƒæ•´ç¼–è¾‘å™¨å¤§å°"},{default:t(()=>[l(o,null,{default:t(()=>[fe.value?(u(),C(v(Vl),{key:0})):(u(),C(v(Sl),{key:1}))]),_:1}),i(" "+y(fe.value?"æ¢å¤":"å…¨å±ç¼–è¾‘"),1)]),_:1}),l(k,{size:"small",onClick:st,title:"æ¸…ç©ºå†…å®¹"},{default:t(()=>[l(o,null,{default:t(()=>[l(v(qe))]),_:1}),e[113]||(e[113]=i(" æ¸…ç©ºå†…å®¹ ",-1))]),_:1})])],2)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(ve,{modelValue:ee.value,"onUpdate:modelValue":e[21]||(e[21]=a=>ee.value=a),title:"SKUç®¡ç†",width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{default:t(()=>[n("div",rs,[n("div",ds,[n("div",ps,[e[119]||(e[119]=n("h3",null,"SKUåˆ—è¡¨",-1)),n("div",cs,[l(k,{type:"success",onClick:gt},{default:t(()=>[l(o,null,{default:t(()=>[l(v(da))]),_:1}),e[116]||(e[116]=i(" æ‰¹é‡ç”ŸæˆSKU ",-1))]),_:1}),l(k,{type:"primary",onClick:rt},{default:t(()=>[l(o,null,{default:t(()=>[l(v(de))]),_:1}),e[117]||(e[117]=i(" æ·»åŠ SKU ",-1))]),_:1}),ie.value.length>1?(u(),C(k,{key:0,type:"warning",onClick:bt},{default:t(()=>[l(o,null,{default:t(()=>[l(v(sl))]),_:1}),e[118]||(e[118]=i(" æŽ’åºSKU ",-1))]),_:1})):L("",!0)])]),al((u(),C(Ue,{data:ie.value,stripe:"",border:"",style:{width:"100%"}},{default:t(()=>[l(z,{label:"å›¾ç‰‡",width:"80",align:"center"},{default:t(({row:a})=>[a.main_image?(u(),C(H,{key:0,size:50,class:"sku-avatar"},{default:t(()=>[n("img",{src:a.main_image,alt:a.sku_name,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,ms)]),_:2},1024)):(u(),C(H,{key:1,size:50,class:"sku-avatar"},{default:t(()=>[l(o,null,{default:t(()=>[l(v(Be))]),_:1})]),_:1}))]),_:1}),l(z,{prop:"sku_code",label:"SKUç¼–ç ",width:"120"}),l(z,{prop:"sku_name",label:"SKUåç§°",width:"150"}),l(z,{label:"å±žæ€§ç»„åˆ","min-width":"200"},{default:t(({row:a})=>[n("div",_s,[(u(!0),f(I,null,j(a.attributes,b=>(u(),C(h,{key:b.attribute_name,size:"small",class:"attr-tag"},{default:t(()=>[i(y(b.display_name)+": "+y(b.display_value),1)]),_:2},1024))),128))])]),_:1}),l(z,{prop:"sell_price",label:"é”€å”®ä»·æ ¼",width:"100",align:"center"},{default:t(({row:a})=>[n("span",fs,"Â¥"+y(a.sell_price),1)]),_:1}),l(z,{prop:"discount_percent",label:"æŠ˜æ‰£",width:"80",align:"center"},{default:t(({row:a})=>[a.discount_percent&&a.discount_percent>0?(u(),C(h,{key:0,type:"success",size:"small"},{default:t(()=>[i(y(a.discount_percent)+"% ",1)]),_:2},1024)):(u(),f("span",gs,"--"))]),_:1}),l(z,{prop:"stock_quantity",label:"åº“å­˜",width:"80",align:"center"}),l(z,{prop:"status",label:"çŠ¶æ€",width:"100",align:"center"},{default:t(({row:a})=>[l(h,{type:ql(a.status),size:"small"},{default:t(()=>[i(y(Rl(a.status)),1)]),_:2},1032,["type"])]),_:1}),l(z,{label:"æ“ä½œ",width:"150",align:"center"},{default:t(({row:a})=>[l(k,{size:"small",type:"primary",link:"",onClick:b=>dt(a)},{default:t(()=>[...e[120]||(e[120]=[i("ç¼–è¾‘",-1)])]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:b=>pt(a)},{default:t(()=>[...e[121]||(e[121]=[i("åˆ é™¤",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[el,le.value]])])])]),_:1},8,["modelValue"]),l(ve,{modelValue:Se.value,"onUpdate:modelValue":e[26]||(e[26]=a=>Se.value=a),title:"SKUåˆ†å±‚æŽ’åº",width:"1200px",fullscreen:re.value,"close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[n("div",js,[l(k,{onClick:e[25]||(e[25]=a=>Se.value=!1)},{default:t(()=>[...e[124]||(e[124]=[i("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:zt,loading:Oe.value},{default:t(()=>[...e[125]||(e[125]=[i(" ä¿å­˜æŽ’åº ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[n("div",{class:Ee(["sku-sort-container",{fullscreen:re.value}])},[n("div",vs,[l(Ye,{title:"åˆ†å±‚æŽ’åºè¯´æ˜Ž",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:t(()=>[...e[122]||(e[122]=[n("div",null,[n("p",null,"â€¢ ç¬¬ä¸€å±‚ï¼šæŒ‰å±žæ€§ç±»åž‹æŽ’åºï¼ˆå¦‚ï¼šsizeã€colorï¼‰"),n("p",null,"â€¢ ç¬¬äºŒå±‚ï¼šæŒ‰å±žæ€§å€¼æŽ’åºï¼ˆå¦‚ï¼šsize1ã€size2ã€size3ï¼‰"),n("p",null,"â€¢ æ‹–æ‹½é¡¹ç›®å¯ä»¥è°ƒæ•´æ˜¾ç¤ºé¡ºåº")],-1)])]),_:1}),n("div",ys,[l(k,{type:"primary",icon:re.value?"ScaleToOriginal":"FullScreen",onClick:ht,circle:"",size:"small"},{default:t(()=>[l(o,null,{default:t(()=>[re.value?(u(),C(v(Vl),{key:0})):(u(),C(v(Sl),{key:1}))]),_:1})]),_:1},8,["icon"])])]),n("div",ks,[l(Ht,{modelValue:nl.value,"onUpdate:modelValue":e[24]||(e[24]=a=>nl.value=a),type:"card"},{default:t(()=>[l(fl,{label:"å±žæ€§ç±»åž‹æŽ’åº",name:"attribute"},{default:t(()=>[n("div",bs,[e[123]||(e[123]=n("div",{class:"section-title"},"æ‹–æ‹½è°ƒæ•´å±žæ€§ç±»åž‹çš„æ˜¾ç¤ºé¡ºåº",-1)),n("div",hs,[(u(!0),f(I,null,j(ae.value,(a,b)=>(u(),f("div",{key:a.name,class:"attribute-item",draggable:!0,onDragstart:D=>St(D,b),onDragover:e[22]||(e[22]=D=>rl(D)),onDrop:D=>xt(D,b)},[n("div",Vs,[n("div",Ss,[l(o,null,{default:t(()=>[l(v(sl))]),_:1})]),n("div",xs,[n("div",Us,y(a.name),1),n("div",Cs,y(a.count)+"ä¸ªSKU",1)]),n("div",zs,y(b+1),1)])],40,ws))),128))])])]),_:1}),(u(!0),f(I,null,j(ae.value,a=>(u(),C(fl,{key:a.name,label:`${a.name}æŽ’åº`,name:a.name},{default:t(()=>[n("div",$s,[n("div",Ds,y(a.name)+" å±žæ€§å€¼æŽ’åº",1),n("div",Ps,[(u(!0),f(I,null,j(Vt(a.name),(b,D)=>(u(),f("div",{key:`${a.name}-${b.value}`,class:"value-item",draggable:!0,onDragstart:ze=>Ut(ze,a.name,D),onDragover:e[23]||(e[23]=ze=>rl(ze)),onDrop:ze=>Ct(ze,a.name,D)},[n("div",Ks,[n("div",As,[l(o,null,{default:t(()=>[l(v(sl))]),_:1})]),n("div",Fs,[n("div",Ts,y(b.value),1),n("div",Is,y(b.count)+"ä¸ªSKU",1)]),n("div",Ls,y(D+1),1)])],40,Ms))),128))])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])],2)]),_:1},8,["modelValue","fullscreen"]),l(ve,{modelValue:Ve.value,"onUpdate:modelValue":e[34]||(e[34]=a=>Ve.value=a),title:"æ‰¹é‡ç”ŸæˆSKU",width:"900px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[n("div",Ws,[l(k,{onClick:e[33]||(e[33]=a=>Ve.value=!1)},{default:t(()=>[...e[133]||(e[133]=[i("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:kt,loading:Ne.value},{default:t(()=>[i(" ç”Ÿæˆ "+y(N.value.length)+" ä¸ªSKU ",1)]),_:1},8,["loading"])])]),default:t(()=>[n("div",Bs,[l(Ye,{title:"æ‰¹é‡ç”Ÿæˆè¯´æ˜Ž",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:t(()=>[...e[126]||(e[126]=[n("div",null,[n("p",null,"â€¢ å¯ä»¥ä¸€æ¬¡æ€§ä¸ºå•†å“ç”Ÿæˆå¤šä¸ªä¸åŒè§„æ ¼çš„SKU"),n("p",null,"â€¢ ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºæ‰€æœ‰è§„æ ¼ç»„åˆçš„SKU"),n("p",null,"â€¢ è§„æ ¼å€¼è¾“å…¥ï¼šæ¯è¡Œè¾“å…¥ä¸€ä¸ªå€¼ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«"),n("p",null,"â€¢ ç¤ºä¾‹ï¼šé¢œè‰²(çº¢ã€è“) Ã— å°ºå¯¸(Mã€L) = 4ä¸ªSKU")],-1)])]),_:1}),l(ge,{model:V,"label-width":"120px"},{default:t(()=>[l(se,{class:"form-card",shadow:"never"},{header:t(()=>[...e[127]||(e[127]=[n("span",{style:{"font-weight":"600"}},"åŸºç¡€ä¿¡æ¯",-1)])]),default:t(()=>[l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"é”€å”®ä»·æ ¼",required:""},{default:t(()=>[l(A,{modelValue:V.sell_price,"onUpdate:modelValue":e[27]||(e[27]=a=>V.sell_price=a),min:0,precision:2,style:{width:"100%"},onChange:il},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"åŽŸä»·"},{default:t(()=>[l(A,{modelValue:V.origin_price,"onUpdate:modelValue":e[28]||(e[28]=a=>V.origin_price=a),min:0,precision:2,style:{width:"100%"},onChange:il},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"æŠ˜æ‰£(%)",prop:"discount_percent"},{default:t(()=>[l(A,{modelValue:V.discount_percent,"onUpdate:modelValue":e[29]||(e[29]=a=>V.discount_percent=a),min:0,max:100,precision:0,style:{width:"100%"},disabled:""},{append:t(()=>[...e[128]||(e[128]=[i("%",-1)])]),_:1},8,["modelValue"]),e[129]||(e[129]=n("div",{class:"form-tip"},"æ ¹æ®é”€å”®ä»·å’ŒåŽŸä»·è‡ªåŠ¨è®¡ç®—",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"æˆæœ¬ä»·"},{default:t(()=>[l(A,{modelValue:V.cost_price,"onUpdate:modelValue":e[30]||(e[30]=a=>V.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"åº“å­˜æ•°é‡",required:""},{default:t(()=>[l(A,{modelValue:V.stock_quantity,"onUpdate:modelValue":e[31]||(e[31]=a=>V.stock_quantity=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"æˆæœ¬ä»·"},{default:t(()=>[l(A,{modelValue:V.cost_price,"onUpdate:modelValue":e[32]||(e[32]=a=>V.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(se,{class:"form-card",shadow:"never",style:{"margin-top":"20px"}},{header:t(()=>[n("div",Es,[e[131]||(e[131]=n("span",{style:{"font-weight":"600"}},"è§„æ ¼é…ç½®",-1)),l(k,{type:"primary",size:"small",onClick:vt},{default:t(()=>[l(o,null,{default:t(()=>[l(v(de))]),_:1}),e[130]||(e[130]=i(" æ·»åŠ è§„æ ¼ ",-1))]),_:1})])]),default:t(()=>[(u(!0),f(I,null,j(V.specs,(a,b)=>(u(),f("div",{key:b,class:"batch-spec-item"},[l(F,{gutter:10,style:{"margin-bottom":"10px"}},{default:t(()=>[l(x,{span:6},{default:t(()=>[l(p,{modelValue:a.name,"onUpdate:modelValue":D=>a.name=D,placeholder:"è§„æ ¼åç§°ï¼Œå¦‚ï¼šé¢œè‰²"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(x,{span:14},{default:t(()=>[l(p,{modelValue:a.values,"onUpdate:modelValue":D=>a.values=D,type:"textarea",rows:3,placeholder:`æ¯è¡Œè¾“å…¥ä¸€ä¸ªè§„æ ¼å€¼ï¼Œä¾‹å¦‚ï¼š
çº¢è‰²
è“è‰²
ç»¿è‰²`,style:{resize:"vertical"}},null,8,["modelValue","onUpdate:modelValue"]),e[132]||(e[132]=n("div",{class:"form-tip"},"æ¯è¡Œè¾“å…¥ä¸€ä¸ªè§„æ ¼å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«",-1))]),_:2},1024),l(x,{span:4},{default:t(()=>[l(k,{type:"danger",size:"small",onClick:D=>yt(b)},{default:t(()=>[l(o,null,{default:t(()=>[l(v(qe))]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),N.value.length>0?(u(),f("div",qs,[l(gl,{"content-position":"left"},{default:t(()=>[i("é¢„è§ˆç”Ÿæˆçš„SKU ("+y(N.value.length)+"ä¸ª)",1)]),_:1}),n("div",Rs,[(u(!0),f(I,null,j(N.value,(a,b)=>(u(),f("div",{key:b,class:"preview-sku-item"},[n("div",Ns,[n("div",Os,y(a.sku_name),1),n("div",Js,[(u(!0),f(I,null,j(a.attributes,D=>(u(),C(h,{key:D.name,size:"small",class:"spec-tag"},{default:t(()=>[i(y(D.name)+": "+y(D.value),1)]),_:2},1024))),128))])])]))),128))])])):L("",!0)]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"]),l(ve,{modelValue:q.value,"onUpdate:modelValue":e[50]||(e[50]=a=>q.value=a),title:ke.value,width:"800px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[n("div",un,[l(k,{onClick:e[49]||(e[49]=a=>q.value=!1)},{default:t(()=>[...e[146]||(e[146]=[i("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:mt,loading:be.value},{default:t(()=>[...e[147]||(e[147]=[i("ç¡®å®š",-1)])]),_:1},8,["loading"])])]),default:t(()=>[l(ge,{model:_,rules:Ll,ref_key:"skuFormRef",ref:he,"label-width":"100px"},{default:t(()=>[l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"SKUç¼–ç ",prop:"sku_code"},{default:t(()=>[l(p,{modelValue:_.sku_code,"onUpdate:modelValue":e[35]||(e[35]=a=>_.sku_code=a),placeholder:"è‡ªåŠ¨ç”Ÿæˆ"},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"SKUåç§°",prop:"sku_name"},{default:t(()=>[l(p,{modelValue:_.sku_name,"onUpdate:modelValue":e[36]||(e[36]=a=>_.sku_name=a),placeholder:"è¯·è¾“å…¥SKUåç§°"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"é”€å”®ä»·æ ¼",prop:"sell_price"},{default:t(()=>[l(A,{modelValue:_.sell_price,"onUpdate:modelValue":e[37]||(e[37]=a=>_.sell_price=a),min:0,precision:2,style:{width:"100%"},onChange:dl},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"åŽŸä»·",prop:"origin_price"},{default:t(()=>[l(A,{modelValue:_.origin_price,"onUpdate:modelValue":e[38]||(e[38]=a=>_.origin_price=a),min:0,precision:2,style:{width:"100%"},onChange:dl},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"æŠ˜æ‰£(%)",prop:"discount_percent"},{default:t(()=>[l(A,{modelValue:_.discount_percent,"onUpdate:modelValue":e[39]||(e[39]=a=>_.discount_percent=a),min:0,max:100,precision:0,style:{width:"100%"},onChange:Pt},{append:t(()=>[...e[134]||(e[134]=[i("%",-1)])]),_:1},8,["modelValue"]),e[135]||(e[135]=n("div",{class:"form-tip"},"è¾“å…¥é”€å”®ä»·å’ŒåŽŸä»·åŽè‡ªåŠ¨è®¡ç®—ï¼Œæˆ–æ‰‹åŠ¨è¾“å…¥æŠ˜æ‰£",-1))]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"æˆæœ¬ä»·",prop:"cost_price"},{default:t(()=>[l(A,{modelValue:_.cost_price,"onUpdate:modelValue":e[40]||(e[40]=a=>_.cost_price=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(F,{gutter:20},{default:t(()=>[l(x,{span:12},{default:t(()=>[l(r,{label:"åº“å­˜æ•°é‡",prop:"stock_quantity"},{default:t(()=>[l(A,{modelValue:_.stock_quantity,"onUpdate:modelValue":e[41]||(e[41]=a=>_.stock_quantity=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{span:12},{default:t(()=>[l(r,{label:"é¢„è­¦åº“å­˜",prop:"warning_stock"},{default:t(()=>[l(A,{modelValue:_.warning_stock,"onUpdate:modelValue":e[42]||(e[42]=a=>_.warning_stock=a),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{label:"SKUå›¾ç‰‡",prop:"main_image"},{default:t(()=>[l(Dl,{"image-url":_.main_image,"onUpdate:imageUrl":e[43]||(e[43]=a=>_.main_image=a),"file-size":2,"file-type":["image/jpg","image/jpeg","image/png","image/gif","image/webp"],drag:!0,width:"120px",height:"120px"},null,8,["image-url"])]),_:1}),l(r,{label:"SKUè§„æ ¼",prop:"attributes"},{default:t(()=>[n("div",Gs,[l(Ye,{title:"SKUè§„æ ¼è®¾ç½®è¯´æ˜Ž",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"16px"}},{default:t(()=>[...e[136]||(e[136]=[n("div",null,[n("p",null,[i("â€¢ "),n("strong",null,"æ¯ä¸ªSKUä»£è¡¨ä¸€ä¸ªå…·ä½“çš„å•†å“è§„æ ¼ç»„åˆ")]),n("p",null,"â€¢ ä¸€ä¸ªSKUçš„åŒä¸€å±žæ€§åªèƒ½è®¾ç½®ä¸€ä¸ªå€¼ï¼ˆå¦‚ï¼šå°ºå¯¸åªèƒ½æ˜¯Mæˆ–Lï¼Œä¸èƒ½åŒæ—¶æ˜¯ä¸¤ç§ï¼‰"),n("p",null,"â€¢ å¦‚éœ€ä¸åŒè§„æ ¼ï¼Œè¯·åˆ›å»ºå¤šä¸ªSKU"),n("p",null,"â€¢ ç¤ºä¾‹ï¼šçº¢è‰²Mç ä¸ºä¸€ä¸ªSKUï¼Œçº¢è‰²Lç ä¸ºå¦ä¸€ä¸ªSKU"),n("p",null,'â€¢ æç¤ºï¼šä½¿ç”¨"æ·»åŠ SKU"æŒ‰é’®ä¸ºæ¯ä¸ªè§„æ ¼ç»„åˆåˆ›å»ºç‹¬ç«‹çš„SKU')],-1)])]),_:1}),n("div",Hs,[l(F,{gutter:10},{default:t(()=>[l(x,{span:8},{default:t(()=>[l(p,{modelValue:W.value,"onUpdate:modelValue":e[44]||(e[44]=a=>W.value=a),placeholder:"è§„æ ¼åç§°ï¼Œå¦‚ï¼šå°ºå¯¸",maxlength:20,"show-word-limit":""},null,8,["modelValue"])]),_:1}),l(x,{span:12},{default:t(()=>[l(p,{modelValue:S.value,"onUpdate:modelValue":e[45]||(e[45]=a=>S.value=a),placeholder:"è§„æ ¼å€¼ï¼Œå¦‚ï¼šM",maxlength:200,"show-word-limit":""},null,8,["modelValue"])]),_:1}),l(x,{span:4},{default:t(()=>[l(k,{type:"primary",onClick:ot,disabled:!W.value||!S.value},{default:t(()=>[l(o,null,{default:t(()=>[l(v(de))]),_:1}),e[137]||(e[137]=i(" æ·»åŠ  ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1}),e[138]||(e[138]=n("div",{class:"form-tip",style:{"margin-top":"8px",color:"#909399","font-size":"12px"}}," æç¤ºï¼šæ¯ä¸ªSKUåªèƒ½è®¾ç½®ä¸€ä¸ªå±žæ€§å€¼ï¼Œå¦‚éœ€ä¸åŒè§„æ ¼è¯·åˆ›å»ºå¤šä¸ªSKU ",-1))]),U.value.length>0?(u(),f("div",Zs,[l(gl,{"content-position":"left"},{default:t(()=>[...e[139]||(e[139]=[i("å·²æ·»åŠ çš„è§„æ ¼",-1)])]),_:1}),n("div",Qs,[(u(!0),f(I,null,j(U.value,(a,b)=>(u(),f("div",{key:b,class:"spec-item"},[n("div",Xs,[n("span",Ys,y(a.name),1),l(h,{type:"primary",size:"small"},{default:t(()=>[i(y(a.value),1)]),_:2},1024)]),n("div",en,[l(k,{size:"small",type:"primary",link:"",onClick:D=>ut(b),icon:"Edit"},{default:t(()=>[...e[140]||(e[140]=[i(" ç¼–è¾‘ ",-1)])]),_:1},8,["onClick"]),l(k,{size:"small",type:"danger",link:"",onClick:D=>it(b),icon:"Delete"},{default:t(()=>[...e[141]||(e[141]=[i(" åˆ é™¤ ",-1)])]),_:1},8,["onClick"])])]))),128))])])):L("",!0)])]),_:1}),l(r,{label:"ä¸»å›¾è®¾ç½®",prop:"main_image"},{default:t(()=>[n("div",ln,[n("div",tn,[l(_l,{modelValue:B.value,"onUpdate:modelValue":e[46]||(e[46]=a=>B.value=a),onChange:_t},{default:t(()=>[l(Ce,{value:"url"},{default:t(()=>[l(o,null,{default:t(()=>[l(v(xl))]),_:1}),e[142]||(e[142]=i(" URLè¾“å…¥ ",-1))]),_:1}),l(Ce,{value:"upload"},{default:t(()=>[l(o,null,{default:t(()=>[l(v(wl))]),_:1}),e[143]||(e[143]=i(" æ–‡ä»¶ä¸Šä¼  ",-1))]),_:1})]),_:1},8,["modelValue"])]),B.value==="url"?(u(),f("div",an,[l(p,{modelValue:_.main_image,"onUpdate:modelValue":e[47]||(e[47]=a=>_.main_image=a),placeholder:"è¯·è¾“å…¥å›¾ç‰‡URLåœ°å€",clearable:""},{prepend:t(()=>[l(o,null,{default:t(()=>[l(v(xl))]),_:1})]),_:1},8,["modelValue"]),_.main_image?(u(),f("div",sn,[l(Zt,{src:_.main_image,fit:"cover",style:{width:"80px",height:"80px","border-radius":"4px"},"preview-src-list":[_.main_image],"preview-teleported":""},{error:t(()=>[n("div",nn,[l(o,null,{default:t(()=>[l(v(pa))]),_:1}),e[144]||(e[144]=n("span",null,"åŠ è½½å¤±è´¥",-1))])]),_:1},8,["src","preview-src-list"])])):L("",!0)])):L("",!0),B.value==="upload"?(u(),f("div",on,[l(Dl,{"image-url":_.main_image,"onUpdate:imageUrl":e[48]||(e[48]=a=>_.main_image=a),height:"120px",width:"120px","file-size":2,"file-type":["image/jpeg","image/png","image/gif","image/webp"]},{tip:t(()=>[...e[145]||(e[145]=[n("div",{class:"upload-tip"},"æ”¯æŒ JPGã€PNGã€GIFã€WebP æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 2MB",-1)])]),_:1},8,["image-url"])])):L("",!0)])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(ve,{modelValue:ce.value,"onUpdate:modelValue":e[56]||(e[56]=a=>ce.value=a),title:"é€‰æ‹©å…³è”ä»¿å“",width:"1000px","close-on-click-modal":!1,"destroy-on-close":""},{footer:t(()=>[n("div",Un,[l(k,{onClick:e[55]||(e[55]=a=>ce.value=!1)},{default:t(()=>[...e[153]||(e[153]=[i("å–æ¶ˆ",-1)])]),_:1}),l(k,{type:"primary",onClick:jt,disabled:!te.value},{default:t(()=>[...e[154]||(e[154]=[i(" ç¡®å®šå…³è” ",-1)])]),_:1},8,["disabled"])])]),default:t(()=>[n("div",rn,[l(se,{class:"current-product-card",shadow:"never"},{header:t(()=>[...e[148]||(e[148]=[n("span",{style:{"font-weight":"600",color:"#409eff"}},"å½“å‰æ­£å“å•†å“",-1)])]),default:t(()=>[$.value?(u(),f("div",dn,[$.value.image_urls&&$.value.image_urls[0]?(u(),C(H,{key:0,size:60},{default:t(()=>[n("img",{src:$.value.image_urls[0],alt:$.value.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,pn)]),_:1})):(u(),C(H,{key:1,size:60},{default:t(()=>[l(o,null,{default:t(()=>[l(v(Be))]),_:1})]),_:1})),n("div",cn,[n("div",mn,y($.value.title),1),n("div",_n,"Â¥"+y($.value.sell_price),1),l(h,{type:"success",size:"small"},{default:t(()=>[...e[149]||(e[149]=[i("æ­£å“",-1)])]),_:1})])])):L("",!0)]),_:1}),l(se,{class:"fake-selection-card",shadow:"never"},{header:t(()=>[n("div",fn,[e[151]||(e[151]=n("span",{style:{"font-weight":"600"}},"é€‰æ‹©è¦å…³è”çš„ä»¿å“",-1)),l(k,{type:"primary",size:"small",onClick:qt},{default:t(()=>[l(o,null,{default:t(()=>[l(v(de))]),_:1}),e[150]||(e[150]=i(" åˆ›å»ºæ–°ä»¿å“ ",-1))]),_:1})])]),default:t(()=>[n("div",gn,[l(p,{modelValue:Te.value,"onUpdate:modelValue":e[51]||(e[51]=a=>Te.value=a),placeholder:"æœç´¢ä»¿å“å•†å“...",clearable:"",onInput:Tt,style:{width:"300px"}},{prefix:t(()=>[l(o,null,{default:t(()=>[l(v(tl))]),_:1})]),_:1},8,["modelValue"])]),al((u(),f("div",vn,[(u(!0),f(I,null,j(Ae.value,a=>(u(),f("div",{key:a.id,class:Ee(["fake-product-card",{active:te.value===a.id}]),onClick:b=>te.value=a.id},[a.image_urls&&a.image_urls[0]?(u(),C(H,{key:0,size:28},{default:t(()=>[n("img",{src:a.image_urls[0],alt:a.title,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,kn)]),_:2},1024)):(u(),C(H,{key:1,size:28},{default:t(()=>[l(o,null,{default:t(()=>[l(v(Be))]),_:1})]),_:1})),n("div",bn,[n("div",hn,y(a.title),1),n("div",wn,"Â¥"+y(a.sell_price),1),l(h,{type:"warning",size:"small",style:{padding:"1px 4px","font-size":"10px"}},{default:t(()=>[...e[152]||(e[152]=[i("ä»¿å“",-1)])]),_:1})]),n("div",Vn,[l(Ce,{value:a.id,modelValue:te.value,"onUpdate:modelValue":e[52]||(e[52]=b=>te.value=b)},null,8,["value","modelValue"])])],10,yn))),128)),!Fe.value&&Ae.value.length===0?(u(),f("div",Sn,[l(Qt,{description:"æš‚æ— å¯å…³è”çš„ä»¿å“å•†å“"})])):L("",!0)])),[[el,Fe.value]]),Ae.value.length>0?(u(),f("div",xn,[l(je,{"current-page":E.current,"onUpdate:currentPage":e[53]||(e[53]=a=>E.current=a),"page-size":E.size,"onUpdate:pageSize":e[54]||(e[54]=a=>E.size=a),"page-sizes":[12,24,48],total:E.total,layout:"total, sizes, prev, pager, next",onSizeChange:It,onCurrentChange:Lt,small:""},null,8,["current-page","page-size","total"])])):L("",!0)]),_:1})])]),_:1},8,["modelValue"])])}}}),Fn=Ml(zn,[["__scopeId","data-v-cb29a1af"]]);export{Fn as default};
