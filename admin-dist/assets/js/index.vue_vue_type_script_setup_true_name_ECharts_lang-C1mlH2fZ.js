import{Z as G,g as Re,e as ke,i as Ae,c as Ee,a as $e,n as Be,m as je,A as We,b as Ye,M as F,d as de,f as N,h as ve,j as Ge,k as Ue,l as qe,o as Ve,p as Fe,q as Ne,r as He,s as Ze,t as Je,u as Xe,v as Ke,w as Qe,x as ea,y as he,z as aa,B as ta,C as ra,D as ia,E as sa,F as na,G as la,H as oa,I as ua,J as fe,K as ge,L as me,N as ca,O as H,P as da,Q as va,R as ha,S as fa,T as ga,U as ma,V as pa,W as Z,X as ya,Y as ba,_ as Sa,$ as wa,a0 as Pa,a1 as Ma,a2 as pe,a3 as Ca,a4 as Ia,a5 as ye,a6 as xa,a7 as J,a8 as _a,a9 as Ta,aa as La,ab as Y,ac as za,ad as Da,ae as Oa,af as Ra,ag as ka,ah as Aa,ai as Ea,aj as $a,ak as Ba,al as ja,am as Wa,an as Ya,ao as Ga,ap as Ua,aq as qa,ar as Va,as as Fa,at as Na,au as Ha,av as Za,aw as Ja,ax as Xa,ay as Ka,az as Qa,aA as et,aB as X,aC as K,aD as Q,aE as ee,aF as at,aG as be,aH as tt,aI as rt,aJ as it,aK as st,aL as nt,aM as lt,aN as ot,aO as ut,aP as ct,aQ as dt,aR as vt,aS as ht,aT as ft,aU as gt,aV as mt,aW as pt,aX as ne,aY as yt,aZ as bt,a_ as St,a$ as wt,b0 as Pt,b1 as Mt,b2 as Ct,b3 as It,b4 as xt,b5 as _t,b6 as Tt,b7 as Lt,b8 as zt,b9 as Dt,ba as Ot,bb as Rt,bc as kt,bd as U,be as At,bf as Et,bg as $t,bh as Bt,bi as Se,bj as we,bk as Pe,bl as jt,bm as Wt,bn as Yt,bo as Gt,bp as Ut,bq as qt,br as Vt,bs as Ft,bt as Nt,bu as Ht,bv as Zt,bw as Jt,bx as Xt,by as Kt,bz as Qt,bA as er,bB as ar,bC as tr}from"./installCanvasRenderer-Bf4uGEF_.js";import{d as Me,s as rr,h as le,a5 as oe,C as ir,al as sr,Z as nr,M as lr,am as or,$ as ur,c as cr,o as dr,z as vr,an as hr}from"./index-Dt7Dw0Fe.js";import{u as fr}from"./index-CDP8_e04.js";function gr(e,a,r,c,d,n,m,_){var l=new G({style:{text:e,font:a,align:r,verticalAlign:c,padding:d,rich:n,overflow:m?"truncate":null,lineHeight:_}});return l.getBoundingRect()}function mr(e){return Ee(null,e)}var pr={isDimensionStacked:Ae,enableDataStack:ke,getStackedDimension:Re};function yr(e,a){var r=a;a instanceof F||(r=new F(a));var c=$e(r);return c.setExtent(e[0],e[1]),Be(c,r),c}function br(e){je(e,We)}function Ce(e,a){return a=a||{},Ye(e,null,null,a.state!=="normal")}const Sr=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:de,createList:mr,createScale:yr,createSymbol:N,createTextStyle:Ce,dataStack:pr,enableHoverEmphasis:ve,getECData:Ge,getLayoutRect:Ue,mixinAxisModelCommonMethods:br},Symbol.toStringTag,{value:"Module"})),wr=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:qe,asc:Ve,getPercentWithPrecision:Fe,getPixelPrecision:Ne,getPrecision:He,getPrecisionSafe:Ze,isNumeric:Je,isRadianAroundZero:Xe,linearMap:Ke,nice:Qe,numericToNumber:ea,parseDate:he,quantile:aa,quantity:ta,quantityExponent:ra,reformIntervals:ia,remRadian:sa,round:na},Symbol.toStringTag,{value:"Module"})),Pr=Object.freeze(Object.defineProperty({__proto__:null,format:la,parse:he},Symbol.toStringTag,{value:"Module"})),Mr=Object.freeze(Object.defineProperty({__proto__:null,Arc:oa,BezierCurve:ua,BoundingRect:fe,Circle:ge,CompoundPath:me,Ellipse:ca,Group:H,Image:da,IncrementalDisplayable:va,Line:ha,LinearGradient:fa,Polygon:ga,Polyline:ma,RadialGradient:pa,Rect:Z,Ring:ya,Sector:ba,Text:G,clipPointsByRect:Sa,clipRectByRect:wa,createIcon:Pa,extendPath:Ma,extendShape:pe,getShapeClass:Ca,getTransform:Ia,initProps:ye,makeImage:xa,makePath:J,mergePath:_a,registerShape:Ta,resizePath:La,updateProps:Y},Symbol.toStringTag,{value:"Module"})),Cr=Object.freeze(Object.defineProperty({__proto__:null,addCommas:za,capitalFirst:Da,encodeHTML:Oa,formatTime:Ra,formatTpl:ka,getTextRect:gr,getTooltipMarker:Aa,normalizeCssArray:Ea,toCamelCase:$a,truncateText:Ba},Symbol.toStringTag,{value:"Module"})),Ir=Object.freeze(Object.defineProperty({__proto__:null,bind:ja,clone:Wa,curry:Ya,defaults:Ga,each:Ua,extend:qa,filter:Va,indexOf:Fa,inherits:Na,isArray:Ha,isFunction:Za,isObject:Ja,isString:Xa,map:Ka,merge:Qa,reduce:et},Symbol.toStringTag,{value:"Module"}));function xr(e){var a=X.extend(e);return X.registerClass(a),a}function _r(e){var a=K.extend(e);return K.registerClass(a),a}function Ie(e){var a=Q.extend(e);return Q.registerClass(a),a}function xe(e){var a=ee.extend(e);return ee.registerClass(a),a}const ue=Object.freeze(Object.defineProperty({__proto__:null,Axis:at,ChartView:ee,ComponentModel:X,ComponentView:K,List:be,Model:F,PRIORITY:tt,SeriesModel:Q,color:rt,connect:it,dataTool:st,dependencies:nt,disConnect:lt,disconnect:ot,dispose:ut,env:ct,extendChartView:xe,extendComponentModel:xr,extendComponentView:_r,extendSeriesModel:Ie,format:Cr,getCoordinateSystemDimensions:dt,getInstanceByDom:vt,getInstanceById:ht,getMap:ft,graphic:Mr,helper:Sr,init:gt,innerDrawElementOnCanvas:mt,matrix:pt,number:wr,parseGeoJSON:ne,parseGeoJson:ne,registerAction:yt,registerCoordinateSystem:bt,registerLayout:St,registerLoading:wt,registerLocale:Pt,registerMap:Mt,registerPostInit:Ct,registerPostUpdate:It,registerPreprocessor:xt,registerProcessor:_t,registerTheme:Tt,registerTransform:Lt,registerUpdateLifecycle:zt,registerVisual:Dt,setCanvasCreator:Ot,setPlatformAPI:Rt,throttle:kt,time:Pr,use:U,util:Ir,vector:At,version:Et,zrUtil:$t,zrender:Bt},Symbol.toStringTag,{value:"Module"}));U([Se,we]);U(Pe);Ie({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,a){var r=de(e.data,{coordDimensions:["value"]}),c=new be(r,this);return c.initData(e.data),c},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});const Tr=pe({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,a){a.radiusY==null&&(a.radiusY=a.radius);for(var r=Math.max(Math.ceil(2*a.radius/a.waveLength*4)*2,8);a.phase<-Math.PI*2;)a.phase+=Math.PI*2;for(;a.phase>0;)a.phase-=Math.PI*2;var c=a.phase/Math.PI/2*a.waveLength,d=a.cx-a.radius+c-a.radius*2;e.moveTo(d,a.waterLevel);for(var n=0,m=0;m<r;++m){var _=m%4,l=Lr(m*a.waveLength/4,_,a.waveLength,a.amplitude);e.bezierCurveTo(l[0][0]+d,-l[0][1]+a.waterLevel,l[1][0]+d,-l[1][1]+a.waterLevel,l[2][0]+d,-l[2][1]+a.waterLevel),m===r-1&&(n=l[2][0])}a.inverse?(e.lineTo(n+d,a.cy-a.radiusY),e.lineTo(d,a.cy-a.radiusY),e.lineTo(d,a.waterLevel)):(e.lineTo(n+d,a.cy+a.radiusY),e.lineTo(d,a.cy+a.radiusY),e.lineTo(d,a.waterLevel)),e.closePath()}});function Lr(e,a,r,c){return a===0?[[e+1/2*r/Math.PI/2,c/2],[e+1/2*r/Math.PI,c],[e+r/4,c]]:a===1?[[e+1/2*r/Math.PI/2*(Math.PI-2),c],[e+1/2*r/Math.PI/2*(Math.PI-1),c/2],[e+r/4,0]]:a===2?[[e+1/2*r/Math.PI/2,-c/2],[e+1/2*r/Math.PI,-c],[e+r/4,-c]]:[[e+1/2*r/Math.PI/2*(Math.PI-2),-c],[e+1/2*r/Math.PI/2*(Math.PI-1),-c/2],[e+r/4,0]]}var x=jt;function ce(e){return e&&e.indexOf("path://")===0}xe({type:"liquidFill",render:function(e,a,r){var c=this,d=this.group;d.removeAll();var n=e.getData(),m=n.getItemModel(0),_=m.get("center"),l=m.get("radius"),T=r.getWidth(),S=r.getHeight(),O=Math.min(T,S),D=0,L=0,j=e.get("outline.show");j&&(D=e.get("outline.borderDistance"),L=x(e.get("outline.itemStyle.borderWidth"),O));var I=x(_[0],T),b=x(_[1],S),z,R,k,P=!1,w=e.get("shape");if(w==="container"?(P=!0,z=[T/2,S/2],R=[z[0]-L/2,z[1]-L/2],k=[x(D,T),x(D,S)],l=[Math.max(R[0]-k[0],0),Math.max(R[1]-k[1],0)]):(z=x(l,O)/2,R=z-L/2,k=x(D,O),l=Math.max(R-k,0)),j){var _e=ae();_e.style.lineWidth=L,d.add(ae())}var Te=P?0:I-l,Le=P?0:b-l,A=null;d.add(ze());var q=this._data,V=[];n.diff(q).add(function(t){var i=te(t,!1),s=i.shape.waterLevel;i.shape.waterLevel=P?S/2:l,ye(i,{shape:{waterLevel:s}},e),i.z2=2,re(t,i,null),d.add(i),n.setItemGraphicEl(t,i),V.push(i)}).update(function(t,i){for(var s=q.getItemGraphicEl(i),v=te(t,!1,s),u={},o=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],f=0;f<o.length;++f){var h=o[f];v.shape.hasOwnProperty(h)&&(u[h]=v.shape[h])}for(var p={},g=["fill","opacity","shadowBlur","shadowColor"],f=0;f<g.length;++f){var h=g[f];v.style.hasOwnProperty(h)&&(p[h]=v.style[h])}P&&(u.radiusY=S/2),Y(s,{shape:u,x:v.x,y:v.y},e),e.isUniversalTransitionEnabled&&e.isUniversalTransitionEnabled()?Y(s,{style:p},e):s.useStyle(p);var y=s.getClipPath(),M=v.getClipPath();s.setClipPath(v.getClipPath()),s.shape.inverse=v.inverse,y&&M&&c._shape===w&&!ce(w)&&Y(M,{shape:y.shape},e,{isFrom:!0}),re(t,s,s),d.add(s),n.setItemGraphicEl(t,s),V.push(s)}).remove(function(t){var i=q.getItemGraphicEl(t);d.remove(i)}).execute(),m.get("label.show")&&d.add(De(V)),this._shape=w,this._data=n;function E(t,i){if(w)if(ce(w)){var s=J(w.slice(7),{}),v=s.getBoundingRect(),u=v.width,o=v.height;u>o?(o=t*2/u*o,u=t*2):(u=t*2/o*u,o=t*2);var f=i?0:I-u/2,h=i?0:b-o/2;return s=J(w.slice(7),{},new fe(f,h,u,o)),i&&(s.x=-u/2,s.y=-o/2),s}else if(P){var p=i?-t[0]:I-t[0],g=i?-t[1]:b-t[1];return N("rect",p,g,t[0]*2,t[1]*2)}else{var p=i?-t:I-t,g=i?-t:b-t;return w==="pin"?g+=t:w==="arrow"&&(g-=t),N(w,p,g,t*2,t*2)}return new ge({shape:{cx:i?0:I,cy:i?0:b,r:t}})}function ae(){var t=E(z);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function ze(){var t=E(l);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var i=E(l);i.setStyle(e.getModel("backgroundStyle").getItemStyle()),i.style.stroke=null;var s=new H;return s.add(t),s.add(i),s}function te(t,i,s){var v=P?l[0]:l,u=P?S/2:l,o=n.getItemModel(t),f=o.getModel("itemStyle"),h=o.get("phase"),p=x(o.get("amplitude"),u*2),g=x(o.get("waveLength"),v*2),y=n.get("value",t),M=u-y*u*2;h=s?s.shape.phase:h==="auto"?t*Math.PI/4:h;var C=f.getItemStyle();if(!C.fill){var $=e.get("color"),W=t%$.length;C.fill=$[W]}var Oe=v*2,B=new Tr({shape:{waveLength:g,radius:v,radiusY:u,cx:Oe,cy:0,waterLevel:M,amplitude:p,phase:h,inverse:i},style:C,x:I,y:b});B.shape._waterLevel=M;var ie=o.getModel("emphasis.itemStyle").getItemStyle();ie.lineWidth=0,B.ensureState("emphasis").style=ie,ve(B);var se=E(l,!0);return se.setStyle({fill:"white"}),B.setClipPath(se),B}function re(t,i,s){var v=n.getItemModel(t),u=v.get("period"),o=v.get("direction"),f=n.get("value",t),h=v.get("phase");h=s?s.shape.phase:h==="auto"?t*Math.PI/4:h;var p=function(M){var C=n.count();return C===0?M:M*(.2+(C-t)/C*.8)},g=0;u==="auto"?g=p(5e3):g=typeof u=="function"?u(f,t):u;var y=0;o==="right"||o==null?y=Math.PI:o==="left"?y=-Math.PI:o==="none"?y=0:console.error("Illegal direction value for liquid fill."),o!=="none"&&v.get("waveAnimation")&&i.animate("shape",!0).when(0,{phase:h}).when(g/2,{phase:y+h}).when(g,{phase:y*2+h}).during(function(){A&&A.dirty(!0)}).start()}function De(t){var i=m.getModel("label");function s(){var C=e.getFormattedLabel(0,"normal"),$=n.get("value",0)*100,W=n.getName(0)||e.name;return isNaN($)||(W=$.toFixed(0)+"%"),C??W}var v={z2:10,shape:{x:Te,y:Le,width:(P?l[0]:l)*2,height:(P?l[1]:l)*2},style:{fill:"transparent"},textConfig:{position:i.get("position")||"inside"},silent:!0},u={style:{text:s(),textAlign:i.get("align"),textVerticalAlign:i.get("baseline")}};Object.assign(u.style,Ce(i));var o=new Z(v),f=new Z(v);f.disableLabelAnimation=!0,o.disableLabelAnimation=!0;var h=new G(u),p=new G(u);o.setTextContent(h),f.setTextContent(p);var g=i.get("insideColor");p.style.fill=g;var y=new H;y.add(o),y.add(f);var M=E(l,!0);return A=new me({shape:{paths:t},x:I,y:b}),A.setClipPath(M),f.setClipPath(A),y}},dispose:function(){}});U([Wt,Yt,Gt,we,Ut,qt,Vt,Ft,Nt,Ht,Zt,Jt,Xt,Kt,Qt,er,ar,Pe,tr,Se]);const zr=Me({name:"ECharts"}),kr=Me({...zr,props:{option:{},renderer:{default:"canvas"},resize:{type:Boolean,default:!0},theme:{},width:{},height:{},onClick:{}},setup(e,{expose:a}){const r=e,c=rr(()=>r.width||r.height?{height:r.height+"px",width:r.width+"px"}:{height:"100%",width:"100%"}),d=le(),n=le(),m=()=>{n.value&&n.value.setOption(r.option,{notMerge:!0})};oe(r,()=>{m()});const _=b=>r.onClick&&r.onClick(b),l=()=>{d.value&&(n.value=ue.getInstanceByDom(d.value),n.value||(n.value=hr(ue.init(d.value,r.theme,{renderer:r.renderer})),n.value.on("click",_),m()))},T=()=>{n.value&&r.resize&&n.value.resize({animation:{duration:300}})},S=fr(T,300,{maxWait:800}),O=ir(),{maximize:D,isCollapse:L,tabs:j,footer:I}=sr(O);return oe(()=>[D,L,j,I],()=>{S()},{deep:!0}),nr(()=>{lr(()=>l()),window.addEventListener("resize",S)}),or(()=>{n.value&&n.value.resize()}),ur(()=>{var b;(b=n.value)==null||b.dispose(),window.removeEventListener("resize",S)}),a({getInstance:()=>n.value,resize:T,draw:m}),(b,z)=>(dr(),cr("div",{id:"echarts",ref_key:"chartRef",ref:d,style:vr(c.value)},null,4))}});export{kr as _,ue as e};
