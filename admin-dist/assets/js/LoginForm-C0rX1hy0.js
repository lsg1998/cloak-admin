import{d as N,X as U,h as f,P as g,Z as B,a2 as C,c as T,F as A,b as o,a as L,r as n,w as s,u as v,J as z,av as E,aw as M,ax as q,B as H,O as K,a6 as O,o as $,e as w}from"./index-CSDlNv8m.js";import{u as D,a as I}from"./tabs-DXwozoc8.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"login-btn"},X=N({__name:"LoginForm",setup(Z){const y=H(),b=U(),k=D(),F=I(),l=f(),V=g({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),u=f(!1),a=g({username:"",password:""}),d=t=>{t&&t.validate(async e=>{if(e){u.value=!0;try{const{data:i}=await M(a);b.setToken(i.access_token),await q(),k.setTabs([]),F.setKeepAliveName([]),y.push(K),O({title:"React 付费版本 🔥🔥🔥",dangerouslyUseHTMLString:!0,message:"预览地址：<a href='https://pro.spicyboy.cn'>https://pro.spicyboy.cn</a>",type:"success",duration:8e3})}finally{u.value=!1}}})},x=t=>{t&&t.resetFields()};return B(()=>{document.onkeydown=t=>{if(t.code==="Enter"||t.code==="enter"||t.code==="NumpadEnter"){if(u.value)return;d(l.value)}}}),C(()=>{document.onkeydown=null}),(t,e)=>{const i=n("user"),p=n("el-icon"),c=n("el-input"),m=n("el-form-item"),R=n("lock"),S=n("el-form"),_=n("el-button");return $(),T(A,null,[o(S,{ref_key:"loginFormRef",ref:l,model:a,rules:V,size:"large"},{default:s(()=>[o(m,{prop:"username"},{default:s(()=>[o(c,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=r=>a.username=r),placeholder:"用户名：admin / user"},{prefix:s(()=>[o(p,{class:"el-input__icon"},{default:s(()=>[o(i)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(m,{prop:"password"},{default:s(()=>[o(c,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=r=>a.password=r),type:"password",placeholder:"密码：123456","show-password":"",autocomplete:"new-password"},{prefix:s(()=>[o(p,{class:"el-input__icon"},{default:s(()=>[o(R)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),L("div",P,[o(_,{icon:v(z),round:"",size:"large",onClick:e[2]||(e[2]=r=>x(l.value))},{default:s(()=>[...e[4]||(e[4]=[w(" 重置 ",-1)])]),_:1},8,["icon"]),o(_,{icon:v(E),round:"",size:"large",type:"primary",loading:u.value,onClick:e[3]||(e[3]=r=>d(l.value))},{default:s(()=>[...e[5]||(e[5]=[w(" 登录 ",-1)])]),_:1},8,["icon","loading"])])],64)}}}),W=J(X,[["__scopeId","data-v-b65a6646"]]);export{W as default};
