import{a5 as L,d as we,h as z,P as de,Z as Qe,r as f,Q as Ye,c as r,o as i,b as l,a as t,w as s,_ as ke,g as c,q as ze,u as x,aM as He,x as he,e as u,U as Je,t as o,aY as Xe,aS as Ze,bw as es,aO as Ie,b2 as ss,F as H,f as J,W as ue,E as ts,n as ls,bv as as,R as y,N as h}from"./index-CAqRvpzO.js";import{g as is}from"./product-3qFmYTxQ.js";import{_ as ns}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={getVisitorIps:I=>L.get("/admin/statistics/visitor-ips",I),getVisitorIp:I=>L.get("/admin/statistics/visitor-ips/detail",{ip:I}),getIpStatistics:I=>L.get("/admin/statistics/visitor-ips-stats",I),deleteVisitorIp:I=>L.delete("/admin/statistics/visitor-ips/delete",{ip:I}),syncBehaviorData:()=>L.post("/admin/statistics/sync-behavior-data"),clearAllIpCache:()=>L.post("/admin/statistics/visitor-ips/clear-cache"),refreshIpInfo:I=>L.post("/admin/statistics/visitor-ips/refresh",{ip:I})},os=(I=7)=>`https://goworldshop.shop/admin/statistics/visitor-ips/export?days=${I}`,ds={class:"visitor-ip-list"},us={class:"statistics-title"},rs={class:"stat-content"},cs={class:"stat-value"},ps={class:"stat-icon"},_s={class:"stat-content"},vs={class:"stat-value"},ys={class:"stat-icon"},fs={class:"stat-content"},ms={class:"stat-value"},gs={class:"stat-icon"},bs={class:"stat-content"},ks={class:"stat-value"},zs={class:"stat-icon"},hs={class:"stat-content"},Is={class:"stat-value"},Cs={class:"stat-icon"},xs={class:"stat-content"},Ps={class:"stat-value"},Vs={class:"stat-icon"},Ts={class:"source-stats-list"},Ss={class:"source-name"},As={class:"source-count"},Ds={class:"count-value"},Ls={class:"source-stats-list"},Us={class:"source-name"},Bs={class:"source-count"},Ms={class:"count-value"},Ns={class:"table-header"},Rs={class:"table-actions"},$s={class:"ip-list"},Es={class:"ip-header"},Os={class:"ip-address"},Fs={class:"ip-actions"},Ks={class:"ip-content"},js={class:"ip-section"},Gs={class:"address-info"},Ws={class:"address-line"},qs={class:"value"},ws={class:"address-line"},Qs={class:"value"},Ys={class:"address-line"},Hs={class:"value"},Js={key:0,class:"address-line"},Xs={class:"value"},Zs={key:1,class:"address-line"},et={class:"value"},st={key:2,class:"address-line"},tt={class:"value"},lt={key:3,class:"address-line"},at={class:"value"},it={key:4,class:"address-line"},nt={class:"value"},ot={class:"address-line"},dt={class:"value"},ut={class:"address-line"},rt={class:"value"},ct={class:"address-line"},pt={class:"ip-section"},_t={class:"organization-info"},vt={class:"org-line"},yt=["title"],ft={class:"org-line"},mt={class:"value"},gt={class:"org-line"},bt=["title"],kt={class:"org-line"},zt={class:"value"},ht={class:"org-line"},It={class:"value"},Ct={key:1},xt={key:0,class:"org-line"},Pt=["title"],Vt={class:"org-tags"},Tt={class:"ip-section"},St={class:"basic-type"},At={class:"type-line"},Dt={class:"type-line"},Lt={class:"value"},Ut={class:"type-line"},Bt={class:"value"},Mt={class:"type-line"},Nt={key:1,class:"value"},Rt={class:"type-line"},$t={key:1,class:"value"},Et={class:"type-line"},Ot={key:1,class:"value"},Ft={key:0,class:"type-line"},Kt={class:"type-line"},jt=["title"],Gt={class:"type-line"},Wt=["title"],qt={class:"type-line"},wt=["title"],Qt={class:"ip-section"},Yt={class:"privacy-tags"},Ht={class:"privacy-item"},Jt={class:"privacy-item"},Xt={class:"privacy-item"},Zt={class:"privacy-item"},el={class:"privacy-item"},sl={key:0,class:"ip-section"},tl={class:"detailed-type"},ll={class:"type-line"},al={class:"type-line"},il={class:"value"},nl={class:"type-line"},ol={class:"value"},dl={class:"pagination-wrapper"},ul={class:"product-select-dialog"},rl={key:0,class:"ip-detail"},cl={class:"detail-section"},pl={key:0},_l={key:1,class:"text-gray-400"},vl={key:1,class:"text-gray-400"},yl={class:"detail-section"},fl={key:0},ml={key:1,class:"text-gray-400"},gl={key:0},bl={key:1,class:"text-gray-400"},kl={key:0},zl={key:1},hl={key:2,class:"text-gray-400"},Il={key:0},Cl={key:1,class:"text-gray-400"},xl={key:0},Pl={key:1,class:"text-gray-400"},Vl={key:0},Tl={key:1,class:"text-gray-400"},Sl={key:0},Al={key:1},Dl={key:2,class:"text-gray-400"},Ll={class:"detail-section"},Ul={key:0},Bl={key:1,class:"text-gray-400"},Ml={key:1,class:"text-gray-400"},Nl={key:0},Rl={key:1},$l={key:2,class:"text-gray-400"},El={key:0},Ol={key:1,class:"text-gray-400"},Fl={key:0},Kl={key:1,class:"text-gray-400"},jl={key:0,class:"detail-section"},Gl={key:0},Wl={key:1,class:"text-gray-400"},ql={key:1,class:"detail-section"},wl={key:2,class:"detail-section"},Ql=["href"],Yl={key:3,class:"detail-section"},Hl={class:"detail-section"},Jl={class:"detail-section"},Xl={key:0,class:"referer-info"},Zl={key:1,class:"text-gray-400"},ea={key:0,class:"referer-info"},sa={key:1,class:"text-gray-400"},ta={class:"timeline-container"},la={key:0,class:"timeline-content"},aa={class:"timeline-header"},ia={class:"timeline-list"},na={class:"timeline-item-content"},oa={class:"action-description"},da={class:"action-text"},ua={key:0,class:"action-detail"},ra=we({__name:"index",setup(I){const O=z(!1),X=z(!1),F=z(!1),U=z(!1),B=z(7),Z=z(!1),n=z(null),b=de({ip:"",timeRange:"today",visitorType:"",productId:"",emParam:""}),K=z(!1),ee=z(!1),se=z([]),j=z([]),G=z(""),M=z(""),A=de({page:1,size:20,total:0}),C=de({page:1,size:20,total:0}),te=z([]),S=z({totalIps:0,todayIps:0,totalBots:0,totalProxies:0,genuineCount:0,fakeCount:0,productTypeStats:[],sourceStats:[],deviceStats:[]}),W=d=>d?new Date(d).toLocaleString("zh-CN"):"--",q=d=>{const e=["proxy","vpn","tor","anonymizer"],v=(d.organization||"").toLowerCase();return e.some(g=>v.includes(g))},Ce=d=>{const e=["amazon","google","microsoft","cloudflare","digitalocean","linode","vultr","aws","gcp","azure"],v=(d.organization||"").toLowerCase();return e.some(g=>v.includes(g))},re=d=>N(d)?"爬虫":q(d)?"代理":"访客",ce=d=>N(d)?"primary":q(d)?"warning":"success",le=d=>{const e=["google","facebook","twitter","linkedin","microsoft","bytedance","tiktok"],v=(d.organization||"").toLowerCase(),g=(d.user_agent||"").trim(),m=e.some(k=>v.includes(k)),$=!g||g.length<20;return m&&$},N=d=>{if(le(d))return!0;const e=["bot","crawler","spider","scraper","crawl","googlebot","bingbot","slurp","duckduckbot","facebook","facebookexternalhit","facebot","twitter","twitterbot","linkedin","linkedinbot","whatsapp","telegrambot","bytedance","bytespider","semrush","ahrefs","mj12bot","petalbot","yandex","baidu"],v=(d.user_agent||"").toLowerCase(),g=(d.organization||"").toLowerCase();return e.some(m=>v.includes(m)||g.includes(m))},xe=d=>{const e=d.user_agent||"";return e.includes("Mobile")?"Mobile":e.includes("Tablet")?"Tablet":e.includes("Desktop")?"Desktop":null},Pe=d=>{const e=d.user_agent||"";return e.includes("Android")?"Android":e.includes("iOS")||e.includes("iPhone")||e.includes("iPad")?"iOS":e.includes("Windows")?"Windows":e.includes("Mac")?"macOS":e.includes("Linux")?"Linux":null},Ve=d=>{const e=(d.user_agent||"").toLowerCase(),v=(d.organization||"").toLowerCase();return le(d)?v.includes("google")?"Google 审核爬虫":v.includes("facebook")?"Facebook 审核爬虫":v.includes("twitter")?"Twitter 审核爬虫":v.includes("linkedin")?"LinkedIn 审核爬虫":v.includes("microsoft")?"Microsoft 审核爬虫":v.includes("bytedance")||v.includes("tiktok")?"TikTok 审核爬虫":"审核爬虫":e.includes("googlebot")||v.includes("google")&&e.includes("bot")?"Googlebot":e.includes("bingbot")||v.includes("microsoft")&&e.includes("bot")?"BingBot":e.includes("facebook")?"Facebook Crawler":e.includes("twitter")?"Twitter Bot":e.includes("ahrefs")||v.includes("ahrefs")?"aHrefs Bot":e.includes("httpx")?"httpx":e.includes("barkrowler")?"Barkrowler":N(d)?"通用爬虫":null},Te=d=>{const e=(d.user_agent||"").toLowerCase(),v=(d.organization||"").toLowerCase();return le(d)?"广告/内容合规审核（无UA或异常UA）":e.includes("googlebot")||v.includes("google")&&e.includes("bot")||e.includes("bingbot")||v.includes("microsoft")&&e.includes("bot")?"搜索引擎蜘蛛":e.includes("facebook")||e.includes("twitter")?"社交媒体爬虫":e.includes("ahrefs")||v.includes("ahrefs")?"SEO分析爬虫":N(d)?"通用网络爬虫":null},pe=d=>({A:"primary",B:"success",C:"warning",D:"danger",E:"info"})[d]||"info",_e=d=>({A:"A页",B:"B页",C:"C页",D:"D页",E:"E页"})[d]||d,Se=d=>({YouTube:"danger","Android App":"success",Google:"primary",Facebook:"primary",Instagram:"warning",TikTok:"danger","Twitter/X":"info",直接访问:"info",其他:"info"})[d]||"info",Ae=()=>({today:"今天",yesterday:"昨天",week:"本周",month:"本月",all:"全部时间"})[b.timeRange]||"今天",R=async()=>{try{O.value=!0;const d={page:C.page,size:C.size,...b},e=await E.getVisitorIps(d);e.code===200&&(te.value=e.data.list,C.total=e.data.total)}catch(d){console.error("获取访客IP列表失败:",d),h.error("获取访客IP列表失败")}finally{O.value=!1}},ae=async()=>{try{const d=await E.getIpStatistics({timeRange:b.timeRange||"today"});d.code===200&&(S.value=d.data)}catch(d){console.error("获取统计数据失败:",d),h.error("获取统计数据失败")}},w=()=>{C.page=1,R(),ae()},De=()=>{Object.assign(b,{ip:"",timeRange:"today",visitorType:"",productId:"",emParam:""}),M.value="",w()},ie=async()=>{try{ee.value=!0;const{data:d}=await is({page:A.page,size:A.size});se.value=d.list||[],j.value=d.list||[],A.total=d.total||0}catch{h.error("加载商品列表失败")}finally{ee.value=!1}},Le=()=>{if(!G.value){j.value=se.value;return}const d=G.value.toLowerCase();j.value=se.value.filter(e=>{var v,g;return((v=e.title)==null?void 0:v.toLowerCase().includes(d))||((g=e.spu_id)==null?void 0:g.toLowerCase().includes(d))})},ve=d=>{b.productId=d.spu_id,M.value=d.title,K.value=!1,h.success(`已选择商品: ${d.title}`)},Ue=()=>{b.productId="",M.value=""},Be=d=>{C.size=d,C.page=1,R()},Me=d=>{C.page=d,R()},Ne=async d=>{try{const e=await E.getVisitorIp(d.ip_address);e.code===200&&(n.value=e.data,Z.value=!0)}catch(e){console.error("获取IP详情失败:",e),h.error("获取IP详情失败")}},Re=async()=>{var d;try{X.value=!0;const e=await E.clearAllIpCache();e.code===200?h.success(e.message||`成功清理 ${((d=e.data)==null?void 0:d.count)||0} 个IP缓存`):h.error(e.message||"清空缓存失败")}catch(e){console.error("清空IP缓存失败:",e),h.error("清空缓存失败")}finally{X.value=!1}},$e=()=>{U.value=!0},Ee=async()=>{try{F.value=!0;const d=os(B.value),e=document.createElement("a");e.href=d,e.download=`visitor_ips_last_${B.value}_days_${new Date().getTime()}.txt`,document.body.appendChild(e),e.click(),document.body.removeChild(e),h.success(`访客IP导出已开始（最近${B.value}天），请稍候...`),U.value=!1}catch(d){console.error("导出访客IP失败:",d),h.error("导出访客IP失败")}finally{F.value=!1}},Oe=async d=>{try{h.info(`正在重新识别 IP: ${d.ip_address}...`);const e=await E.refreshIpInfo(d.ip_address);e.code===200?(h.success("IP信息已重新识别并更新"),await R()):h.error(e.message||"重新识别失败")}catch(e){console.error("重新识别IP失败:",e),h.error("重新识别IP失败")}};return Qe(()=>{R(),ae(),ie()}),(d,e)=>{const v=f("el-input"),g=f("el-form-item"),m=f("el-option"),$=f("el-select"),k=f("el-icon"),P=f("el-button"),ye=f("el-form"),V=f("el-card"),D=f("el-col"),fe=f("el-row"),p=f("el-tag"),Fe=f("Download"),me=f("el-pagination"),ne=f("el-table-column"),Ke=f("el-table"),Q=f("el-dialog"),_=f("el-descriptions-item"),T=f("el-descriptions"),ge=f("el-link"),Y=f("el-text"),je=f("el-timeline-item"),Ge=f("el-timeline"),We=f("el-empty"),oe=Ye("loading");return i(),r("div",ds,[l(V,{class:"search-card",shadow:"never"},{default:s(()=>[l(ye,{model:b,inline:!0,class:"search-form"},{default:s(()=>[l(g,{label:"IP地址"},{default:s(()=>[l(v,{modelValue:b.ip,"onUpdate:modelValue":e[0]||(e[0]=a=>b.ip=a),placeholder:"请输入IP地址",clearable:"",style:{width:"200px"},onKeyup:ke(w,["enter"])},null,8,["modelValue"])]),_:1}),l(g,{label:"时间筛选"},{default:s(()=>[l($,{modelValue:b.timeRange,"onUpdate:modelValue":e[1]||(e[1]=a=>b.timeRange=a),placeholder:"请选择时间范围",style:{width:"150px"}},{default:s(()=>[l(m,{label:"当天",value:"today"}),l(m,{label:"昨天",value:"yesterday"}),l(m,{label:"本周",value:"week"}),l(m,{label:"本月",value:"month"}),l(m,{label:"全部",value:"all"})]),_:1},8,["modelValue"])]),_:1}),l(g,{label:"访客类型"},{default:s(()=>[l($,{modelValue:b.visitorType,"onUpdate:modelValue":e[2]||(e[2]=a=>b.visitorType=a),placeholder:"请选择类型",clearable:"",style:{width:"150px"}},{default:s(()=>[l(m,{label:"访客",value:"visitor"}),l(m,{label:"爬虫",value:"bot"}),l(m,{label:"代理",value:"proxy"})]),_:1},8,["modelValue"])]),_:1}),l(g,{label:"商品筛选"},{default:s(()=>[l(v,{modelValue:M.value,"onUpdate:modelValue":e[3]||(e[3]=a=>M.value=a),placeholder:"点击选择商品",readonly:"",style:{width:"200px"},onClick:e[4]||(e[4]=a=>K.value=!0)},{suffix:s(()=>[b.productId?(i(),c(k,{key:0,onClick:ze(Ue,["stop"]),style:{cursor:"pointer"}},{default:s(()=>[l(x(He))]),_:1})):(i(),c(k,{key:1},{default:s(()=>[l(x(he))]),_:1}))]),_:1},8,["modelValue"])]),_:1}),l(g,{label:"推广参数"},{default:s(()=>[l(v,{modelValue:b.emParam,"onUpdate:modelValue":e[5]||(e[5]=a=>b.emParam=a),placeholder:"请输入em参数",clearable:"",style:{width:"200px"},onKeyup:ke(w,["enter"])},null,8,["modelValue"])]),_:1}),l(g,null,{default:s(()=>[l(P,{type:"primary",onClick:w},{default:s(()=>[...e[17]||(e[17]=[u("搜索",-1)])]),_:1}),l(P,{onClick:De},{default:s(()=>[...e[18]||(e[18]=[u("重置",-1)])]),_:1}),l(P,{type:"warning",onClick:Re,loading:X.value},{default:s(()=>[l(k,null,{default:s(()=>[l(x(Je))]),_:1}),e[19]||(e[19]=u(" 一键清空缓存 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),t("div",us,[t("h3",null,"统计数据（"+o(Ae())+"）",1)]),l(fe,{gutter:20,class:"statistics-cards"},{default:s(()=>[l(D,{span:4},{default:s(()=>[l(V,{class:"stat-card"},{default:s(()=>[t("div",rs,[t("div",cs,o(S.value.totalIps),1),e[20]||(e[20]=t("div",{class:"stat-label"},"总IP数",-1))]),t("div",ps,[l(k,null,{default:s(()=>[l(x(Xe))]),_:1})])]),_:1})]),_:1}),l(D,{span:4},{default:s(()=>[l(V,{class:"stat-card"},{default:s(()=>[t("div",_s,[t("div",vs,o(S.value.todayIps),1),e[21]||(e[21]=t("div",{class:"stat-label"},"今日新增",-1))]),t("div",ys,[l(k,null,{default:s(()=>[l(x(Ze))]),_:1})])]),_:1})]),_:1}),l(D,{span:4},{default:s(()=>[l(V,{class:"stat-card genuine"},{default:s(()=>[t("div",fs,[t("div",ms,o(S.value.genuineCount),1),e[22]||(e[22]=t("div",{class:"stat-label"},"访问正品",-1))]),t("div",gs,[l(k,null,{default:s(()=>[l(x(es))]),_:1})])]),_:1})]),_:1}),l(D,{span:4},{default:s(()=>[l(V,{class:"stat-card fake"},{default:s(()=>[t("div",bs,[t("div",ks,o(S.value.fakeCount),1),e[23]||(e[23]=t("div",{class:"stat-label"},"访问仿品",-1))]),t("div",zs,[l(k,null,{default:s(()=>[l(x(Ie))]),_:1})])]),_:1})]),_:1}),l(D,{span:4},{default:s(()=>[l(V,{class:"stat-card"},{default:s(()=>[t("div",hs,[t("div",Is,o(S.value.totalBots),1),e[24]||(e[24]=t("div",{class:"stat-label"},"访问爬虫",-1))]),t("div",Cs,[l(k,null,{default:s(()=>[l(x(Ie))]),_:1})])]),_:1})]),_:1}),l(D,{span:4},{default:s(()=>[l(V,{class:"stat-card"},{default:s(()=>[t("div",xs,[t("div",Ps,o(S.value.totalProxies),1),e[25]||(e[25]=t("div",{class:"stat-label"},"访问代理",-1))]),t("div",Vs,[l(k,null,{default:s(()=>[l(x(ss))]),_:1})])]),_:1})]),_:1})]),_:1}),l(fe,{gutter:20,class:"statistics-cards",style:{"margin-top":"20px"}},{default:s(()=>[l(D,{span:12},{default:s(()=>[l(V,{class:"source-stats-card"},{default:s(()=>[e[27]||(e[27]=t("div",{class:"card-header"},[t("h3",null,"访问来源统计")],-1)),t("div",Ts,[(i(!0),r(H,null,J(S.value.sourceStats,a=>(i(),r("div",{key:a.source,class:"source-item"},[t("div",Ss,[l(p,{type:Se(a.source),size:"default"},{default:s(()=>[u(o(a.source),1)]),_:2},1032,["type"])]),t("div",As,[t("span",Ds,o(a.count),1),e[26]||(e[26]=t("span",{class:"count-label"},"次",-1))])]))),128))])]),_:1})]),_:1}),l(D,{span:12},{default:s(()=>[l(V,{class:"source-stats-card"},{default:s(()=>[e[29]||(e[29]=t("div",{class:"card-header"},[t("h3",null,"设备统计")],-1)),t("div",Ls,[(i(!0),r(H,null,J(S.value.deviceStats,a=>(i(),r("div",{key:a.device,class:"source-item"},[t("div",Us,[l(p,{type:"info",size:"default"},{default:s(()=>[u(o(a.device),1)]),_:2},1024)]),t("div",Bs,[t("span",Ms,o(a.count),1),e[28]||(e[28]=t("span",{class:"count-label"},"次",-1))])]))),128))])]),_:1})]),_:1})]),_:1}),l(V,{class:"table-card",shadow:"never"},{default:s(()=>[t("div",Ns,[e[32]||(e[32]=t("div",{class:"table-title"},"访客IP列表",-1)),t("div",Rs,[l(P,{type:"primary",onClick:$e,loading:F.value},{default:s(()=>[l(k,null,{default:s(()=>[l(Fe)]),_:1}),e[30]||(e[30]=u(" 导出IP ",-1))]),_:1},8,["loading"]),l(P,{onClick:ae},{default:s(()=>[l(k,null,{default:s(()=>[l(x(ts))]),_:1}),e[31]||(e[31]=u(" 刷新统计 ",-1))]),_:1})])]),ue((i(),r("div",$s,[(i(!0),r(H,null,J(te.value,(a,be)=>(i(),r("div",{key:a.id,class:ls(["ip-item",{"last-item":be===te.value.length-1}])},[t("div",Es,[t("div",Os,o(a.ip_address),1),t("div",Fs,[l(P,{type:"success",size:"small",onClick:qe=>Oe(a)},{default:s(()=>[l(k,null,{default:s(()=>[l(x(as))]),_:1}),e[33]||(e[33]=u(" 重新识别 ",-1))]),_:1},8,["onClick"]),l(P,{type:"primary",size:"small",onClick:qe=>Ne(a)},{default:s(()=>[...e[34]||(e[34]=[u("查看",-1)])]),_:1},8,["onClick"])])]),t("div",Ks,[t("div",js,[e[46]||(e[46]=t("div",{class:"section-title"},"地理位置",-1)),t("div",Gs,[t("div",Ws,[e[35]||(e[35]=t("span",{class:"label"},"城市:",-1)),t("span",qs,o(a.city||"-"),1)]),t("div",ws,[e[36]||(e[36]=t("span",{class:"label"},"地区:",-1)),t("span",Qs,[u(o(a.region||"-")+" ",1),a.region_code?(i(),c(p,{key:0,size:"small",type:"info",style:{"margin-left":"4px"}},{default:s(()=>[u(o(a.region_code),1)]),_:2},1024)):y("",!0)])]),t("div",Ys,[e[37]||(e[37]=t("span",{class:"label"},"国家:",-1)),t("span",Hs,[u(o(a.country_name||a.country||"-")+" ",1),a.country_code||a.country?(i(),c(p,{key:0,size:"small",type:"info",style:{"margin-left":"4px"}},{default:s(()=>[u(o(a.country_code||a.country),1)]),_:2},1024)):y("",!0)])]),a.continent?(i(),r("div",Js,[e[38]||(e[38]=t("span",{class:"label"},"大洲:",-1)),t("span",Xs,[u(o(a.continent)+" ",1),a.continent_code?(i(),c(p,{key:0,size:"small",type:"info",style:{"margin-left":"4px"}},{default:s(()=>[u(o(a.continent_code),1)]),_:2},1024)):y("",!0)])])):y("",!0),a.postal_code?(i(),r("div",Zs,[e[39]||(e[39]=t("span",{class:"label"},"邮编:",-1)),t("span",et,o(a.postal_code),1)])):y("",!0),a.timezone?(i(),r("div",st,[e[40]||(e[40]=t("span",{class:"label"},"时区:",-1)),t("span",tt,o(a.timezone),1)])):y("",!0),a.latitude&&a.longitude?(i(),r("div",lt,[e[41]||(e[41]=t("span",{class:"label"},"坐标:",-1)),t("span",at,o(a.latitude)+", "+o(a.longitude),1)])):a.location?(i(),r("div",it,[e[42]||(e[42]=t("span",{class:"label"},"坐标:",-1)),t("span",nt,o(a.location),1)])):y("",!0),t("div",ot,[e[43]||(e[43]=t("span",{class:"label"},"首次访问:",-1)),t("span",dt,o(W(a.first_visit)),1)]),t("div",ut,[e[44]||(e[44]=t("span",{class:"label"},"最后访问:",-1)),t("span",rt,o(W(a.last_visit)),1)]),t("div",ct,[e[45]||(e[45]=t("span",{class:"label"},"访问次数:",-1)),l(p,{type:"info",size:"small"},{default:s(()=>[u(o(a.visit_count),1)]),_:2},1024)])])]),t("div",pt,[e[55]||(e[55]=t("div",{class:"section-title"},"网络与组织",-1)),t("div",_t,[t("div",vt,[e[47]||(e[47]=t("span",{class:"label"},"主机名:",-1)),t("span",{class:"value",title:a.hostname||"-"},o(a.hostname||"-"),9,yt)]),t("div",ft,[e[48]||(e[48]=t("span",{class:"label"},"ASN号码:",-1)),t("span",mt,o(a.asn||"-"),1)]),t("div",gt,[e[49]||(e[49]=t("span",{class:"label"},"AS组织名称:",-1)),t("span",{class:"value",title:a.as_name||"-"},o(a.as_name||"-"),9,bt)]),t("div",kt,[e[50]||(e[50]=t("span",{class:"label"},"AS域名:",-1)),t("span",zt,o(a.as_domain||"-"),1)]),t("div",ht,[e[51]||(e[51]=t("span",{class:"label"},"AS类型:",-1)),t("span",It,[a.as_type?(i(),c(p,{key:0,size:"small",type:"primary"},{default:s(()=>[u(o(a.as_type),1)]),_:2},1024)):(i(),r("span",Ct,"-"))])]),a.organization&&a.organization!==a.asn+" "+a.as_name?(i(),r("div",xt,[e[52]||(e[52]=t("span",{class:"label"},"组织信息:",-1)),t("span",{class:"value",title:a.organization},o(a.organization),9,Pt)])):y("",!0),t("div",Vt,[q(a)?(i(),c(p,{key:0,size:"small",type:"info"},{default:s(()=>[...e[53]||(e[53]=[u("代理",-1)])]),_:1})):y("",!0),Ce(a)?(i(),c(p,{key:1,size:"small",type:"warning"},{default:s(()=>[...e[54]||(e[54]=[u("机房",-1)])]),_:1})):y("",!0)])])]),t("div",Tt,[e[66]||(e[66]=t("div",{class:"section-title"},"访问信息",-1)),t("div",St,[t("div",At,[e[56]||(e[56]=t("span",{class:"label"},"访问类型:",-1)),l(p,{type:ce(a),size:"small"},{default:s(()=>[u(o(re(a)),1)]),_:2},1032,["type"])]),t("div",Dt,[e[57]||(e[57]=t("span",{class:"label"},"设备:",-1)),t("span",Lt,o(xe(a)||"-"),1)]),t("div",Ut,[e[58]||(e[58]=t("span",{class:"label"},"系统:",-1)),t("span",Bt,o(Pe(a)||"-"),1)]),t("div",Mt,[e[59]||(e[59]=t("span",{class:"label"},"商品ID:",-1)),a.product_id?(i(),c(p,{key:0,size:"small",type:"success"},{default:s(()=>[u(o(a.product_id),1)]),_:2},1024)):(i(),r("span",Nt,"-"))]),t("div",Rt,[e[60]||(e[60]=t("span",{class:"label"},"推广参数:",-1)),a.em_param?(i(),c(p,{key:0,size:"small",type:"warning"},{default:s(()=>[u(o(a.em_param),1)]),_:2},1024)):(i(),r("span",$t,"-"))]),t("div",Et,[e[61]||(e[61]=t("span",{class:"label"},"产品类型:",-1)),a.product_type?(i(),c(p,{key:0,size:"small",type:pe(a.product_type)},{default:s(()=>[u(o(_e(a.product_type)),1)]),_:2},1032,["type"])):(i(),r("span",Ot,"-"))]),a.cloak_reason?(i(),r("div",Ft,[e[62]||(e[62]=t("span",{class:"label"},"判断原因:",-1)),l(p,{size:"small",type:a.product_type==="fake"?"danger":"success"},{default:s(()=>[u(o(a.cloak_reason),1)]),_:2},1032,["type"])])):y("",!0),t("div",Kt,[e[63]||(e[63]=t("span",{class:"label"},"访问页面:",-1)),t("span",{class:"value referer",title:a.access_address||"-"},o(a.access_address||"-"),9,jt)]),t("div",Gt,[e[64]||(e[64]=t("span",{class:"label"},"来源页面:",-1)),t("span",{class:"value referer",title:a.referer||"-"},o(a.referer||"-"),9,Wt)]),t("div",qt,[e[65]||(e[65]=t("span",{class:"label"},"User-Agent:",-1)),t("span",{class:"value referer",title:a.user_agent||"-"},o(a.user_agent||"-"),9,wt)])])]),t("div",Qt,[e[82]||(e[82]=t("div",{class:"section-title"},"Privacy 隐私检测",-1)),t("div",Yt,[t("span",Ht,[e[69]||(e[69]=t("span",{class:"privacy-label"},"VPN:",-1)),a.privacy_vpn||a.is_anonymous?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[67]||(e[67]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[68]||(e[68]=[u("否",-1)])]),_:1}))]),t("span",Jt,[e[72]||(e[72]=t("span",{class:"privacy-label"},"Proxy:",-1)),a.privacy_proxy?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[70]||(e[70]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[71]||(e[71]=[u("否",-1)])]),_:1}))]),t("span",Xt,[e[75]||(e[75]=t("span",{class:"privacy-label"},"Tor:",-1)),a.privacy_tor?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[73]||(e[73]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[74]||(e[74]=[u("否",-1)])]),_:1}))]),t("span",Zt,[e[78]||(e[78]=t("span",{class:"privacy-label"},"托管:",-1)),a.privacy_hosting||a.is_hosting?(i(),c(p,{key:0,type:"warning",size:"small"},{default:s(()=>[...e[76]||(e[76]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[77]||(e[77]=[u("否",-1)])]),_:1}))]),t("span",el,[e[81]||(e[81]=t("span",{class:"privacy-label"},"移动:",-1)),a.is_mobile||a.carrier_name?(i(),c(p,{key:0,type:"primary",size:"small"},{default:s(()=>[...e[79]||(e[79]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"info",size:"small"},{default:s(()=>[...e[80]||(e[80]=[u("否",-1)])]),_:1}))])])]),N(a)||q(a)?(i(),r("div",sl,[e[86]||(e[86]=t("div",{class:"section-title"},"详细类型",-1)),t("div",tl,[t("div",ll,[e[83]||(e[83]=t("span",{class:"label"},"类型:",-1)),l(p,{type:ce(a),size:"small"},{default:s(()=>[u(o(re(a)),1)]),_:2},1032,["type"])]),t("div",al,[e[84]||(e[84]=t("span",{class:"label"},"名称:",-1)),t("span",il,o(Ve(a)||"-"),1)]),t("div",nl,[e[85]||(e[85]=t("span",{class:"label"},"说明:",-1)),t("span",ol,o(Te(a)||"-"),1)])])])):y("",!0)])],2))),128))])),[[oe,O.value]]),t("div",dl,[l(me,{"current-page":C.page,"onUpdate:currentPage":e[6]||(e[6]=a=>C.page=a),"page-size":C.size,"onUpdate:pageSize":e[7]||(e[7]=a=>C.size=a),total:C.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Be,onCurrentChange:Me},null,8,["current-page","page-size","total"])])]),_:1}),l(Q,{modelValue:K.value,"onUpdate:modelValue":e[11]||(e[11]=a=>K.value=a),title:"选择商品",width:"800px","close-on-click-modal":!1},{default:s(()=>[t("div",ul,[l(v,{modelValue:G.value,"onUpdate:modelValue":e[8]||(e[8]=a=>G.value=a),placeholder:"搜索商品标题或ID",clearable:"",style:{"margin-bottom":"20px"},onInput:Le},{prefix:s(()=>[l(k,null,{default:s(()=>[l(x(he))]),_:1})]),_:1},8,["modelValue"]),ue((i(),c(Ke,{data:j.value,height:"400","highlight-current-row":"",onRowClick:ve},{default:s(()=>[l(ne,{prop:"spu_id",label:"商品ID",width:"180"}),l(ne,{prop:"title",label:"商品标题","show-overflow-tooltip":""}),l(ne,{label:"操作",width:"100",align:"center"},{default:s(a=>[l(P,{type:"primary",size:"small",onClick:ze(be=>ve(a.row),["stop"])},{default:s(()=>[...e[87]||(e[87]=[u("选择",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[oe,ee.value]]),l(me,{"current-page":A.page,"onUpdate:currentPage":e[9]||(e[9]=a=>A.page=a),"page-size":A.size,"onUpdate:pageSize":e[10]||(e[10]=a=>A.size=a),total:A.total,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next",style:{"margin-top":"20px"},onSizeChange:ie,onCurrentChange:ie},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"]),l(Q,{modelValue:Z.value,"onUpdate:modelValue":e[12]||(e[12]=a=>Z.value=a),title:"IP详情",width:"800px","close-on-click-modal":!1},{default:s(()=>[n.value?(i(),r("div",rl,[t("div",cl,[e[88]||(e[88]=t("h4",{class:"section-title"},"基础信息",-1)),l(T,{column:2,border:"",size:"default"},{default:s(()=>[l(_,{label:"IP地址"},{default:s(()=>[u(o(n.value.ip_address),1)]),_:1}),l(_,{label:"主机名"},{default:s(()=>[n.value.hostname?(i(),r("span",pl,o(n.value.hostname),1)):(i(),r("span",_l,"--"))]),_:1}),l(_,{label:"访问次数"},{default:s(()=>[l(p,{type:"info"},{default:s(()=>[u(o(n.value.visit_count),1)]),_:1})]),_:1}),l(_,{label:"产品类型"},{default:s(()=>[n.value.product_type?(i(),c(p,{key:0,type:pe(n.value.product_type),size:"small"},{default:s(()=>[u(o(_e(n.value.product_type)),1)]),_:1},8,["type"])):(i(),r("span",vl,"--"))]),_:1}),l(_,{label:"首次访问"},{default:s(()=>[u(o(W(n.value.first_visit)),1)]),_:1}),l(_,{label:"最后访问"},{default:s(()=>[u(o(W(n.value.last_visit)),1)]),_:1})]),_:1})]),t("div",yl,[e[89]||(e[89]=t("h4",{class:"section-title"},"地理位置信息",-1)),l(T,{column:2,border:"",size:"default"},{default:s(()=>[l(_,{label:"城市"},{default:s(()=>[n.value.city?(i(),r("span",fl,o(n.value.city),1)):(i(),r("span",ml,"--"))]),_:1}),l(_,{label:"地区"},{default:s(()=>[n.value.region?(i(),r("span",gl,o(n.value.region),1)):(i(),r("span",bl,"--"))]),_:1}),l(_,{label:"国家代码"},{default:s(()=>[n.value.country_code?(i(),r("span",kl,o(n.value.country_code),1)):n.value.country?(i(),r("span",zl,o(n.value.country),1)):(i(),r("span",hl,"--"))]),_:1}),l(_,{label:"大洲"},{default:s(()=>[n.value.continent?(i(),r("span",Il,o(n.value.continent)+" ("+o(n.value.continent_code)+") ",1)):(i(),r("span",Cl,"--"))]),_:1}),l(_,{label:"邮编"},{default:s(()=>[n.value.postal_code?(i(),r("span",xl,o(n.value.postal_code),1)):(i(),r("span",Pl,"--"))]),_:1}),l(_,{label:"时区"},{default:s(()=>[n.value.timezone?(i(),r("span",Vl,o(n.value.timezone),1)):(i(),r("span",Tl,"--"))]),_:1}),l(_,{label:"经纬度",span:2},{default:s(()=>[n.value.latitude&&n.value.longitude?(i(),r("span",Sl,o(n.value.latitude)+", "+o(n.value.longitude),1)):n.value.location?(i(),r("span",Al,o(n.value.location),1)):(i(),r("span",Dl,"--"))]),_:1})]),_:1})]),t("div",Ll,[e[90]||(e[90]=t("h4",{class:"section-title"},"AS (自治系统) 信息",-1)),l(T,{column:2,border:"",size:"default"},{default:s(()=>[l(_,{label:"ASN"},{default:s(()=>[n.value.asn?(i(),r("span",Ul,o(n.value.asn),1)):(i(),r("span",Bl,"--"))]),_:1}),l(_,{label:"AS 类型"},{default:s(()=>[n.value.as_type?(i(),c(p,{key:0,size:"small"},{default:s(()=>[u(o(n.value.as_type),1)]),_:1})):(i(),r("span",Ml,"--"))]),_:1}),l(_,{label:"AS 组织名称",span:2},{default:s(()=>[n.value.as_name?(i(),r("span",Nl,o(n.value.as_name),1)):n.value.organization?(i(),r("span",Rl,o(n.value.organization),1)):(i(),r("span",$l,"--"))]),_:1}),l(_,{label:"AS 域名",span:2},{default:s(()=>[n.value.as_domain?(i(),r("span",El,o(n.value.as_domain),1)):(i(),r("span",Ol,"--"))]),_:1}),l(_,{label:"AS 路由",span:2},{default:s(()=>[n.value.asn_route?(i(),r("span",Fl,o(n.value.asn_route),1)):(i(),r("span",Kl,"--"))]),_:1})]),_:1})]),n.value.privacy_vpn!==void 0||n.value.privacy_proxy!==void 0?(i(),r("div",jl,[e[101]||(e[101]=t("h4",{class:"section-title"},"隐私检测详情 (Premium)",-1)),l(T,{column:3,border:"",size:"default"},{default:s(()=>[l(_,{label:"VPN"},{default:s(()=>[n.value.privacy_vpn?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[91]||(e[91]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[92]||(e[92]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"代理"},{default:s(()=>[n.value.privacy_proxy?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[93]||(e[93]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[94]||(e[94]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"Tor"},{default:s(()=>[n.value.privacy_tor?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[95]||(e[95]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[96]||(e[96]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"中继"},{default:s(()=>[n.value.privacy_relay?(i(),c(p,{key:0,type:"warning",size:"small"},{default:s(()=>[...e[97]||(e[97]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[98]||(e[98]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"托管服务"},{default:s(()=>[n.value.privacy_hosting?(i(),c(p,{key:0,type:"warning",size:"small"},{default:s(()=>[...e[99]||(e[99]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[100]||(e[100]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"服务类型"},{default:s(()=>[n.value.privacy_service?(i(),r("span",Gl,o(n.value.privacy_service),1)):(i(),r("span",Wl,"--"))]),_:1})]),_:1})])):y("",!0),n.value.company_name||n.value.carrier_name?(i(),r("div",ql,[e[102]||(e[102]=t("h4",{class:"section-title"},"公司/运营商信息",-1)),l(T,{column:2,border:"",size:"default"},{default:s(()=>[n.value.company_name?(i(),c(_,{key:0,label:"公司名称"},{default:s(()=>[u(o(n.value.company_name),1)]),_:1})):y("",!0),n.value.company_domain?(i(),c(_,{key:1,label:"公司域名"},{default:s(()=>[u(o(n.value.company_domain),1)]),_:1})):y("",!0),n.value.company_type?(i(),c(_,{key:2,label:"公司类型"},{default:s(()=>[l(p,{size:"small"},{default:s(()=>[u(o(n.value.company_type),1)]),_:1})]),_:1})):y("",!0),n.value.carrier_name?(i(),c(_,{key:3,label:"运营商"},{default:s(()=>[u(o(n.value.carrier_name),1)]),_:1})):y("",!0),n.value.carrier_mcc?(i(),c(_,{key:4,label:"MCC"},{default:s(()=>[u(o(n.value.carrier_mcc),1)]),_:1})):y("",!0),n.value.carrier_mnc?(i(),c(_,{key:5,label:"MNC"},{default:s(()=>[u(o(n.value.carrier_mnc),1)]),_:1})):y("",!0)]),_:1})])):y("",!0),n.value.abuse_email?(i(),r("div",wl,[e[103]||(e[103]=t("h4",{class:"section-title"},"滥用举报联系信息",-1)),l(T,{column:2,border:"",size:"default"},{default:s(()=>[n.value.abuse_name?(i(),c(_,{key:0,label:"联系人"},{default:s(()=>[u(o(n.value.abuse_name),1)]),_:1})):y("",!0),n.value.abuse_email?(i(),c(_,{key:1,label:"邮箱"},{default:s(()=>[t("a",{href:`mailto:${n.value.abuse_email}`},o(n.value.abuse_email),9,Ql)]),_:1})):y("",!0),n.value.abuse_phone?(i(),c(_,{key:2,label:"电话"},{default:s(()=>[u(o(n.value.abuse_phone),1)]),_:1})):y("",!0),n.value.abuse_country?(i(),c(_,{key:3,label:"国家"},{default:s(()=>[u(o(n.value.abuse_country),1)]),_:1})):y("",!0),n.value.abuse_address?(i(),c(_,{key:4,label:"地址",span:2},{default:s(()=>[u(o(n.value.abuse_address),1)]),_:1})):y("",!0),n.value.abuse_network?(i(),c(_,{key:5,label:"网络范围",span:2},{default:s(()=>[u(o(n.value.abuse_network),1)]),_:1})):y("",!0)]),_:1})])):y("",!0),n.value.domains_total?(i(),r("div",Yl,[e[104]||(e[104]=t("h4",{class:"section-title"},"其他信息",-1)),l(T,{column:2,border:"",size:"default"},{default:s(()=>[l(_,{label:"关联域名总数"},{default:s(()=>[u(o(n.value.domains_total),1)]),_:1})]),_:1})])):y("",!0),t("div",Hl,[e[115]||(e[115]=t("h4",{class:"section-title"},"IP 特征标识",-1)),l(T,{column:3,border:"",size:"default"},{default:s(()=>[l(_,{label:"匿名 IP"},{default:s(()=>[n.value.is_anonymous?(i(),c(p,{key:0,type:"danger",size:"small"},{default:s(()=>[...e[105]||(e[105]=[u("是 (VPN/Proxy)",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[106]||(e[106]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"托管 IP"},{default:s(()=>[n.value.is_hosting?(i(),c(p,{key:0,type:"warning",size:"small"},{default:s(()=>[...e[107]||(e[107]=[u("是 (数据中心)",-1)])]),_:1})):(i(),c(p,{key:1,type:"success",size:"small"},{default:s(()=>[...e[108]||(e[108]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"移动网络"},{default:s(()=>[n.value.is_mobile?(i(),c(p,{key:0,type:"primary",size:"small"},{default:s(()=>[...e[109]||(e[109]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"info",size:"small"},{default:s(()=>[...e[110]||(e[110]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"任播 IP"},{default:s(()=>[n.value.is_anycast?(i(),c(p,{key:0,type:"info",size:"small"},{default:s(()=>[...e[111]||(e[111]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"info",size:"small"},{default:s(()=>[...e[112]||(e[112]=[u("否",-1)])]),_:1}))]),_:1}),l(_,{label:"卫星网络"},{default:s(()=>[n.value.is_satellite?(i(),c(p,{key:0,type:"info",size:"small"},{default:s(()=>[...e[113]||(e[113]=[u("是",-1)])]),_:1})):(i(),c(p,{key:1,type:"info",size:"small"},{default:s(()=>[...e[114]||(e[114]=[u("否",-1)])]),_:1}))]),_:1})]),_:1})]),t("div",Jl,[e[116]||(e[116]=t("h4",{class:"section-title"},"访问信息",-1)),l(T,{column:1,border:"",size:"default"},{default:s(()=>[l(_,{label:"访问页面"},{default:s(()=>[n.value.access_address?(i(),r("div",Xl,[l(ge,{href:n.value.access_address,target:"_blank",type:"primary",size:"small"},{default:s(()=>[u(o(n.value.access_address),1)]),_:1},8,["href"])])):(i(),r("span",Zl,"--"))]),_:1}),l(_,{label:"来源页面"},{default:s(()=>[n.value.referer?(i(),r("div",ea,[l(ge,{href:n.value.referer,target:"_blank",type:"primary",size:"small"},{default:s(()=>[u(o(n.value.referer),1)]),_:1},8,["href"])])):(i(),r("span",sa,"--"))]),_:1})]),_:1})])])):y("",!0)]),_:1},8,["modelValue"]),l(Q,{modelValue:d.timelineDialogVisible,"onUpdate:modelValue":e[13]||(e[13]=a=>d.timelineDialogVisible=a),title:"用户行为轨迹",width:"800px","close-on-click-modal":!1},{default:s(()=>[ue((i(),r("div",ta,[d.currentTimeline?(i(),r("div",la,[t("div",aa,[l(T,{column:2,size:"small",border:""},{default:s(()=>[l(_,{label:"Session ID"},{default:s(()=>[l(Y,{size:"small",type:"info"},{default:s(()=>[u(o(d.currentTimeline.sessionId),1)]),_:1})]),_:1}),l(_,{label:"数据来源"},{default:s(()=>[l(p,{type:d.currentTimeline.source==="redis"?"success":"info",size:"small"},{default:s(()=>[u(o(d.currentTimeline.source==="redis"?"Redis (实时)":"MySQL (历史)"),1)]),_:1},8,["type"])]),_:1}),l(_,{label:"进入时间"},{default:s(()=>[u(o(d.currentTimeline.enterTime),1)]),_:1}),l(_,{label:"离开时间"},{default:s(()=>[u(o(d.currentTimeline.exitTime||"未离开"),1)]),_:1}),l(_,{label:"停留时长"},{default:s(()=>[l(Y,{type:"primary"},{default:s(()=>[u(o(d.currentTimeline.durationText),1)]),_:1})]),_:1}),l(_,{label:"操作次数"},{default:s(()=>[l(Y,{type:"warning"},{default:s(()=>[u(o(d.currentTimeline.actions.length)+" 次",1)]),_:1})]),_:1})]),_:1})]),t("div",ia,[l(Ge,null,{default:s(()=>[(i(!0),r(H,null,J(d.currentTimeline.actions,a=>(i(),c(je,{key:a.sequence,timestamp:a.time,type:d.getActionType(a.type),placement:"top"},{default:s(()=>[t("div",na,[t("div",oa,[l(p,{type:d.getActionTagType(a.type),size:"small"},{default:s(()=>[u(o(a.typeName),1)]),_:2},1032,["type"]),t("span",da,o(a.description),1)]),a.detail?(i(),r("div",ua,[l(Y,{size:"small",type:"info"},{default:s(()=>[u(" 详情: "+o(JSON.stringify(a.detail)),1)]),_:2},1024)])):y("",!0)])]),_:2},1032,["timestamp","type"]))),128))]),_:1})])])):(i(),c(We,{key:1,description:"暂无轨迹数据"}))])),[[oe,d.timelineLoading]])]),_:1},8,["modelValue"]),l(Q,{modelValue:U.value,"onUpdate:modelValue":e[16]||(e[16]=a=>U.value=a),title:"导出访客IP",width:"400px"},{footer:s(()=>[l(P,{onClick:e[15]||(e[15]=a=>U.value=!1)},{default:s(()=>[...e[117]||(e[117]=[u("取消",-1)])]),_:1}),l(P,{type:"primary",onClick:Ee,loading:F.value},{default:s(()=>[...e[118]||(e[118]=[u("确定导出",-1)])]),_:1},8,["loading"])]),default:s(()=>[l(ye,{"label-width":"100px"},{default:s(()=>[l(g,{label:"时间范围"},{default:s(()=>[l($,{modelValue:B.value,"onUpdate:modelValue":e[14]||(e[14]=a=>B.value=a),placeholder:"请选择天数",style:{width:"100%"}},{default:s(()=>[l(m,{label:"最近1天",value:1}),l(m,{label:"最近3天",value:3}),l(m,{label:"最近7天",value:7}),l(m,{label:"最近15天",value:15}),l(m,{label:"最近30天",value:30}),l(m,{label:"最近60天",value:60}),l(m,{label:"最近90天",value:90})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),va=ns(ra,[["__scopeId","data-v-350f55ce"]]);export{va as default};
